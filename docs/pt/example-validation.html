<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valida√ß√£o Avan√ßada - Vanilla Smart Select</title>
  <link rel="stylesheet" href="../css/docs.css">
  <link rel="stylesheet" href="../css/vanilla-smart-select.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
  <div class="docs-container">
    <aside class="docs-sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
          <div class="sidebar-logo-icon">VS</div>
          <div class="sidebar-logo-text">
            <div class="sidebar-logo-title">Vanilla Smart Select</div>
            <div class="sidebar-logo-subtitle">v1.0.1</div>
          </div>
        </a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <div class="nav-section-title">Introdu√ß√£o</div>
          <ul class="nav-links">
            <li><a href="index.html" class="nav-link">Home</a></li>
            <li><a href="getting-started.html" class="nav-link">Getting Started</a></li>
          </ul>
        </div>
        <div class="nav-section">
          <div class="nav-section-title">Recursos</div>
          <ul class="nav-links">
            <li><a href="api-reference.html" class="nav-link">API Reference</a></li>
            <li><a href="configuration.html" class="nav-link">Configura√ß√£o</a></li>
            <li><a href="events.html" class="nav-link">Eventos</a></li>
          </ul>
        </div>
        <div class="nav-section">
          <div class="nav-section-title">Exemplos</div>
          <ul class="nav-links">
            <li><a href="example-basic.html" class="nav-link">B√°sico</a></li>
            <li><a href="example-api-programmatic.html" class="nav-link">API Program√°tica</a></li>
            <li><a href="example-ajax-basic.html" class="nav-link">AJAX B√°sico</a></li>
            <li><a href="example-tags.html" class="nav-link">Tags</a></li>
            <li><a href="example-pagination.html" class="nav-link">Pagina√ß√£o</a></li>
            <li><a href="example-max-selection.html" class="nav-link">Limite de Sele√ß√£o</a></li>
            <li><a href="example-validation.html" class="nav-link active">Valida√ß√£o Avan√ßada</a></li>
            <li><a href="example-templates.html" class="nav-link">Templates</a></li>
            <li><a href="example-i18n.html" class="nav-link">i18n</a></li>
            <li><a href="example-bootstrap.html" class="nav-link">Bootstrap</a></li>
          </ul>
        </div>
      </nav>
    </aside>
    <main class="docs-main">
      <header class="docs-topbar">
        <button class="mobile-menu-toggle" aria-label="Toggle menu">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
        <div class="topbar-actions">
          <div class="language-switcher">
            <a href="example-validation.html" class="lang-link active">üáßüá∑ PT</a>
            <span class="lang-separator">|</span>
            <a href="../en/example-validation.html" class="lang-link">üá∫üá∏ EN</a>
          </div>
          <a href="https://github.com/ailtonocchi/vanilla-smart-select" class="topbar-btn" target="_blank" rel="noopener noreferrer">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            GitHub
          </a>
        </div>
      </header>
      <div class="docs-content">
          <h1>Valida√ß√£o Avan√ßada</h1>
        <section class="section-mb-lg">
          <p class="lead">
            A valida√ß√£o HTML5 nativa funciona automaticamente com o VanillaSmartSelect. O select original permanece 
            sincronizado, permitindo usar atributos padr√£o como <code>required</code> sem nenhum c√≥digo adicional.
          </p>
        </section>

        <!-- Example: Form Validation -->
        <section class="section-mb-lg">
          <h2>Formul√°rio com Valida√ß√£o HTML5</h2>
          <p>Exemplo completo de formul√°rio com campos obrigat√≥rios e valida√ß√£o nativa do navegador.</p>

          <div class="demo-container">
            <form id="customForm">
              <div style="margin-bottom: 20px;">
                <label for="department" class="demo-label">Departamento: *</label>
                <select id="department" required>
                  <option value="">Selecione...</option>
                  <option value="ti">TI</option>
                  <option value="rh">RH</option>
                  <option value="vendas">Vendas</option>
                  <option value="marketing">Marketing</option>
                </select>
              </div>

              <div style="margin-bottom: 20px;">
                <label for="level" class="demo-label">N√≠vel: *</label>
                <select id="level" required>
                  <option value="">Selecione...</option>
                  <option value="junior">J√∫nior</option>
                  <option value="pleno">Pleno</option>
                  <option value="senior">S√™nior</option>
                </select>
              </div>

              <div style="margin-bottom: 20px;">
                <label for="shift" class="demo-label">Turno:</label>
                <select id="shift">
                  <option value="">Selecione...</option>
                  <option value="morning">Manh√£</option>
                  <option value="afternoon">Tarde</option>
                  <option value="night">Noite</option>
                </select>
              </div>

              <button type="submit" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
                Enviar
              </button>
            </form>

            <div id="result" style="padding: 15px; border-radius: 4px; margin-top: 15px; display: none;"></div>
            <details class="code-details">
            <summary>Ver c√≥digo</summary>
            
            <div class="code-example">
              <h3>HTML</h3>
              <pre><code class="language-html">&lt;form id="customForm"&gt;
  &lt;div&gt;
    &lt;label for="department"&gt;Departamento: *&lt;/label&gt;
    &lt;select id="department" required&gt;
      &lt;option value=""&gt;Selecione...&lt;/option&gt;
      &lt;option value="ti"&gt;TI&lt;/option&gt;
      &lt;option value="rh"&gt;RH&lt;/option&gt;
      &lt;option value="vendas"&gt;Vendas&lt;/option&gt;
      &lt;option value="marketing"&gt;Marketing&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;div&gt;
    &lt;label for="level"&gt;N√≠vel: *&lt;/label&gt;
    &lt;select id="level" required&gt;
      &lt;option value=""&gt;Selecione...&lt;/option&gt;
      &lt;option value="junior"&gt;J√∫nior&lt;/option&gt;
      &lt;option value="pleno"&gt;Pleno&lt;/option&gt;
      &lt;option value="senior"&gt;S√™nior&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;div&gt;
    &lt;label for="shift"&gt;Turno:&lt;/label&gt;
    &lt;select id="shift"&gt;
      &lt;option value=""&gt;Selecione...&lt;/option&gt;
      &lt;option value="morning"&gt;Manh√£&lt;/option&gt;
      &lt;option value="afternoon"&gt;Tarde&lt;/option&gt;
      &lt;option value="night"&gt;Noite&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;</code></pre>
          </div>

          <div class="code-example">
            <h3>JavaScript</h3>
            <pre><code class="language-javascript">// Inicializa os selects
new VanillaSmartSelect('#department', { searchable: true });
new VanillaSmartSelect('#level', { searchable: true });
new VanillaSmartSelect('#shift', { searchable: true });

// Valida√ß√£o customizada simples
const form = document.getElementById('customForm');
const resultDiv = document.getElementById('result');

form.addEventListener('submit', (e) => {
  e.preventDefault();

  if (form.checkValidity()) {
    // V√°lido - processar
    const formData = new FormData(form);
    const data = Object.fromEntries(formData);

    resultDiv.className = 'result success';
    resultDiv.style.display = 'block';
    resultDiv.style.background = '#d4edda';
    resultDiv.style.border = '1px solid #28a745';
    resultDiv.style.color = '#155724';
    resultDiv.innerHTML = `
      &lt;strong&gt;‚úì Formul√°rio V√°lido!&lt;/strong&gt;&lt;br&gt;      
    `;

    console.log('Dados v√°lidos:', data);
  } else {
    // Inv√°lido - mostrar erro
    form.reportValidity(); // Mensagem nativa do navegador

    resultDiv.style.display = 'block';
    resultDiv.style.background = '#f8d7da';
    resultDiv.style.border = '1px solid #dc3545';
    resultDiv.style.color = '#721c24';
    resultDiv.innerHTML = '&lt;strong&gt;‚úó Erro!&lt;/strong&gt; Preencha todos os campos obrigat√≥rios.';
  }
});</code></pre>
            </div>
            </details>
          </div>
        </section>

        <!-- Advanced Validation -->
        <section class="section-mb-lg">
          <h2>Valida√ß√£o Customizada com API HTML5</h2>
          <p>Use a API de valida√ß√£o do HTML5 para definir regras e mensagens de erro customizadas.</p>

          <div class="demo-container">
            <form id="customValidationForm">
              <div style="margin-bottom: 20px;">
                <label for="custom-validation" class="demo-label">Selecione uma prioridade: *</label>
                <select id="custom-validation" required>
                  <option value="">Selecione...</option>
                  <option value="low">Baixa</option>
                  <option value="medium">M√©dia</option>
                  <option value="high">Alta</option>
                  <option value="critical">Cr√≠tica</option>
                </select>
                <small style="display: block; margin-top: 5px; color: #666;">
                  Apenas "Alta" ou "Cr√≠tica" s√£o aceitas
                </small>
              </div>

              <div style="display: flex; gap: 10px;">
                <button type="submit" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
                  Enviar
                </button>
                <button type="button" id="checkValidityBtn" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
                  Verificar Validade
                </button>
                <button type="button" id="showErrorBtn" style="padding: 10px 20px; background: #ffc107; color: #000; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
                  Mostrar Mensagem
                </button>
              </div>
            </form>

            <div id="custom-validation-result" style="padding: 15px; border-radius: 4px; margin-top: 15px; display: none;"></div>
            <details class="code-details">
            <summary>Ver c√≥digo</summary>
            
            <h3>HTML</h3>
            <pre><code class="language-html">&lt;form id="customValidationForm"&gt;
  &lt;div&gt;
    &lt;label for="custom-validation"&gt;Selecione uma prioridade: *&lt;/label&gt;
    &lt;select id="custom-validation" required&gt;
      &lt;option value=""&gt;Selecione...&lt;/option&gt;
      &lt;option value="low"&gt;Baixa&lt;/option&gt;
      &lt;option value="medium"&gt;M√©dia&lt;/option&gt;
      &lt;option value="high"&gt;Alta&lt;/option&gt;
      &lt;option value="critical"&gt;Cr√≠tica&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;button type="submit"&gt;Enviar&lt;/button&gt;
  &lt;button type="button" id="checkValidityBtn"&gt;Verificar Validade&lt;/button&gt;
  &lt;button type="button" id="showErrorBtn"&gt;Mostrar Mensagem&lt;/button&gt;
&lt;/form&gt;</code></pre>

          <h3>JavaScript</h3>
          <pre><code class="language-javascript">const selectElement = document.querySelector('#custom-validation');
const select = new VanillaSmartSelect('#custom-validation');

// Validar quando o valor mudar
selectElement.addEventListener('change', () => {
  const value = selectElement.value;
  
  // Apenas "high" ou "critical" s√£o v√°lidos
  if (value && value !== 'high' && value !== 'critical') {
    selectElement.setCustomValidity('Apenas prioridades "Alta" ou "Cr√≠tica" s√£o permitidas');
  } else {
    selectElement.setCustomValidity(''); // Limpa o erro
  }
});

// Verificar validade programaticamente
document.getElementById('checkValidityBtn').addEventListener('click', () => {
  if (selectElement.checkValidity()) {
    console.log('‚úì Campo v√°lido!');
  } else {
    console.log('‚úó Campo inv√°lido!');
  }
});

// Mostrar mensagem de valida√ß√£o
document.getElementById('showErrorBtn').addEventListener('click', () => {
  selectElement.reportValidity(); // Mostra mensagem nativa do navegador
});</code></pre>
            </details>
          </div>

        </section>

        <!-- Use Cases -->
        <section class="section-mb-lg">
          <h2>Valida√ß√£o de Depend√™ncia Entre Campos</h2>
          <p>Campo "Cidade" s√≥ pode ser selecionado ap√≥s escolher um "Estado".</p>

          <div class="demo-container">
            <form id="dependencyForm">
              <div style="margin-bottom: 20px;">
                <label for="state" class="demo-label">Estado: *</label>
                <select id="state" required>
                  <option value="">Selecione um estado...</option>
                  <option value="sp">S√£o Paulo</option>
                  <option value="rj">Rio de Janeiro</option>
                  <option value="mg">Minas Gerais</option>
                  <option value="rs">Rio Grande do Sul</option>
                </select>
              </div>

              <div style="margin-bottom: 20px;">
                <label for="city" class="demo-label">Cidade: *</label>
                <select id="city" required disabled>
                  <option value="">Selecione um estado primeiro...</option>
                </select>
              </div>

              <button type="submit" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
                Enviar
              </button>
            </form>

            <div id="dependency-result" style="padding: 15px; border-radius: 4px; margin-top: 15px; display: none;"></div>
            <details class="code-details">
            <summary>Ver c√≥digo</summary>
            
            <h3>HTML</h3>
            <pre><code class="language-html">&lt;form id="dependencyForm"&gt;
  &lt;div&gt;
    &lt;label for="state"&gt;Estado: *&lt;/label&gt;
    &lt;select id="state" required&gt;
      &lt;option value=""&gt;Selecione um estado...&lt;/option&gt;
      &lt;option value="sp"&gt;S√£o Paulo&lt;/option&gt;
      &lt;option value="rj"&gt;Rio de Janeiro&lt;/option&gt;
      &lt;option value="mg"&gt;Minas Gerais&lt;/option&gt;
      &lt;option value="rs"&gt;Rio Grande do Sul&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;div&gt;
    &lt;label for="city"&gt;Cidade: *&lt;/label&gt;
    &lt;select id="city" required disabled&gt;
      &lt;option value=""&gt;Selecione um estado primeiro...&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;</code></pre>

          <h3>JavaScript</h3>
          <pre><code class="language-javascript">// Inicializar selects
new VanillaSmartSelect('#state');
new VanillaSmartSelect('#city');

// Dados das cidades por estado
const citiesByState = {
  sp: ['S√£o Paulo', 'Campinas', 'Santos', 'Ribeir√£o Preto'],
  rj: ['Rio de Janeiro', 'Niter√≥i', 'Petr√≥polis', 'Cabo Frio'],
  mg: ['Belo Horizonte', 'Uberl√¢ndia', 'Contagem', 'Juiz de Fora'],
  rs: ['Porto Alegre', 'Caxias do Sul', 'Pelotas', 'Canoas']
};

const stateSelect = document.querySelector('#state');
const citySelect = document.querySelector('#city');

stateSelect.addEventListener('change', () => {
  if (!stateSelect.value) {
    citySelect.disabled = true;
    citySelect.innerHTML = '&lt;option value=""&gt;Selecione um estado primeiro...&lt;/option&gt;';
    citySelect.setCustomValidity('Selecione um estado primeiro');
  } else {
    citySelect.disabled = false;
    citySelect.setCustomValidity('');
    
    // Preencher cidades do estado selecionado
    const cities = citiesByState[stateSelect.value];
    citySelect.innerHTML = '&lt;option value=""&gt;Selecione uma cidade...&lt;/option&gt;' +
      cities.map(city => `&lt;option value="${city}"&gt;${city}&lt;/option&gt;`).join('');
  }
});</code></pre>
            </details>
          </div>
        </section>

        <section class="section-mb-lg">
          <h2>Valida√ß√£o Customizada com Regex</h2>
          <p>Validar se o c√≥digo do produto segue um padr√£o espec√≠fico (XXX-9999).</p>

          <div class="demo-container">
            <form id="regexForm">
              <div style="margin-bottom: 20px;">
                <label for="product-code" class="demo-label">C√≥digo do Produto: *</label>
                <select id="product-code" required>
                  <option value="">Selecione um c√≥digo...</option>
                  <option value="ABC-1234">ABC-1234 ‚úì</option>
                  <option value="XYZ-5678">XYZ-5678 ‚úì</option>
                  <option value="DEF-9012">DEF-9012 ‚úì</option>
                  <option value="INVALID">INVALID ‚úó</option>
                  <option value="123-ABC">123-ABC ‚úó</option>
                  <option value="AB-1234">AB-1234 ‚úó</option>
                </select>
                <small style="display: block; margin-top: 5px; color: #666;">
                  Formato v√°lido: 3 letras mai√∫sculas + h√≠fen + 4 n√∫meros (ex: ABC-1234)
                </small>
              </div>

              <button type="submit" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
                Validar
              </button>
            </form>

            <div id="regex-result" style="padding: 15px; border-radius: 4px; margin-top: 15px; display: none;"></div>
            <details class="code-details">
            <summary>Ver c√≥digo</summary>
            
            <h3>HTML</h3>
            <pre><code class="language-html">&lt;form id="regexForm"&gt;
  &lt;div&gt;
    &lt;label for="product-code"&gt;C√≥digo do Produto: *&lt;/label&gt;
    &lt;select id="product-code" required&gt;
      &lt;option value=""&gt;Selecione um c√≥digo...&lt;/option&gt;
      &lt;option value="ABC-1234"&gt;ABC-1234 ‚úì&lt;/option&gt;
      &lt;option value="XYZ-5678"&gt;XYZ-5678 ‚úì&lt;/option&gt;
      &lt;option value="DEF-9012"&gt;DEF-9012 ‚úì&lt;/option&gt;
      &lt;option value="INVALID"&gt;INVALID ‚úó&lt;/option&gt;
      &lt;option value="123-ABC"&gt;123-ABC ‚úó&lt;/option&gt;
      &lt;option value="AB-1234"&gt;AB-1234 ‚úó&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;

  &lt;button type="submit"&gt;Validar&lt;/button&gt;
&lt;/form&gt;</code></pre>

          <h3>JavaScript</h3>
          <pre><code class="language-javascript">// Inicializar select
new VanillaSmartSelect('#product-code');

const codeSelect = document.querySelector('#product-code');

// Validar quando o valor mudar
codeSelect.addEventListener('change', () => {
  const value = codeSelect.value;
  const pattern = /^[A-Z]{3}-\d{4}$/; // Ex: ABC-1234

  if (value && !pattern.test(value)) {
    codeSelect.setCustomValidity('C√≥digo inv√°lido. Use o formato: XXX-9999');
  } else {
    codeSelect.setCustomValidity('');
  }
});</code></pre>
            </details>
          </div>
        </section>

        <!-- How It Works -->
        <section class="section-mb-lg">
          <h2>Como Funciona</h2>
          
          <div class="info-callout">
            <strong>üìã Princ√≠pios da Valida√ß√£o:</strong>
            <ul style="margin: 10px 0 0 0; padding-left: 20px;">
              <li><strong>Select Original Sincronizado:</strong> O VanillaSmartSelect mant√©m o select original sempre atualizado</li>
              <li><strong>Atributo <code>required</code>:</strong> Funciona nativamente sem c√≥digo adicional</li>
              <li><strong>Borda Vermelha Autom√°tica:</strong> Feedback visual quando campo obrigat√≥rio est√° vazio</li>
              <li><strong>form.checkValidity():</strong> Valida todos os campos de uma vez</li>
              <li><strong>form.reportValidity():</strong> Mostra mensagens de erro nativas do navegador</li>
            </ul>
          </div>
        </section>

        <!-- Integration -->
        <section class="section-mb-lg">
          <h2>Integra√ß√£o com Bibliotecas de Valida√ß√£o</h2>
          <p>Como o select original permanece sincronizado, voc√™ pode usar qualquer biblioteca de valida√ß√£o que trabalhe com o DOM:</p>

          <div class="table-responsive">
            <table>
              <thead>
                <tr>
                  <th>Biblioteca</th>
                  <th>Compatibilidade</th>
                  <th>Observa√ß√£o</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>HTML5 Validation</strong></td>
                  <td>‚úÖ Total</td>
                  <td>Funciona nativamente, sem configura√ß√£o</td>
                </tr>
                <tr>
                  <td><strong>Vuelidate</strong></td>
                  <td>‚úÖ Total</td>
                  <td>Acessa o select original diretamente</td>
                </tr>
                <tr>
                  <td><strong>Yup</strong></td>
                  <td>‚úÖ Total</td>
                  <td>Valida√ß√£o baseada em schema funciona perfeitamente</td>
                </tr>
                <tr>
                  <td><strong>Joi</strong></td>
                  <td>‚úÖ Total</td>
                  <td>L√™ valores do FormData automaticamente</td>
                </tr>
                <tr>
                  <td><strong>Zod</strong></td>
                  <td>‚úÖ Total</td>
                  <td>TypeScript-first, funciona com DOM</td>
                </tr>
                <tr>
                  <td><strong>jQuery Validation</strong></td>
                  <td>‚úÖ Total</td>
                  <td>Valida o select original, n√£o o wrapper</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-callout info-callout-success">
            <strong>‚úÖ Por que funciona:</strong> O VanillaSmartSelect √© um wrapper visual que mant√©m o 
            select HTML original no DOM e sempre sincronizado. Bibliotecas de valida√ß√£o podem acessar 
            e validar o select original normalmente.
          </div>
        </section>

        <!-- Best Practices -->
        <section class="section-mb-lg">
          <h2>Boas Pr√°ticas</h2>

          <div class="info-callout info-callout-info">
            <strong>üìå Recomenda√ß√µes:</strong>
            <ul style="margin: 10px 0 0 0; padding-left: 20px;">
              <li><strong>Use HTML5 Primeiro:</strong> Na maioria dos casos, valida√ß√£o nativa √© suficiente</li>
              <li><strong>Feedback Visual:</strong> Campos obrigat√≥rios j√° mostram borda vermelha automaticamente</li>
              <li><strong>Mensagens Claras:</strong> Use <code>setCustomValidity()</code> para mensagens espec√≠ficas</li>
              <li><strong>Valide no Submit:</strong> Sempre valide no evento submit do formul√°rio</li>
              <li><strong>Sincroniza√ß√£o Garantida:</strong> O select original est√° sempre atualizado</li>
              <li><strong>Escala Bem:</strong> Mesma abordagem funciona para 10 ou 100 campos</li>
            </ul>
          </div>
        </section>

        <!-- Navigation -->
        <section class="section-mb-lg">
          <div style="display: flex; justify-content: space-between; padding-top: 20px; border-top: 1px solid #e5e7eb;">
            <a href="example-max-selection.html" class="btn btn-secondary">‚Üê Limite de Sele√ß√£o</a>
            <a href="example-templates.html" class="btn btn-secondary">Templates ‚Üí</a>
          </div>
        </section>
      </div>
    </main>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="../js/vanilla-smart-select.min.js"></script>
  <script src="../js/docs.js"></script>
  
  <script>
    // Inicializa os selects
    new VanillaSmartSelect('#department', { searchable: true });
    new VanillaSmartSelect('#level', { searchable: true });
    new VanillaSmartSelect('#shift', { searchable: true });

    // Valida√ß√£o customizada simples
    const form = document.getElementById('customForm');
    const resultDiv = document.getElementById('result');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      if (form.checkValidity()) {
        // V√°lido - processar
        const formData = new FormData(form);
        const data = Object.fromEntries(formData);

        resultDiv.style.display = 'block';
        resultDiv.style.background = '#d4edda';
        resultDiv.style.border = '1px solid #28a745';
        resultDiv.style.color = '#155724';
        resultDiv.innerHTML = `
          <strong>‚úì Formul√°rio V√°lido!</strong>          
        `;

        console.log('Dados v√°lidos:', data);
      } else {
        // Inv√°lido - mostrar erro
        form.reportValidity(); // Mensagem nativa do navegador

        resultDiv.style.display = 'block';
        resultDiv.style.background = '#f8d7da';
        resultDiv.style.border = '1px solid #dc3545';
        resultDiv.style.color = '#721c24';
        resultDiv.innerHTML = '<strong>‚úó Erro!</strong> Preencha todos os campos obrigat√≥rios.';
      }
    });

    console.log('‚úì Validation example ready!');

    // Example 2: Valida√ß√£o Customizada com API HTML5
    const customValidationSelect = new VanillaSmartSelect('#custom-validation');
    const customSelectElement = document.querySelector('#custom-validation');
    const customValidationForm = document.getElementById('customValidationForm');
    const customValidationResult = document.getElementById('custom-validation-result');

    // Validar quando o valor mudar
    customSelectElement.addEventListener('change', () => {
      const value = customSelectElement.value;
      
      // Apenas "high" ou "critical" s√£o v√°lidos
      if (value && value !== 'high' && value !== 'critical') {
        customSelectElement.setCustomValidity('Apenas prioridades "Alta" ou "Cr√≠tica" s√£o permitidas');
        
        customValidationResult.style.display = 'block';
        customValidationResult.style.background = '#fff3cd';
        customValidationResult.style.border = '1px solid #ffc107';
        customValidationResult.style.color = '#856404';
        customValidationResult.innerHTML = `
          <strong>‚ö†Ô∏è Valida√ß√£o Customizada:</strong><br>
          O valor "${customSelectElement.options[customSelectElement.selectedIndex].text}" n√£o √© aceito.<br>
          <small>Apenas "Alta" ou "Cr√≠tica" s√£o permitidas.</small>
        `;
      } else {
        customSelectElement.setCustomValidity(''); // Limpa o erro
        
        if (value) {
          customValidationResult.style.display = 'block';
          customValidationResult.style.background = '#d4edda';
          customValidationResult.style.border = '1px solid #28a745';
          customValidationResult.style.color = '#155724';
          customValidationResult.innerHTML = `
            <strong>‚úì Valor V√°lido:</strong> ${customSelectElement.options[customSelectElement.selectedIndex].text}
          `;
        } else {
          customValidationResult.style.display = 'none';
        }
      }
    });

    // Verificar validade programaticamente
    document.getElementById('checkValidityBtn').addEventListener('click', () => {
      if (customSelectElement.checkValidity()) {
        customValidationResult.style.display = 'block';
        customValidationResult.style.background = '#d4edda';
        customValidationResult.style.border = '1px solid #28a745';
        customValidationResult.style.color = '#155724';
        customValidationResult.innerHTML = '<strong>‚úì checkValidity():</strong> Campo v√°lido!';
        console.log('‚úì Campo v√°lido!');
      } else {
        customValidationResult.style.display = 'block';
        customValidationResult.style.background = '#f8d7da';
        customValidationResult.style.border = '1px solid #dc3545';
        customValidationResult.style.color = '#721c24';
        customValidationResult.innerHTML = '<strong>‚úó checkValidity():</strong> Campo inv√°lido!';
        console.log('‚úó Campo inv√°lido!');
      }
    });

    // Mostrar mensagem de valida√ß√£o
    document.getElementById('showErrorBtn').addEventListener('click', () => {
      customSelectElement.reportValidity(); // Mostra mensagem nativa do navegador
    });

    // Submit do formul√°rio
    customValidationForm.addEventListener('submit', (e) => {
      e.preventDefault();

      if (customValidationForm.checkValidity()) {
        customValidationResult.style.display = 'block';
        customValidationResult.style.background = '#d4edda';
        customValidationResult.style.border = '1px solid #28a745';
        customValidationResult.style.color = '#155724';
        customValidationResult.innerHTML = `
          <strong>‚úì Formul√°rio Enviado!</strong><br>
          Prioridade: ${customSelectElement.options[customSelectElement.selectedIndex].text}
        `;
      } else {
        customValidationForm.reportValidity();
      }
    });

    // Example 3: Valida√ß√£o de Depend√™ncia Entre Campos
    const stateVS = new VanillaSmartSelect('#state');
    let cityVS = new VanillaSmartSelect('#city');

    const citiesByState = {
      sp: ['S√£o Paulo', 'Campinas', 'Santos', 'Ribeir√£o Preto'],
      rj: ['Rio de Janeiro', 'Niter√≥i', 'Petr√≥polis', 'Cabo Frio'],
      mg: ['Belo Horizonte', 'Uberl√¢ndia', 'Contagem', 'Juiz de Fora'],
      rs: ['Porto Alegre', 'Caxias do Sul', 'Pelotas', 'Canoas']
    };

    const stateSelect = document.querySelector('#state');
    const citySelect = document.querySelector('#city');
    const dependencyForm = document.getElementById('dependencyForm');
    const dependencyResult = document.getElementById('dependency-result');

    stateSelect.addEventListener('change', () => {
      // Limpar a sele√ß√£o atual da cidade
      citySelect.value = '';
      
      if (!stateSelect.value) {
        citySelect.disabled = true;
        citySelect.innerHTML = '<option value="">Selecione um estado primeiro...</option>';
        citySelect.setCustomValidity('Selecione um estado primeiro');
        
        // Destruir e recriar com disabled
        if (cityVS) {
          cityVS.destroy();
        }
        cityVS = new VanillaSmartSelect('#city');
      } else {
        // Preencher cidades do estado selecionado
        const cities = citiesByState[stateSelect.value];
        citySelect.innerHTML = '<option value="">Selecione uma cidade...</option>' +
          cities.map(city => `<option value="${city}">${city}</option>`).join('');
        
        citySelect.disabled = false;
        citySelect.setCustomValidity('');
        
        // Destruir e recriar para atualizar as op√ß√µes
        if (cityVS) {
          cityVS.destroy();
        }
        cityVS = new VanillaSmartSelect('#city');
      }
    });

    dependencyForm.addEventListener('submit', (e) => {
      e.preventDefault();

      if (dependencyForm.checkValidity()) {
        dependencyResult.style.display = 'block';
        dependencyResult.style.background = '#d4edda';
        dependencyResult.style.border = '1px solid #28a745';
        dependencyResult.style.color = '#155724';
        dependencyResult.innerHTML = `
          <strong>‚úì Formul√°rio V√°lido!</strong><br>
          Estado: ${stateSelect.options[stateSelect.selectedIndex].text}<br>
          Cidade: ${citySelect.value}
        `;
      } else {
        dependencyForm.reportValidity();
        
        dependencyResult.style.display = 'block';
        dependencyResult.style.background = '#f8d7da';
        dependencyResult.style.border = '1px solid #dc3545';
        dependencyResult.style.color = '#721c24';
        dependencyResult.innerHTML = '<strong>‚úó Erro!</strong> Preencha todos os campos obrigat√≥rios.';
      }
    });

    // Example 3: Valida√ß√£o Customizada com Regex
    new VanillaSmartSelect('#product-code');

    const codeSelect = document.querySelector('#product-code');
    const regexForm = document.getElementById('regexForm');
    const regexResult = document.getElementById('regex-result');

    codeSelect.addEventListener('change', () => {
      const value = codeSelect.value;
      const pattern = /^[A-Z]{3}-\d{4}$/; // Ex: ABC-1234

      if (value && !pattern.test(value)) {
        codeSelect.setCustomValidity('C√≥digo inv√°lido. Use o formato: XXX-9999');
        regexResult.style.display = 'block';
        regexResult.style.background = '#fff3cd';
        regexResult.style.border = '1px solid #ffc107';
        regexResult.style.color = '#856404';
        regexResult.innerHTML = `
          <strong>‚ö†Ô∏è C√≥digo Inv√°lido:</strong> "${value}"<br>
          <small>O formato correto √©: 3 letras mai√∫sculas + h√≠fen + 4 n√∫meros (ex: ABC-1234)</small>
        `;
      } else {
        codeSelect.setCustomValidity('');
        if (value) {
          regexResult.style.display = 'block';
          regexResult.style.background = '#d4edda';
          regexResult.style.border = '1px solid #28a745';
          regexResult.style.color = '#155724';
          regexResult.innerHTML = `<strong>‚úì C√≥digo V√°lido:</strong> ${value}`;
        } else {
          regexResult.style.display = 'none';
        }
      }
    });

    regexForm.addEventListener('submit', (e) => {
      e.preventDefault();

      if (regexForm.checkValidity()) {
        regexResult.style.display = 'block';
        regexResult.style.background = '#d4edda';
        regexResult.style.border = '1px solid #28a745';
        regexResult.style.color = '#155724';
        regexResult.innerHTML = `<strong>‚úì Formul√°rio Validado!</strong><br>C√≥digo: ${codeSelect.value}`;
      } else {
        regexForm.reportValidity();
      }
    });

    console.log('‚úì All validation examples ready!');
  </script>
</body>
</html>

