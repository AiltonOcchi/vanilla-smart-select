/*!
 * VanillaSmartSelect v1.0.1
 * (c) 2025 Ailton Occhi <ailton.occhi@hotmail.com>
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VanillaSmartSelect={})}(this,function(e){"use strict";class t{constructor(){this._events=new Map}on(e,t){if("function"!=typeof t)throw new TypeError("Event handler must be a function");return this._events.has(e)||this._events.set(e,[]),this._events.get(e).push(t),this}once(e,t){const i=(...s)=>{t(...s),this.off(e,i)};return this.on(e,i)}off(e,t){if(!this._events.has(e))return this;if(!t)return this._events.delete(e),this;const i=this._events.get(e),s=i.indexOf(t);return-1!==s&&i.splice(s,1),0===i.length&&this._events.delete(e),this}emit(e,t){if(!this._events.has(e))return!1;return this._events.get(e).slice().forEach(i=>{try{i(t)}catch(t){console.error(`Error in event handler for "${e}":`,t)}}),!0}trigger(e,t,i=null,s={}){if(!(e&&e instanceof HTMLElement))return console.warn("Cannot trigger event on invalid element"),!1;const n={bubbles:!0,cancelable:!0,detail:i,...s},r=new CustomEvent(t,n);return e.dispatchEvent(r)}removeAllListeners(){this._events.clear()}listenerCount(e){return this._events.has(e)?this._events.get(e).length:0}eventNames(){return Array.from(this._events.keys())}}const i={noResults:"No results found",searching:"Searching...",searchPlaceholder:"Search...",inputTooShort:e=>`Please enter ${e.minimum} or more characters`,inputTooLong:e=>`Please delete ${e.excess} characters`,maximumSelected:e=>`You can only select ${e.maximum} items`,loading:"Loading...",loadingMore:"Loading more results...",errorLoading:"The results could not be loaded",createNewTag:e=>`Create tag: "${e.term}"`,tagAdded:e=>`Tag "${e.text}" added`,loadMore:"Load more results",searchLabel:"Search options",clearSelection:"Clear selection",removeItem:e=>`Remove ${e.text}`,selectOptions:"Select options",noResultsAvailable:"No results found",resultsAvailable:{one:"1 result available",other:e=>`${e.count} results available`},selected:e=>`Selected: ${e.text}`},s={noResults:"Nenhum resultado encontrado",searching:"Buscando...",searchPlaceholder:"Buscar...",inputTooShort:e=>`Por favor, digite ${e.minimum} ou mais caracteres`,inputTooLong:e=>`Por favor, delete ${e.excess} caracteres`,maximumSelected:e=>`Você só pode selecionar ${e.maximum} ${1===e.maximum?"item":"itens"}`,loading:"Carregando...",loadingMore:"Carregando mais resultados...",errorLoading:"Os resultados não puderam ser carregados",createNewTag:e=>`Criar tag: "${e.term}"`,tagAdded:e=>`Tag "${e.text}" adicionada`,loadMore:"Carregar mais resultados",searchLabel:"Buscar opções",clearSelection:"Limpar seleção",removeItem:e=>`Remover ${e.text}`,selectOptions:"Selecionar opções",noResultsAvailable:"Nenhum resultado encontrado",resultsAvailable:{one:"1 resultado disponível",other:e=>`${e.count} resultados disponíveis`},selected:e=>`Selecionado: ${e.text}`},n={noResults:"No se encontraron resultados",searching:"Buscando...",searchPlaceholder:"Buscar...",inputTooShort:e=>`Por favor, ingrese ${e.minimum} o más caracteres`,inputTooLong:e=>`Por favor, elimine ${e.excess} caracteres`,maximumSelected:e=>`Solo puede seleccionar ${e.maximum} ${1===e.maximum?"elemento":"elementos"}`,loading:"Cargando...",loadingMore:"Cargando más resultados...",errorLoading:"Los resultados no se pudieron cargar",createNewTag:e=>`Crear etiqueta: "${e.term}"`,tagAdded:e=>`Etiqueta "${e.text}" agregada`,loadMore:"Cargar más resultados",searchLabel:"Buscar opciones",clearSelection:"Limpiar selección",removeItem:e=>`Eliminar ${e.text}`,selectOptions:"Seleccionar opciones",noResultsAvailable:"No se encontraron resultados",resultsAvailable:{one:"1 resultado disponible",other:e=>`${e.count} resultados disponibles`},selected:e=>`Seleccionado: ${e.text}`},r={en:i,"en-US":i,"en-GB":i,"pt-BR":s,pt:s,es:n,"es-ES":n,"es-MX":n};function a(e){if(!e||"string"!=typeof e)return i;if(r[e])return r[e];const t=e.split("-")[0];return r[t]?r[t]:i}function o(){if(navigator.language&&r[navigator.language])return navigator.language;if(navigator.language){const e=navigator.language.split("-")[0];if(r[e])return e}if(navigator.languages&&navigator.languages.length>0)for(const e of navigator.languages){if(r[e])return e;const t=e.split("-")[0];if(r[t])return t}return"en"}function l(){return Object.keys(r)}function h(e){return!!r[e]||!!r[e.split("-")[0]]}var c={LANGUAGES:r,getLanguage:a,detectBrowserLanguage:o,getAvailableLanguages:l,isLanguageAvailable:h},d=Object.freeze({__proto__:null,LANGUAGES:r,default:c,detectBrowserLanguage:o,getAvailableLanguages:l,getLanguage:a,isLanguageAvailable:h});const u={placeholder:"",theme:"default",width:"100%",containerCssClass:"",dropdownCssClass:"",multiple:!1,searchable:!0,allowClear:!1,disabled:!1,closeOnSelect:!0,data:null,searchMinimumLength:0,searchDelay:250,searchPlaceholder:null,matcher:null,matchStrategy:"contains",templateResult:null,templateSelection:null,escapeMarkup:e=>e,dropdownParent:null,dropdownAutoWidth:!1,dropdownCssClass:"",ajax:null,tags:!1,createTag:e=>{const t=e.term?.trim();return t?{id:t,text:t}:null},insertTag:(e,t)=>{e.unshift(t)},language:a(o()),ariaLabel:null,ariaDescribedBy:null,maximumSelectionLength:0,onOpen:null,onClose:null,onChange:null,onSelect:null,onUnselect:null,onClear:null,debug:!1};class p{constructor(e={},t=u){this._options=this._merge(t,e),this._validate()}_merge(e,t){const i={...e};return Object.keys(t).forEach(e=>{const s=t[e],n=i[e];this._isPlainObject(s)&&this._isPlainObject(n)?i[e]=this._merge(n,s):void 0!==s&&(i[e]=s)}),i}_isPlainObject(e){return null!==e&&"object"==typeof e&&e.constructor===Object}_validate(){if("number"!=typeof this._options.searchDelay||this._options.searchDelay<0)throw new Error("searchDelay must be a non-negative number");if("number"!=typeof this._options.searchMinimumLength||this._options.searchMinimumLength<0)throw new Error("searchMinimumLength must be a non-negative number");if(null!==this._options.matcher&&"function"!=typeof this._options.matcher)throw new Error("matcher must be a function or null");const e=["startsWith","contains","exact"];if(!e.includes(this._options.matchStrategy))throw new Error(`matchStrategy must be one of: ${e.join(", ")}`);if(null!==this._options.templateResult&&"function"!=typeof this._options.templateResult)throw new Error("templateResult must be a function or null");if(null!==this._options.templateSelection&&"function"!=typeof this._options.templateSelection)throw new Error("templateSelection must be a function or null");if("number"!=typeof this._options.maximumSelectionLength||this._options.maximumSelectionLength<0)throw new Error("maximumSelectionLength must be a non-negative number");if("string"!=typeof this._options.theme)throw new Error("theme must be a string");if("string"!=typeof this._options.width)throw new Error('width must be a string (e.g., "100%", "300px")')}get(e){const t=e.split(".");let i=this._options;for(const e of t){if(!i||"object"!=typeof i||!(e in i))return;i=i[e]}return i}set(e,t){const i=e.split("."),s=i.pop();let n=this._options;for(const e of i)n[e]&&"object"==typeof n[e]||(n[e]={}),n=n[e];n[s]=t}merge(e){this._options=this._merge(this._options,e),this._validate()}getAll(){return{...this._options}}has(e){return void 0!==this.get(e)}}const m={INIT:"vs:init",DESTROY:"vs:destroy",SELECT:"vs:select",SELECTING:"vs:selecting",UNSELECT:"vs:unselect",UNSELECTING:"vs:unselecting",CHANGE:"vs:change",CLEAR:"vs:clear",CLEARING:"vs:clearing",SELECTION_LIMIT_REACHED:"vs:selectionLimitReached",OPEN:"vs:open",OPENING:"vs:opening",CLOSE:"vs:close",CLOSING:"vs:closing",QUERY:"vs:query",RESULTS:"vs:results",DATA_LOADED:"vs:dataLoaded",AJAX_LOADING:"vs:ajaxLoading",AJAX_SUCCESS:"vs:ajaxSuccess",AJAX_ERROR:"vs:ajaxError",FOCUS:"vs:focus",BLUR:"vs:blur"};function g(e,t={},i=[]){const s=document.createElement(e);Object.entries(t).forEach(([e,t])=>{if("className"===e)s.className=t;else if("dataset"===e)Object.entries(t).forEach(([e,t])=>{s.dataset[e]=t});else if(e.startsWith("on")&&"function"==typeof t){const i=e.substring(2).toLowerCase();s.addEventListener(i,t)}else s.setAttribute(e,t)});return(Array.isArray(i)?i:[i]).forEach(e=>{"string"==typeof e?s.appendChild(document.createTextNode(e)):e instanceof HTMLElement&&s.appendChild(e)}),s}function f(e,t){if(e.closest)return e.closest(t);let i=e;for(;i;){if(i.matches(t))return i;i=i.parentElement}return null}function v(e,t){(Array.isArray(t)?t:[t]).forEach(t=>{t&&e.classList.add(t)})}function _(e,t){(Array.isArray(t)?t:[t]).forEach(t=>{t&&e.classList.remove(t)})}function A(e,t,i){return e.classList.toggle(t,i)}function E(e,t){return e.classList.contains(t)}function b(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function y(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function C(e,t=document){return t.querySelector(e)}function L(e,t=document){return Array.from(t.querySelectorAll(e))}function S(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+i,width:t.width,height:t.height}}function w(e){return{top:e.offsetTop,left:e.offsetLeft}}function T(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function x(e,t){const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();i.top<s.top?t.scrollTop-=s.top-i.top:i.bottom>s.bottom&&(t.scrollTop+=i.bottom-s.bottom)}let O=0;function I(e="vs"){return`${e}-${Date.now()}-${++O}`}function R(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function N(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.childNodes}var M={createElement:g,closest:f,addClass:v,removeClass:_,toggleClass:A,hasClass:E,removeElement:b,emptyElement:y,querySelector:C,querySelectorAll:L,getOffset:S,getPosition:w,isInViewport:T,scrollIntoViewIfNeeded:x,generateUniqueId:I,escapeHtml:R,parseHtml:N},H=Object.freeze({__proto__:null,addClass:v,closest:f,createElement:g,default:M,emptyElement:y,escapeHtml:R,generateUniqueId:I,getOffset:S,getPosition:w,hasClass:E,isInViewport:T,parseHtml:N,querySelector:C,querySelectorAll:L,removeClass:_,removeElement:b,scrollIntoViewIfNeeded:x,toggleClass:A});class k{constructor(e,t){this.instance=e,this.options=t,this.$element=e.element}bind(e){this.container=e}destroy(){}emit(e,t){this.instance&&this.instance.emit&&this.instance.emit(e,t)}trigger(e,t,i){this.instance&&this.instance.trigger&&this.instance.trigger(e,t,i)}}class D extends k{constructor(e,t){super(e,t),this.data=[],this.selection=[]}init(){const e=this.options.get("data");e&&Array.isArray(e)?this.setData(e):this.loadFromElement(),this.loadInitialSelection()}loadFromElement(){const e=[],t=this.$element.querySelectorAll("option");this.$element.querySelectorAll("optgroup").forEach((t,i)=>{const s={id:`group-${i}-${t.label}`,text:t.label,children:[]};t.querySelectorAll("option").forEach(e=>{const t=this._normalizeOption(e);this._isPlaceholder(t)||s.children.push(t)}),s.children.length>0&&e.push(s)}),t.forEach(t=>{if(!t.parentElement||"OPTGROUP"!==t.parentElement.tagName){const i=this._normalizeOption(t);this._isPlaceholder(i)||e.push(i)}}),this.data=e}_normalizeOption(e){const t=e.value;return{id:""!==t&&null!=t?t:""===t?"":e.text,text:e.text,disabled:e.disabled,selected:e.selected,element:e,_isEmptyValue:""===t}}_isPlaceholder(e){return!0===e._isEmptyValue||void 0===e.id||null===e.id||""===e.id}loadInitialSelection(){const e=this.$element.querySelectorAll("option:checked");this.selection=Array.from(e).map(e=>this._normalizeOption(e))}setData(e){this.data=e.map(e=>this._normalizeItem(e)),this.emit(m.DATA_LOADED,{data:this.data})}_normalizeItem(e){const t={...e,id:void 0!==e.id?e.id:e.text,text:e.text||"",disabled:e.disabled||!1,selected:e.selected||!1};return e.children&&Array.isArray(e.children)&&(t.children=e.children.map(e=>this._normalizeItem(e))),e.element&&(t.element=e.element),t}query(e={}){return this.data}current(){return this.selection}select(e){if(this.options.get("multiple")){if(this.selection.some(t=>t.id===e.id))return!1;{const t=this.options.get("maximumSelectionLength");if(t>0&&this.selection.length>=t){const e=this.options.get("language"),i="function"==typeof e.maximumSelected?e.maximumSelected({maximum:t}):`You can only select ${t} items`;return this.emit(m.SELECTION_LIMIT_REACHED,{maximum:t,message:i}),this.trigger(this.$element,m.SELECTION_LIMIT_REACHED,{maximum:t,message:i}),!1}this.selection.push(e)}}else this.selection=[e];return this._updateElement(),this.emit(m.SELECT,{data:e}),this.emit(m.CHANGE,{value:this.getValue()}),this.trigger(this.$element,m.SELECT,{data:e}),this.trigger(this.$element,m.CHANGE,{value:this.getValue()}),!0}unselect(e){this.selection=this.selection.filter(t=>t.id!==e.id),this._updateElement(),this.emit(m.UNSELECT,{data:e}),this.emit(m.CHANGE,{value:this.getValue()}),this.trigger(this.$element,m.UNSELECT,{data:e}),this.trigger(this.$element,m.CHANGE,{value:this.getValue()})}clear(){this.selection=[],this._updateElement()}getValue(){return this.options.get("multiple")?this.selection.map(e=>e.id):this.selection.length>0?this.selection[0].id:null}_updateElement(){const e=this.$element.querySelectorAll("option"),t=this.selection.map(e=>e.id);e.forEach(e=>{const i=e.value||e.text;e.selected=t.includes(i)});const i=new Event("change",{bubbles:!0});this.$element.dispatchEvent(i)}destroy(){this.data=[],this.selection=[]}}class P extends k{constructor(e,t,i){if(super(e,t),this.dataAdapter=i,this.currentRequest=null,this.cache=new Map,this.ajaxConfig=this.options.get("ajax"),!this.ajaxConfig)throw new Error("AjaxAdapter requires ajax configuration option");this.ajaxConfig={url:"",method:"GET",dataType:"json",delay:250,headers:{},cache:!1,data:e=>e,processResults:e=>({results:e}),transport:null,...this.ajaxConfig}}query(e={}){const{term:t="",page:i=1}=e,s=this._getCacheKey(e);if(this.ajaxConfig.cache&&this.cache.has(s))return Promise.resolve(this.cache.get(s));this.currentRequest&&this.currentRequest.abort(),this.emit(m.AJAX_LOADING,{params:e}),this.trigger(this.$element,m.AJAX_LOADING,{params:e});const n=this.ajaxConfig.data({term:t,page:i}),r=this.ajaxConfig.transport?this.ajaxConfig.transport.call(this,n,this.ajaxConfig):this._defaultTransport(n);return this.currentRequest=r,r.then(t=>{this.currentRequest=null;const i=this.ajaxConfig.processResults(t,e),n={results:Array.isArray(i.results)?i.results.map(e=>this._normalizeItem(e)):[],pagination:i.pagination||{more:!1}};return this.ajaxConfig.cache&&this.cache.set(s,n),this.emit(m.AJAX_SUCCESS,{results:n,params:e}),this.trigger(this.$element,m.AJAX_SUCCESS,{results:n,params:e}),n}).catch(t=>(this.currentRequest=null,"AbortError"!==t.name&&(this.emit(m.AJAX_ERROR,{error:t,params:e}),this.trigger(this.$element,m.AJAX_ERROR,{error:t,params:e})),{results:[],pagination:{more:!1}}))}_defaultTransport(e){const t=new AbortController;let i=this.ajaxConfig.url;const s=this.ajaxConfig.method.toUpperCase(),n={method:s,headers:{"Content-Type":"application/json",...this.ajaxConfig.headers},signal:t.signal};if("GET"===s){const t=new URLSearchParams(e).toString();t&&(i+=(i.includes("?")?"&":"?")+t)}else n.body=JSON.stringify(e);const r=fetch(i,n).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return"json"===this.ajaxConfig.dataType?e.json():"text"===this.ajaxConfig.dataType?e.text():e.blob()});return r.abort=()=>t.abort(),r}_normalizeItem(e){const t={...e,id:void 0!==e.id?e.id:e.text,text:e.text||"",disabled:e.disabled||!1,selected:e.selected||!1};return e.children&&Array.isArray(e.children)&&(t.children=e.children.map(e=>this._normalizeItem(e))),t}_getCacheKey(e){return JSON.stringify(e)}clearCache(){this.cache.clear()}destroy(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),this.clearCache()}}function U(e,t,i,s={}){const{defaultText:n=t.text,useTextContent:r=!1}=s;if(!e||"function"!=typeof e)return j(i,n,r),!1;try{const s=e(t);return s instanceof HTMLElement?(i.appendChild(s),!0):"string"==typeof s?(i.innerHTML=s,!0):(console.warn("Template function returned invalid content type:",typeof s),j(i,n,r),!1)}catch(e){return console.error("Template rendering error:",e),j(i,n,r),!1}}function j(e,t,i){if(i)e.textContent=t;else{const i=g("span",{},t);e.appendChild(i)}}class B{constructor(e){this.options=e,this.container=null,this._cachedTemplateSelection=e.get("templateSelection")}render(){return this.container=g("div",{className:"vs-selection",tabindex:"0",role:"combobox","aria-expanded":"false","aria-haspopup":"listbox"}),this.renderPlaceholder(),this.container}renderPlaceholder(){if(!this.container)return;this.container.innerHTML="";const e=this.options.get("placeholder");if(e){const t=g("span",{className:"vs-selection__placeholder"},e);this.container.appendChild(t)}}update(e){if(!this.container)return;const t=this.options.get("multiple");e&&0!==e.length?t?this._renderMultiple(e):this._renderSingle(e[0]):this.renderPlaceholder()}_renderSingle(e){this.container.innerHTML="";const t=g("span",{className:"vs-selection__rendered"});U(this._cachedTemplateSelection,e,t,{defaultText:e.text,useTextContent:!0}),this.container.appendChild(t);if(this.options.get("allowClear")){const e=this.options.get("language").clearSelection||"Clear selection",t=g("span",{className:"vs-selection__clear",role:"button","aria-label":e,title:e},"×");this.container.appendChild(t)}}_renderMultiple(e){this.container.innerHTML="";const t=g("ul",{className:"vs-selection__choices"});e.forEach(e=>{const i=this._renderChoice(e);t.appendChild(i)}),this.container.appendChild(t)}_renderChoice(e){const t=g("li",{className:"vs-selection__choice","data-id":e.id}),i=g("span",{className:"vs-selection__choice__text"});U(this._cachedTemplateSelection,e,i,{defaultText:e.text,useTextContent:!0});const s=this.options.get("language"),n=g("span",{className:"vs-selection__choice__remove",role:"button","aria-label":"function"==typeof s.removeItem?s.removeItem({text:e.text}):`Remove ${e.text}`,"data-id":e.id},"×");return t.appendChild(i),t.appendChild(n),t}clear(){this.renderPlaceholder()}getContainer(){return this.container}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null}}class $ extends k{constructor(e,t){super(e,t),this.selection=new B(t),this.dataAdapter=null,this._toggleClickHandler=null,this._clearClickHandler=null,this._removeClickHandler=null,this.selectionContainer=null}bind(e,t){super.bind(e),this.dataAdapter=t;const i=this.selection.render();e.appendChild(i),this._bindEvents(),this.update()}_bindEvents(){const e=this.selection.getContainer();this.selectionContainer=e,this._toggleClickHandler=e=>{e.target.classList.contains("vs-selection__choice__remove")||e.target.classList.contains("vs-selection__clear")||this.instance&&this.instance.toggle()},e.addEventListener("click",this._toggleClickHandler),this._clearClickHandler=e=>{e.target.classList.contains("vs-selection__clear")&&(e.stopPropagation(),e.preventDefault(),this.instance&&this.instance.clear())},e.addEventListener("click",this._clearClickHandler),this._removeClickHandler=e=>{if(e.target.classList.contains("vs-selection__choice__remove")){const t=e.target.dataset.id,i=this.dataAdapter.current().find(e=>e.id===t);i&&(this.dataAdapter.unselect(i),this.update()),e.stopPropagation()}},e.addEventListener("click",this._removeClickHandler),this.instance.on(m.SELECT,()=>{this.update()}),this.instance.on(m.UNSELECT,()=>{this.update()}),this.instance.on(m.CLEAR,()=>{this.update()})}update(){if(!this.dataAdapter)return;const e=this.dataAdapter.current();this.selection.update(e)}clear(){this.selection.clear()}destroy(){this.selectionContainer&&(this._toggleClickHandler&&(this.selectionContainer.removeEventListener("click",this._toggleClickHandler),this._toggleClickHandler=null),this._clearClickHandler&&(this.selectionContainer.removeEventListener("click",this._clearClickHandler),this._clearClickHandler=null),this._removeClickHandler&&(this.selectionContainer.removeEventListener("click",this._removeClickHandler),this._removeClickHandler=null),this.selectionContainer=null),this.selection.destroy()}}class G{constructor(e){this.options=e,this.container=null,this.isOpen=!1,this.positionContext="body",this.modalParent=null}setPositionContext(e,t){this.positionContext=e,this.modalParent=t}render(){const e=this.options.get("theme")||"default";return this.container=g("div",{className:`vs-dropdown vs-container--${e}`,role:"listbox"}),this.container}position(e){if(!this.container||!e)return;const t=e.getBoundingClientRect(),i=this.container.offsetHeight,s=window.innerHeight;if("modal"===this.positionContext&&this.modalParent){const e=this.modalParent.getBoundingClientRect(),s=t.bottom-e.top,n=t.left-e.left,r=e.bottom-t.bottom,a=t.top-e.top;let o="below";r<i&&a>r&&(o="above"),this.container.style.position="absolute","above"===o?(this.container.style.bottom=e.bottom-t.top+"px",this.container.style.top="auto"):(this.container.style.top=`${s}px`,this.container.style.bottom="auto"),this.container.style.left=`${n}px`,this.container.style.width=`${t.width}px`}else{const e=s-t.bottom,n=t.top;let r="below";e<i&&n>e&&(r="above"),this.container.style.position="fixed","above"===r?(this.container.style.bottom=s-t.top+"px",this.container.style.top="auto"):(this.container.style.top=`${t.bottom}px`,this.container.style.bottom="auto"),this.container.style.left=`${t.left}px`,this.container.style.width=`${t.width}px`}}open(){!this.isOpen&&this.container&&(this.container.classList.add("vs-dropdown--open"),this.container.style.display="block",this.isOpen=!0)}close(){this.isOpen&&this.container&&(this.container.classList.remove("vs-dropdown--open"),this.container.style.display="none",this.isOpen=!1)}toggle(){this.isOpen?this.close():this.open()}getContainer(){return this.container}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.isOpen=!1}}class z{constructor(e){this.options=e,this.container=null,this.input=null}_getPlaceholder(){const e=this.options.get("language"),t=this.options.get("searchPlaceholder");return null!=t?t:e.searchPlaceholder||"Search..."}_getAriaLabel(){return this.options.get("language").searchLabel||"Search options"}render(){return this.container=g("div",{className:"vs-search-container"}),this.input=g("input",{type:"text",className:"vs-search",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"searchbox","aria-autocomplete":"list","aria-label":this._getAriaLabel()}),this.input.placeholder=this._getPlaceholder(),this.container.appendChild(this.input),this.container}getInput(){return this.input}getContainer(){return this.container}focus(){this.input&&this.input.focus()}clear(){this.input&&(this.input.value="")}getValue(){return this.input?this.input.value:""}setValue(e){this.input&&(this.input.value=e)}update(){this.input&&(this.input.placeholder=this._getPlaceholder(),this.input.setAttribute("aria-label",this._getAriaLabel()))}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.input=null}}class q extends k{constructor(e,t){super(e,t),this.dropdown=new G(t),this.searchBox=null,this.anchorElement=null,this._justOpened=!1,this._boundHandleOutsideClick=this._handleOutsideClick.bind(this),this._boundHandleResize=this._handleResize.bind(this),this._boundHandleScroll=this._handleScroll.bind(this),this._inputHandler=null,this._searchClickHandler=null}bind(e,t){super.bind(e),this.anchorElement=t;const i=this.dropdown.render();if(this.options.get("searchable")){this.searchBox=new z(this.options);const e=this.searchBox.render();i.insertBefore(e,i.firstChild)}const s=this._findModalParent();s?(s.appendChild(i),this.dropdown.setPositionContext("modal",s)):(document.body.appendChild(i),this.dropdown.setPositionContext("body",null)),this._bindEvents()}_findModalParent(){if(!this.container)return null;let e=this.container;for(;e&&e!==document.body;){if(e.classList&&e.classList.contains("modal"))return e;if(e.hasAttribute("role")&&"dialog"===e.getAttribute("role"))return e;e=e.parentElement}return null}_bindEvents(){if(this.instance.on(m.OPENING,()=>{this.open()}),this.instance.on(m.CLOSING,()=>{this.close()}),this.searchBox){const e=this.searchBox.getInput(),t=this.options.get("ajax"),i=t?t.delay||250:this.options.get("searchDelay")||0,s=e=>{this.instance.emit(m.QUERY,{term:e})},n=i>0?function(e,t=250,i=!1){let s;const n=function(...n){const r=this,a=i&&!s;clearTimeout(s),s=setTimeout(()=>{s=null,i||e.apply(r,n)},t),a&&e.apply(r,n)};return n.cancel=()=>{clearTimeout(s),s=null},n}(s,i):s;this._inputHandler=e=>{const t=e.target.value;n(t)},e.addEventListener("input",this._inputHandler),this._searchClickHandler=e=>{e.stopPropagation()},e.addEventListener("click",this._searchClickHandler)}document.addEventListener("click",this._boundHandleOutsideClick),window.addEventListener("resize",this._boundHandleResize),window.addEventListener("scroll",this._boundHandleScroll,!0)}_handleOutsideClick(e){if(!this.dropdown.isOpen)return;if(this._justOpened)return;const t=this.dropdown.getContainer();this.container.contains(e.target)||t.contains(e.target)||this.instance.close()}_handleResize(){this.dropdown.isOpen&&this.dropdown.position(this.anchorElement)}_handleScroll(){this.dropdown.isOpen&&this.dropdown.position(this.anchorElement)}open(){this.dropdown.open(),this.dropdown.position(this.anchorElement),this._justOpened=!0,setTimeout(()=>{this._justOpened=!1},50),this.searchBox&&setTimeout(()=>{this.searchBox.focus()},10),this.anchorElement&&this.anchorElement.setAttribute("aria-expanded","true")}close(){const e=document.activeElement,t=this.dropdown.container&&this.dropdown.container.contains(e),i=e===this.searchBox?.getInput();this.dropdown.close(),this.searchBox&&(this.searchBox.clear(),this.instance.emit(m.QUERY,{term:""})),this.anchorElement&&(this.anchorElement.setAttribute("aria-expanded","false"),(t||i)&&this.anchorElement.focus())}isOpen(){return this.dropdown.isOpen}getContainer(){return this.dropdown.getContainer()}update(){this.searchBox&&this.searchBox.update()}destroy(){if(document.removeEventListener("click",this._boundHandleOutsideClick),window.removeEventListener("resize",this._boundHandleResize),window.removeEventListener("scroll",this._boundHandleScroll,!0),this.searchBox){const e=this.searchBox.getInput();e&&(this._inputHandler&&(e.removeEventListener("input",this._inputHandler),this._inputHandler=null),this._searchClickHandler&&(e.removeEventListener("click",this._searchClickHandler),this._searchClickHandler=null))}this._boundHandleOutsideClick=null,this._boundHandleResize=null,this._boundHandleScroll=null,this.dropdown.destroy()}}class V{constructor(e){this.options=e,this.container=null,this.highlightedIndex=-1,this.results=[],this._cachedTemplateResult=e.get("templateResult")}render(){return this.container=g("div",{className:"vs-results"}),this.container}update(e){if(this.results=e,this.flatResults=[],this.highlightedIndex=-1,!this.container)return;if(y(this.container),!e||0===e.length)return void this._renderNoResults();let t=0;e.forEach(e=>{if(e.children&&Array.isArray(e.children)){const i=this._renderGroupHeader(e);this.container.appendChild(i),e.children.forEach(e=>{const i=this._renderItem(e,t,!0);this.container.appendChild(i),this.flatResults.push(e),t++})}else{const i=this._renderItem(e,t,!1);this.container.appendChild(i),this.flatResults.push(e),t++}})}_renderGroupHeader(e){const t=g("div",{className:"vs-result--group",role:"presentation"}),i=g("span",{},e.text);return t.appendChild(i),t}_renderItem(e,t,i=!1){const s=g("div",{className:i?"vs-result vs-result--group-child":"vs-result",role:"option","data-index":t,"data-id":e.id,"aria-selected":e.selected?"true":"false"});return e.disabled&&(s.classList.add("vs-result--disabled"),s.setAttribute("aria-disabled","true")),e._isTag&&(s.classList.add("vs-result--tag"),s.setAttribute("data-is-tag","true")),U(this._cachedTemplateResult,e,s,{defaultText:(e._isTag,e.text),useTextContent:!1}),s}_renderNoResults(){const e=g("div",{className:"vs-results--no-results"},this.options.get("language.noResults")||"No results found");this.container.appendChild(e)}highlight(e){const t=this.flatResults?this.flatResults.length:0;if(e<0||e>=t)return;const i=this.container.querySelector(".vs-result--highlighted");i&&i.classList.remove("vs-result--highlighted");const s=this.container.querySelectorAll(".vs-result");s[e]&&(s[e].classList.add("vs-result--highlighted"),this.highlightedIndex=e,s[e].scrollIntoView({block:"nearest"}))}getHighlighted(){return this.flatResults&&this.highlightedIndex>=0&&this.highlightedIndex<this.flatResults.length?this.flatResults[this.highlightedIndex]:null}clear(){this.container&&y(this.container),this.results=[],this.highlightedIndex=-1}getContainer(){return this.container}destroy(){this.clear(),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null}}const K={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};function Y(e){return e.replace(/[^\u0000-\u007E]/g,e=>K[e]||e)}class W{constructor(e){this.options=e,this.matcher=null,this._setupMatcher()}_setupMatcher(){const e=this.options.get("matcher");this.matcher=e&&"function"==typeof e?e:this._defaultMatcher.bind(this)}_defaultMatcher(e,t){if(!e||""===e.trim())return!0;if(t.disabled)return!1;const i=Y(e.toLowerCase()),s=Y(t.text.toLowerCase());switch(this.options.get("matchStrategy")||"contains"){case"startsWith":return s.startsWith(i);case"exact":return s===i;default:return s.includes(i)}}search(e,t){if(!e||!Array.isArray(e))return[];if(!t||""===t.trim())return e;const i=[];return e.forEach(e=>{if(e.children&&Array.isArray(e.children)){const s=e.children.filter(e=>this.matcher(t,e));s.length>0&&i.push({...e,children:s})}else this.matcher(t,e)&&i.push(e)}),i}highlight(e,t){if(!t||""===t.trim())return e;const i=Y(t.toLowerCase()),s=Y(e.toLowerCase()).indexOf(i);if(-1===s)return e;return`${e.substring(0,s)}<mark>${e.substring(s,s+t.length)}</mark>${e.substring(s+t.length)}`}}class F extends k{constructor(e,t){super(e,t),this.results=new V(t),this.searchManager=new W(t),this.dataAdapter=null,this.dropdownAdapter=null,this.ajaxAdapter=null,this.currentSearchTerm="",this.currentPage=1,this.hasMore=!1,this.isLoadingMore=!1,this.accumulatedResults=[],this.currentSearchToken=null,this._loadMoreTimeout=null,this._limitMessageTimeout=null,this._errorMessageTimeout=null,this._clickHandler=null,this._mouseoverHandler=null,this._scrollHandler=null,this.resultsContainer=null}bind(e,t,i,s=null){this.dataAdapter=t,this.dropdownAdapter=i,this.ajaxAdapter=s;const n=this.results.render();e.appendChild(n),this._bindEvents(),this.update()}_bindEvents(){const e=this.results.getContainer();this.resultsContainer=e,this.instance.on(m.AJAX_LOADING,()=>{this.showLoading()}),this.instance.on(m.AJAX_SUCCESS,()=>{this.hideLoading()}),this.instance.on(m.AJAX_ERROR,e=>{this.hideLoading(),this.showError(e.error)}),this._clickHandler=e=>{const t=e.target.closest(".vs-result");if(!t)return;parseInt(t.dataset.index,10);const i=t.dataset.id;if(t.classList.contains("vs-result--disabled"))return e.preventDefault(),void e.stopPropagation();const s=this.dataAdapter.query({term:""}),n=this._findItemById(s,i);n&&(e.preventDefault(),e.stopPropagation(),this.selectItem(n))},e.addEventListener("click",this._clickHandler),this._mouseoverHandler=e=>{const t=e.target.closest(".vs-result");if(!t)return;const i=parseInt(t.dataset.index,10);this.results.highlight(i)},e.addEventListener("mouseover",this._mouseoverHandler),this.instance.on(m.QUERY,e=>{this.update(e.term)}),this.instance.on(m.SELECT,()=>{this.update()}),this.instance.on(m.UNSELECT,()=>{this.update()}),this.instance.on(m.SELECTION_LIMIT_REACHED,e=>{this._showLimitMessage(e.message)}),this.ajaxAdapter&&(this._scrollHandler=()=>{this._handleScroll()},e.addEventListener("scroll",this._scrollHandler))}update(e=""){this.dataAdapter&&(this.ajaxAdapter?this._updateWithAjax(e):this._updateWithLocalData(e))}_updateWithLocalData(e){this.currentSearchTerm=e;const t=this.dataAdapter.query({term:""});let i=this.searchManager.search(t,e);if(this.options.get("tags")&&e&&e.trim()){const t=this.options.get("createTag")({term:e.trim()});if(t){if(!i.some(e=>String(e.id).toLowerCase()===String(t.id).toLowerCase())){const e=this.options.get("insertTag");i=[...i],e(i,t),t._isTag=!0}}}this.results.update(i),i&&i.length>0&&this._autoHighlightFirst(i),this.instance.emit(m.RESULTS,{results:i})}_updateWithAjax(e,t=!1){e!==this.currentSearchTerm&&(this.currentPage=1,this.accumulatedResults=[],t=!1),this.currentSearchTerm=e;const i=Symbol("search");this.currentSearchToken=i,this.ajaxAdapter.query({term:e,page:this.currentPage}).then(e=>{if(this.currentSearchToken!==i)return;const{results:s,pagination:n}=e;this.hasMore=!(!n||!n.more),t&&this.currentPage>1?this.accumulatedResults=[...this.accumulatedResults,...s]:this.accumulatedResults=s,this.dataAdapter.setData(this.accumulatedResults),this.results.update(this.accumulatedResults),this.accumulatedResults&&this.accumulatedResults.length>0&&!t&&this._autoHighlightFirst(this.accumulatedResults),this.instance.emit(m.RESULTS,{results:this.accumulatedResults})}).catch(e=>{this.currentSearchToken===i&&(console.error("AJAX query error:",e),this.results.update([]),this.instance.emit(m.RESULTS,{results:[]}))})}_handleScroll(){if(!this.ajaxAdapter||!this.hasMore||this.isLoadingMore)return;const e=this.results.getContainer(),t=e.scrollTop,i=e.scrollHeight;t+e.clientHeight>=i-50&&this.loadMore()}loadMore(){this.ajaxAdapter&&this.hasMore&&!this.isLoadingMore&&(this.isLoadingMore=!0,this.currentPage++,this.showLoadingMore(),this._updateWithAjax(this.currentSearchTerm,!0),this._loadMoreTimeout&&clearTimeout(this._loadMoreTimeout),this._loadMoreTimeout=setTimeout(()=>{this.hideLoadingMore(),this.isLoadingMore=!1,this._loadMoreTimeout=null},500))}showLoadingMore(){const e=this.results.getContainer();if(!e)return;this.hideLoadingMore();const t=this.options.get("language").loadingMore||"Loading more results...",i=document.createElement("div");i.className="vs-results__loading-more",i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),i.textContent=t,e.appendChild(i)}hideLoadingMore(){const e=this.results.getContainer();if(!e)return;const t=e.querySelector(".vs-results__loading-more");t&&t.remove()}_findItemById(e,t){for(const i of e){if(String(i.id)===String(t))return i;if(i.children&&Array.isArray(i.children)){const e=this._findItemById(i.children,t);if(e)return e}}return null}_autoHighlightFirst(e){for(let t=0;t<e.length;t++){const i=e[t];if(i.children&&Array.isArray(i.children)){for(let s=0;s<i.children.length;s++)if(!i.children[s].disabled){const i=this._getFlatIndexForGroupChild(e,t,s);return this.results.highlight(i),void(this.instance.accessibilityManager&&this.instance.accessibilityManager.updateActiveDescendant(i))}}else if(!i.disabled)return this.results.highlight(t),void(this.instance.accessibilityManager&&this.instance.accessibilityManager.updateActiveDescendant(t))}}_getFlatIndexForGroupChild(e,t,i){let s=0;for(let i=0;i<t;i++)e[i].children?s+=e[i].children.length:s++;return s+=i,s}selectItem(e){if(!this.dataAdapter)return;const t=this.dataAdapter.select(e);if(this.options.get("multiple")){if(!t)return void(this.dropdownAdapter&&this.dropdownAdapter.searchBox&&setTimeout(()=>{this.dropdownAdapter.searchBox.focus()},10));this.dropdownAdapter&&this.dropdownAdapter.searchBox&&this.dropdownAdapter.searchBox.clear(),this.update(""),this.dropdownAdapter&&this.dropdownAdapter.searchBox&&setTimeout(()=>{this.dropdownAdapter.searchBox.focus()},10)}else if(t){this.options.get("closeOnSelect")&&this.instance.close()}}clear(){this.results.clear()}_showLimitMessage(e){const t=this.results.getContainer();this._limitMessageTimeout&&(clearTimeout(this._limitMessageTimeout),this._limitMessageTimeout=null);const i=t.querySelector(".vs-results__limit-message");i&&i.remove();const s=document.createElement("div");s.className="vs-results__limit-message",s.textContent=e,s.setAttribute("role","alert"),t.insertBefore(s,t.firstChild),this._limitMessageTimeout=setTimeout(()=>{s.parentNode&&s.remove(),this._limitMessageTimeout=null},3e3)}showLoading(){const e=this.results.getContainer();if(!e)return;this.hideLoading();const t=this.options.get("language").loading||"Loading...",i=document.createElement("div");i.className="vs-results__loading",i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),i.textContent=t,e.appendChild(i)}hideLoading(){const e=this.results.getContainer();if(!e)return;const t=e.querySelector(".vs-results__loading");t&&t.remove()}showError(e){const t=this.results.getContainer();if(!t)return;this._errorMessageTimeout&&(clearTimeout(this._errorMessageTimeout),this._errorMessageTimeout=null);const i=t.querySelector(".vs-results__error");i&&i.remove();const s=this.options.get("language").errorLoading||"The results could not be loaded",n=document.createElement("div");n.className="vs-results__error",n.setAttribute("role","alert"),n.textContent=s,t.appendChild(n),this._errorMessageTimeout=setTimeout(()=>{n.parentNode&&n.remove(),this._errorMessageTimeout=null},5e3)}destroy(){this._loadMoreTimeout&&(clearTimeout(this._loadMoreTimeout),this._loadMoreTimeout=null),this._limitMessageTimeout&&(clearTimeout(this._limitMessageTimeout),this._limitMessageTimeout=null),this._errorMessageTimeout&&(clearTimeout(this._errorMessageTimeout),this._errorMessageTimeout=null),this.resultsContainer&&(this._clickHandler&&(this.resultsContainer.removeEventListener("click",this._clickHandler),this._clickHandler=null),this._mouseoverHandler&&(this.resultsContainer.removeEventListener("mouseover",this._mouseoverHandler),this._mouseoverHandler=null),this._scrollHandler&&(this.resultsContainer.removeEventListener("scroll",this._scrollHandler),this._scrollHandler=null),this.resultsContainer=null),this.results.destroy()}}const X={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};class J{constructor(e,t){this.instance=e,this.options=t,this.isEnabled=!0,this._selectionKeydownHandler=null,this._searchKeydownHandler=null}bind(e,t,i){this.selectionElement=e,this.searchInput=t,this.resultsAdapter=i,this._bindSelectionEvents(),this.searchInput&&this._bindSearchEvents()}_bindSelectionEvents(){this._selectionKeydownHandler=e=>{this._handleSelectionKeydown(e)},this.selectionElement.addEventListener("keydown",this._selectionKeydownHandler)}_bindSearchEvents(){this._searchKeydownHandler=e=>{this._handleSearchKeydown(e)},this.searchInput.addEventListener("keydown",this._searchKeydownHandler)}_handleSelectionKeydown(e){if(!this.isEnabled)return;const t=e.which||e.keyCode;switch(t){case X.ENTER:case X.SPACE:e.preventDefault(),this.instance.toggle();break;case X.ESC:e.preventDefault(),this.instance.close();break;case X.UP:case X.DOWN:e.preventDefault(),this.instance.isOpen()?this._navigate(t===X.UP?-1:1):this.instance.open()}}_handleSearchKeydown(e){if(!this.isEnabled)return;switch(e.which||e.keyCode){case X.ENTER:e.preventDefault(),this._selectHighlighted();break;case X.ESC:e.preventDefault(),this.instance.close();break;case X.UP:e.preventDefault(),this._navigate(-1);break;case X.DOWN:e.preventDefault(),this._navigate(1);break;case X.TAB:e.preventDefault();break;case X.HOME:e.preventDefault(),this._navigateToFirst();break;case X.END:e.preventDefault(),this._navigateToLast()}}_countTotalItems(e){let t=0;for(const i of e)i.children&&Array.isArray(i.children)?t+=i.children.length:t++;return t}_navigate(e){if(!this.resultsAdapter)return;const t=this.resultsAdapter.results,i=t.highlightedIndex,s=this._countTotalItems(t.results);if(0===s)return;let n=i+e;n<0?n=s-1:n>=s&&(n=0);const r=this._getFlatRenderedItems(t.results);for(;r[n]?.disabled;)if(n+=e,n<0?n=s-1:n>=s&&(n=0),n===i)return;t.highlight(n),this.instance.accessibilityManager&&this.instance.accessibilityManager.updateActiveDescendant(n)}_getFlatRenderedItems(e){const t=[];for(const i of e)i.children&&Array.isArray(i.children)?t.push(...i.children):t.push(i);return t}_navigateToFirst(){if(!this.resultsAdapter)return;const e=this.resultsAdapter.results,t=this._getFlatRenderedItems(e.results),i=t.length;if(0!==i)for(let s=0;s<i;s++)if(!t[s]?.disabled){e.highlight(s),this.instance.accessibilityManager&&this.instance.accessibilityManager.updateActiveDescendant(s);break}}_navigateToLast(){if(!this.resultsAdapter)return;const e=this.resultsAdapter.results,t=this._getFlatRenderedItems(e.results),i=t.length;if(0!==i)for(let s=i-1;s>=0;s--)if(!t[s]?.disabled){e.highlight(s),this.instance.accessibilityManager&&this.instance.accessibilityManager.updateActiveDescendant(s);break}}_selectHighlighted(){if(!this.resultsAdapter)return;const e=this.resultsAdapter.results.getHighlighted();e&&this.resultsAdapter.selectItem(e)}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.isEnabled=!1,this.selectionElement&&this._selectionKeydownHandler&&(this.selectionElement.removeEventListener("keydown",this._selectionKeydownHandler),this._selectionKeydownHandler=null),this.searchInput&&this._searchKeydownHandler&&(this.searchInput.removeEventListener("keydown",this._searchKeydownHandler),this._searchKeydownHandler=null),this.selectionElement=null,this.searchInput=null,this.resultsAdapter=null}}class Z{constructor(e,t){this.instance=e,this.options=t,this.liveRegion=null}bind(e,t,i){this.selectionElement=e,this.dropdownElement=t,this.resultsElement=i,this._createLiveRegion(),this._setupARIA()}_createLiveRegion(){this.liveRegion=document.createElement("div"),this.liveRegion.setAttribute("role","status"),this.liveRegion.setAttribute("aria-live","polite"),this.liveRegion.setAttribute("aria-atomic","true"),this.liveRegion.className="vs-sr-only",document.body.appendChild(this.liveRegion)}_setupARIA(){if(!this.selectionElement||!this.dropdownElement||!this.resultsElement)return;const e=`${`vs-${Math.random().toString(36).substr(2,9)}`}-results`;this.resultsElement.setAttribute("id",e),this.selectionElement.setAttribute("role","combobox"),this.selectionElement.setAttribute("aria-haspopup","listbox"),this.selectionElement.setAttribute("aria-expanded","false"),this.selectionElement.setAttribute("aria-owns",e),this.selectionElement.setAttribute("aria-controls",e),this.dropdownElement.setAttribute("role","region");const t=this.options.get("language");this.dropdownElement.setAttribute("aria-label",t.selectOptions||"Select options"),this.resultsElement.setAttribute("role","listbox")}announce(e){this.liveRegion&&(this.liveRegion.textContent="",setTimeout(()=>{this.liveRegion.textContent=e},100))}announceResultsCount(e){const t=this.options.get("language");if(0===e)this.announce(t.noResultsAvailable);else if(1===e)this.announce(t.resultsAvailable?.one||"1 result available");else{const i="function"==typeof t.resultsAvailable?.other?t.resultsAvailable.other({count:e}):`${e} results available`;this.announce(i)}}announceSelection(e){if(!e)return;const t=this.options.get("language"),i="function"==typeof t.selected?t.selected({text:e.text}):`Selected: ${e.text}`;this.announce(i)}updateActiveDescendant(e){if(!this.selectionElement||!this.resultsElement)return;const t=this.resultsElement.querySelectorAll(".vs-result");if(e>=0&&e<t.length){const i=t[e];i.id||(i.id=`vs-result-${e}`),this.selectionElement.setAttribute("aria-activedescendant",i.id)}else this.selectionElement.removeAttribute("aria-activedescendant")}onOpen(){this.selectionElement&&this.selectionElement.setAttribute("aria-expanded","true")}onClose(){this.selectionElement&&(this.selectionElement.setAttribute("aria-expanded","false"),this.selectionElement.removeAttribute("aria-activedescendant"))}destroy(){this.liveRegion&&this.liveRegion.parentNode&&this.liveRegion.parentNode.removeChild(this.liveRegion),this.liveRegion=null,this.selectionElement=null,this.dropdownElement=null,this.resultsElement=null}}class Q extends t{constructor(e,t={}){if(super(),this.element=this._getElement(e),!this.element)throw new Error("Invalid element provided to VanillaSmartSelect");this.element.setAttribute("data-vs-initializing","true"),this.element._vanillaSmartSelect&&this.element._vanillaSmartSelect.destroy(),this.element._vanillaSmartSelect=this,this.options=new p(t),this.isDisabled=!1,this._isInitialized=!1,this.container=null,this.dropdown=null,this.dataAdapter=null,this.ajaxAdapter=null,this.selectionAdapter=null,this.dropdownAdapter=null,this.resultsAdapter=null,this.keyboardManager=null,this.accessibilityManager=null,this._init()}_getElement(e){return"string"==typeof e?C(e):e instanceof HTMLElement?e:null}_init(){if("SELECT"!==this.element.tagName)throw new Error("VanillaSmartSelect must be initialized on a <select> element");if(this._isInitialized)return;this.element.disabled&&(this.options.set("disabled",!0),this.isDisabled=!0),this.element.multiple&&this.options.set("multiple",!0),this._createContainers(),this._initializeAdapters(),this._initializeManagers(),this._bindEvents(),this._loadInitialData(),this._isInitialized=!0,this.element.removeAttribute("data-vs-initializing"),this.emit(m.INIT,{instance:this}),this.trigger(this.element,m.INIT,{instance:this});const e=this.options.get("onInit");"function"==typeof e&&e.call(this)}_createContainers(){this.container=document.createElement("div"),this.container.className=`vs-container vs-container--${this.options.get("theme")}`;const e=this.options.get("containerCssClass");e&&(this.container.className+=` ${e}`),this.container.style.width=this.options.get("width"),this.element.parentNode.insertBefore(this.container,this.element.nextSibling),this.element.style.display="none",this.element.setAttribute("aria-hidden","true")}_initializeAdapters(){this.dataAdapter=new D(this,this.options),this.dataAdapter.init();this.options.get("ajax")&&(this.ajaxAdapter=new P(this,this.options,this.dataAdapter)),this.selectionAdapter=new $(this,this.options),this.selectionAdapter.bind(this.container,this.dataAdapter);const e=this.selectionAdapter.selection.getContainer();this.dropdownAdapter=new q(this,this.options),this.dropdownAdapter.bind(this.container,e),this.resultsAdapter=new F(this,this.options);const t=this.dropdownAdapter.getContainer();this.resultsAdapter.bind(t,this.dataAdapter,this.dropdownAdapter,this.ajaxAdapter)}_initializeManagers(){this.keyboardManager=new J(this,this.options);const e=this.selectionAdapter.selection.getContainer(),t=this.dropdownAdapter.searchBox?.getInput();this.keyboardManager.bind(e,t,this.resultsAdapter),this.accessibilityManager=new Z(this,this.options);const i=this.dropdownAdapter.dropdown.getContainer(),s=this.resultsAdapter.results.getContainer();this.accessibilityManager.bind(e,i,s)}_bindEvents(){this.on(m.OPENING,()=>{this.accessibilityManager&&this.accessibilityManager.onOpen()}),this.on(m.CLOSING,()=>{this.accessibilityManager&&this.accessibilityManager.onClose()}),this.on(m.SELECT,e=>{this.accessibilityManager&&e.data&&this.accessibilityManager.announceSelection(e.data)}),this.on(m.RESULTS,e=>{this.accessibilityManager&&e.results&&this.accessibilityManager.announceResultsCount(e.results.length)}),this.element.addEventListener("invalid",e=>{this._onInvalid(e)}),this.on(m.CHANGE,()=>{this._updateValidationState()})}_onInvalid(e){if(e.preventDefault(),this.container){this.container.classList.add("vs-container--invalid");const e=this.container.querySelector(".vs-selection");e&&e.focus();const t=this.element.validationMessage;t&&this.container.setAttribute("title",t)}}_updateValidationState(){if(!this.container)return;if(this.element.checkValidity())this.container.classList.remove("vs-container--invalid"),this.container.removeAttribute("title");else{this.container.classList.add("vs-container--invalid");const e=this.element.validationMessage;e&&this.container.setAttribute("title",e)}}_loadInitialData(){this.selectionAdapter&&this.selectionAdapter.update()}val(e){if(void 0===e){if(this.dataAdapter){const e=this.dataAdapter.current();return this.options.get("multiple")?e.map(e=>e.id):e.length>0?e[0].id:null}return this.element.value}return null===e||""===e?this.clear():this.options.get("multiple")&&Array.isArray(e)?(this.clear(),e.forEach(e=>this.select(e)),this):this.select(e)}data(e){return void 0===e?this.dataAdapter?this.dataAdapter.query({term:""}):[]:(this.dataAdapter&&this.dataAdapter.setData(e),this)}open(){if(this.isDisabled||this.isOpen())return;if(!this.trigger(this.element,m.OPENING,{},{cancelable:!0}))return;this.emit(m.OPENING),this.emit(m.OPEN),this.trigger(this.element,m.OPEN);const e=this.options.get("onOpen");"function"==typeof e&&e.call(this)}close(){if(!this.isOpen())return;if(!this.trigger(this.element,m.CLOSING,{},{cancelable:!0}))return;this.emit(m.CLOSING),this.emit(m.CLOSE),this.trigger(this.element,m.CLOSE);const e=this.options.get("onClose");"function"==typeof e&&e.call(this)}toggle(){this.isOpen()?this.close():this.open()}enable(){this.isDisabled&&(this.isDisabled=!1,this.element.disabled=!1,this.options.set("disabled",!1),this.container&&this.container.classList.remove("vs-container--disabled"))}disable(){this.isDisabled||(this.isDisabled=!0,this.element.disabled=!0,this.options.set("disabled",!0),this.container&&this.container.classList.add("vs-container--disabled"),this.isOpen()&&this.close())}isOpen(){return!!this.dropdownAdapter&&this.dropdownAdapter.isOpen()}clear(){if(!this.dataAdapter)return this;if(!this.trigger(this.element,m.CLEARING,{},{cancelable:!0}))return this;this.emit(m.CLEARING),this.dataAdapter.clear(),this.emit(m.CLEAR),this.trigger(this.element,m.CLEAR);const e=this.options.get("onClear");return"function"==typeof e&&e.call(this),this}focus(){if(this.container){const e=this.container.querySelector(".vs-selection");e&&e.focus()}}select(e){if(!this.dataAdapter)return this;const t=this.dataAdapter.query({term:""}),i=this._findItemById(t,e);return i&&!i.disabled&&this.dataAdapter.select(i),this}unselect(e){if(!this.dataAdapter)return this;if(!this.options.get("multiple"))return console.warn("unselect() only works with multiple select"),this;const t=this.dataAdapter.current().find(t=>t.id===e);return t&&this.dataAdapter.unselect(t),this}getSelected(){if(!this.dataAdapter)return null;const e=this.dataAdapter.current();return this.options.get("multiple")?e:e.length>0?e[0]:null}addOption(e){if(!this.dataAdapter||!e)return this;const t=this.dataAdapter.query({term:""});return t.push(e),this.dataAdapter.setData(t),this.resultsAdapter&&this.resultsAdapter.update(),this}removeOption(e){if(!this.dataAdapter)return this;let t=this.dataAdapter.query({term:""});return t=this._removeItemById(t,e),this.dataAdapter.setData(t),this.resultsAdapter&&this.resultsAdapter.update(),this}_findItemById(e,t){for(const i of e){if(String(i.id)===String(t))return i;if(i.children&&Array.isArray(i.children)){const e=this._findItemById(i.children,t);if(e)return e}}return null}_removeItemById(e,t){return e.filter(e=>e.id!=t&&(e.children&&Array.isArray(e.children)&&(e.children=this._removeItemById(e.children,t)),!0))}checkValidity(){return this.element.checkValidity()}reportValidity(){return this.element.reportValidity()}setCustomValidity(e){return this.element.setCustomValidity(e),this}validationMessage(){return this.element.validationMessage}willValidate(){return this.element.willValidate}updateLanguage(e){return e&&"object"==typeof e?(this.options.set("language",e),this.dropdownAdapter&&"function"==typeof this.dropdownAdapter.update&&this.dropdownAdapter.update(),this.selectionAdapter&&"function"==typeof this.selectionAdapter.update&&this.selectionAdapter.update(),this):(console.warn('updateLanguage expects a language object. Use getLanguage("code") to get one.'),this)}destroy(){this._isInitialized&&(this.emit(m.DESTROY),this.trigger(this.element,m.DESTROY),this.isOpen()&&this.close(),this.dataAdapter&&this.dataAdapter.destroy&&this.dataAdapter.destroy(),this.ajaxAdapter&&this.ajaxAdapter.destroy&&this.ajaxAdapter.destroy(),this.selectionAdapter&&this.selectionAdapter.destroy&&this.selectionAdapter.destroy(),this.dropdownAdapter&&this.dropdownAdapter.destroy&&this.dropdownAdapter.destroy(),this.resultsAdapter&&this.resultsAdapter.destroy&&this.resultsAdapter.destroy(),this.keyboardManager&&this.keyboardManager.destroy&&this.keyboardManager.destroy(),this.accessibilityManager&&this.accessibilityManager.destroy&&this.accessibilityManager.destroy(),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.element.style.display="",this.element.removeAttribute("aria-hidden"),delete this.element._vanillaSmartSelect,this.removeAllListeners(),this._isInitialized=!1)}}function ee(e,t){return new Q(e,t)}function te(e,t=250,i=!1){let s;const n=function(...n){const r=this,a=i&&!s;clearTimeout(s),s=setTimeout(()=>{s=null,i||e.apply(r,n)},t),a&&e.apply(r,n)};return n.cancel=function(){clearTimeout(s),s=null},n}function ie(e,t=250){let i,s=0;const n=function(...n){const r=this,a=Date.now(),o=t-(a-s);o<=0||o>t?(i&&(clearTimeout(i),i=null),s=a,e.apply(r,n)):i||(i=setTimeout(()=>{s=Date.now(),i=null,e.apply(r,n)},o))};return n.cancel=function(){clearTimeout(i),i=null,s=0},n}function se(e){let t,i=!1;return function(...s){return i||(i=!0,t=e.apply(this,s)),t}}function ne(e,t){const i=new Map,s=function(...s){const n=t?t.apply(this,s):s[0];if(i.has(n))return i.get(n);const r=e.apply(this,s);return i.set(n,r),r};return s.cache=i,s}function re(e,t=0){return function(...i){setTimeout(()=>{e.apply(this,i)},t)}}function ae(e){return function(...t){return!e.apply(this,t)}}var oe={debounce:te,throttle:ie,once:se,memoize:ne,delay:re,negate:ae},le=Object.freeze({__proto__:null,debounce:te,default:oe,delay:re,memoize:ne,negate:ae,once:se,throttle:ie});"undefined"!=typeof window&&(window.VanillaSmartSelect=Q,window.vanillaSmartSelect=ee),e.ARIA={COMBOBOX:"combobox",LISTBOX:"listbox",OPTION:"option",GROUP:"group",PRESENTATION:"presentation",EXPANDED:"aria-expanded",SELECTED:"aria-selected",DISABLED:"aria-disabled",ACTIVEDESCENDANT:"aria-activedescendant",HIDDEN:"aria-hidden",LABEL:"aria-label",LABELLEDBY:"aria-labelledby",DESCRIBEDBY:"aria-describedby",CONTROLS:"aria-controls",OWNS:"aria-owns",HASPOPUP:"aria-haspopup",AUTOCOMPLETE:"aria-autocomplete",MULTISELECTABLE:"aria-multiselectable",LIVE:"aria-live",ATOMIC:"aria-atomic",RELEVANT:"aria-relevant",BUSY:"aria-busy",TRUE:"true",FALSE:"false",POLITE:"polite",ASSERTIVE:"assertive",LIST:"list",BOTH:"both"},e.DEFAULTS=u,e.EVENTS=m,e.EventEmitter=t,e.KEYS=X,e.Options=p,e.VanillaSmartSelect=Q,e.decorators=le,e.default=Q,e.detectBrowserLanguage=o,e.diacritics=K,e.dom=H,e.getAvailableLanguages=l,e.getLanguage=a,e.i18n=d,e.removeDiacritics=Y,e.vanillaSmartSelect=ee,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vanilla-smart-select.min.js.map
