{"version":3,"file":"vanilla-smart-select.js","sources":["../src/core/EventEmitter.js","../src/i18n/en.js","../src/i18n/pt-BR.js","../src/i18n/es.js","../src/i18n/index.js","../src/constants/defaults.js","../src/core/Options.js","../src/constants/events.js","../src/utils/dom.js","../src/adapters/BaseAdapter.js","../src/adapters/DataAdapter.js","../src/adapters/AjaxAdapter.js","../src/utils/template.js","../src/components/Selection.js","../src/adapters/SelectionAdapter.js","../src/components/Dropdown.js","../src/components/SearchBox.js","../src/utils/debounce.js","../src/adapters/DropdownAdapter.js","../src/components/ResultsList.js","../src/utils/diacritics.js","../src/managers/SearchManager.js","../src/adapters/ResultsAdapter.js","../src/constants/keys.js","../src/managers/KeyboardManager.js","../src/managers/AccessibilityManager.js","../src/core/VanillaSmartSelect.js","../src/constants/aria.js","../src/utils/decorators.js","../src/index.js","../src/index.browser.js"],"sourcesContent":["/**\n * EventEmitter class - Foundation for the event system\n * Provides internal event bus and DOM event triggering capabilities\n */\n\nclass EventEmitter {\n  constructor() {\n    this._events = new Map();\n  }\n\n  /**\n   * Register an event listener\n   * @param {string} eventName - Name of the event\n   * @param {Function} handler - Event handler function\n   * @returns {EventEmitter} Returns this for chaining\n   */\n  on(eventName, handler) {\n    if (typeof handler !== \"function\") {\n      throw new TypeError(\"Event handler must be a function\");\n    }\n\n    if (!this._events.has(eventName)) {\n      this._events.set(eventName, []);\n    }\n\n    this._events.get(eventName).push(handler);\n    return this;\n  }\n\n  /**\n   * Register a one-time event listener\n   * @param {string} eventName - Name of the event\n   * @param {Function} handler - Event handler function\n   * @returns {EventEmitter} Returns this for chaining\n   */\n  once(eventName, handler) {\n    const onceWrapper = (...args) => {\n      handler(...args);\n      this.off(eventName, onceWrapper);\n    };\n\n    return this.on(eventName, onceWrapper);\n  }\n\n  /**\n   * Remove an event listener\n   * @param {string} eventName - Name of the event\n   * @param {Function} handler - Event handler function to remove\n   * @returns {EventEmitter} Returns this for chaining\n   */\n  off(eventName, handler) {\n    if (!this._events.has(eventName)) {\n      return this;\n    }\n\n    if (!handler) {\n      // Remove all listeners for this event\n      this._events.delete(eventName);\n      return this;\n    }\n\n    const handlers = this._events.get(eventName);\n    const index = handlers.indexOf(handler);\n\n    if (index !== -1) {\n      handlers.splice(index, 1);\n    }\n\n    // Clean up empty arrays\n    if (handlers.length === 0) {\n      this._events.delete(eventName);\n    }\n\n    return this;\n  }\n\n  /**\n   * Emit an event (internal event system)\n   * @param {string} eventName - Name of the event\n   * @param {*} data - Data to pass to handlers\n   * @returns {boolean} Returns true if event had listeners\n   */\n  emit(eventName, data) {\n    if (!this._events.has(eventName)) {\n      return false;\n    }\n\n    const handlers = this._events.get(eventName).slice(); // Clone to avoid issues if handler modifies listeners\n\n    handlers.forEach((handler) => {\n      try {\n        handler(data);\n      } catch (error) {\n        console.error(`Error in event handler for \"${eventName}\":`, error);\n      }\n    });\n\n    return true;\n  }\n\n  /**\n   * Trigger a DOM event on an element (for external listeners)\n   * @param {HTMLElement} element - Element to trigger event on\n   * @param {string} eventName - Name of the event\n   * @param {*} detail - Event detail data\n   * @param {Object} options - Additional event options\n   * @returns {boolean} Returns true if event was not cancelled\n   */\n  trigger(element, eventName, detail = null, options = {}) {\n    if (!element || !(element instanceof HTMLElement)) {\n      console.warn(\"Cannot trigger event on invalid element\");\n      return false;\n    }\n\n    const eventOptions = {\n      bubbles: true,\n      cancelable: true,\n      detail,\n      ...options,\n    };\n\n    const event = new CustomEvent(eventName, eventOptions);\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Remove all event listeners\n   */\n  removeAllListeners() {\n    this._events.clear();\n  }\n\n  /**\n   * Get count of listeners for an event\n   * @param {string} eventName - Name of the event\n   * @returns {number} Number of listeners\n   */\n  listenerCount(eventName) {\n    if (!this._events.has(eventName)) {\n      return 0;\n    }\n    return this._events.get(eventName).length;\n  }\n\n  /**\n   * Get all event names that have listeners\n   * @returns {Array<string>} Array of event names\n   */\n  eventNames() {\n    return Array.from(this._events.keys());\n  }\n}\n\nexport default EventEmitter;\n","/**\n * English (en) language strings for Vanilla Smart Select\n */\n\nexport const EN = {\n  // Results display\n  noResults: \"No results found\",\n\n  // Search\n  searching: \"Searching...\",\n  searchPlaceholder: \"Search...\",\n  inputTooShort: (args) => `Please enter ${args.minimum} or more characters`,\n  inputTooLong: (args) => `Please delete ${args.excess} characters`,\n\n  // Selection limits\n  maximumSelected: (args) => `You can only select ${args.maximum} items`,\n\n  // AJAX (Phase 2)\n  loading: \"Loading...\",\n  loadingMore: \"Loading more results...\",\n  errorLoading: \"The results could not be loaded\",\n\n  // Tagging (Phase 2)\n  createNewTag: (args) => `Create tag: \"${args.term}\"`,\n  tagAdded: (args) => `Tag \"${args.text}\" added`,\n\n  // Pagination (Phase 2)\n  loadMore: \"Load more results\",\n\n  // Accessibility (ARIA labels)\n  searchLabel: \"Search options\",\n  clearSelection: \"Clear selection\",\n  removeItem: (args) => `Remove ${args.text}`,\n  selectOptions: \"Select options\",\n\n  // Screen reader announcements\n  noResultsAvailable: \"No results found\",\n  resultsAvailable: {\n    one: \"1 result available\",\n    other: (args) => `${args.count} results available`,\n  },\n  selected: (args) => `Selected: ${args.text}`,\n};\n\nexport default EN;\n","/**\n * Portuguese - Brazil (pt-BR) language strings for Vanilla Smart Select\n */\n\nexport const PT_BR = {\n  // Results display\n  noResults: \"Nenhum resultado encontrado\",\n\n  // Search\n  searching: \"Buscando...\",\n  searchPlaceholder: \"Buscar...\",\n  inputTooShort: (args) =>\n    `Por favor, digite ${args.minimum} ou mais caracteres`,\n  inputTooLong: (args) => `Por favor, delete ${args.excess} caracteres`,\n\n  // Selection limits\n  maximumSelected: (args) =>\n    `Você só pode selecionar ${args.maximum} ${args.maximum === 1 ? \"item\" : \"itens\"}`,\n\n  // AJAX (Phase 2)\n  loading: \"Carregando...\",\n  loadingMore: \"Carregando mais resultados...\",\n  errorLoading: \"Os resultados não puderam ser carregados\",\n\n  // Tagging (Phase 2)\n  createNewTag: (args) => `Criar tag: \"${args.term}\"`,\n  tagAdded: (args) => `Tag \"${args.text}\" adicionada`,\n\n  // Pagination (Phase 2)\n  loadMore: \"Carregar mais resultados\",\n\n  // Accessibility (ARIA labels)\n  searchLabel: \"Buscar opções\",\n  clearSelection: \"Limpar seleção\",\n  removeItem: (args) => `Remover ${args.text}`,\n  selectOptions: \"Selecionar opções\",\n\n  // Screen reader announcements\n  noResultsAvailable: \"Nenhum resultado encontrado\",\n  resultsAvailable: {\n    one: \"1 resultado disponível\",\n    other: (args) => `${args.count} resultados disponíveis`,\n  },\n  selected: (args) => `Selecionado: ${args.text}`,\n};\n\nexport default PT_BR;\n","/**\n * Spanish (es) language strings for Vanilla Smart Select\n */\n\nexport const ES = {\n  // Results display\n  noResults: \"No se encontraron resultados\",\n\n  // Search\n  searching: \"Buscando...\",\n  searchPlaceholder: \"Buscar...\",\n  inputTooShort: (args) =>\n    `Por favor, ingrese ${args.minimum} o más caracteres`,\n  inputTooLong: (args) => `Por favor, elimine ${args.excess} caracteres`,\n\n  // Selection limits\n  maximumSelected: (args) =>\n    `Solo puede seleccionar ${args.maximum} ${args.maximum === 1 ? \"elemento\" : \"elementos\"}`,\n\n  // AJAX (Phase 2)\n  loading: \"Cargando...\",\n  loadingMore: \"Cargando más resultados...\",\n  errorLoading: \"Los resultados no se pudieron cargar\",\n\n  // Tagging (Phase 2)\n  createNewTag: (args) => `Crear etiqueta: \"${args.term}\"`,\n  tagAdded: (args) => `Etiqueta \"${args.text}\" agregada`,\n\n  // Pagination (Phase 2)\n  loadMore: \"Cargar más resultados\",\n\n  // Accessibility (ARIA labels)\n  searchLabel: \"Buscar opciones\",\n  clearSelection: \"Limpiar selección\",\n  removeItem: (args) => `Eliminar ${args.text}`,\n  selectOptions: \"Seleccionar opciones\",\n\n  // Screen reader announcements\n  noResultsAvailable: \"No se encontraron resultados\",\n  resultsAvailable: {\n    one: \"1 resultado disponible\",\n    other: (args) => `${args.count} resultados disponibles`,\n  },\n  selected: (args) => `Seleccionado: ${args.text}`,\n};\n\nexport default ES;\n","/**\n * i18n System - Language Registry for Vanilla Smart Select\n * Provides centralized language management and utilities\n */\n\nimport { EN } from \"./en.js\";\nimport { PT_BR } from \"./pt-BR.js\";\nimport { ES } from \"./es.js\";\n\n/**\n * Language registry - maps language codes to language objects\n */\nexport const LANGUAGES = {\n  en: EN,\n  \"en-US\": EN,\n  \"en-GB\": EN,\n  \"pt-BR\": PT_BR,\n  pt: PT_BR,\n  es: ES,\n  \"es-ES\": ES,\n  \"es-MX\": ES,\n};\n\n/**\n * Get language object by locale code\n * Falls back to English if locale not found\n *\n * @param {string} locale - Language code (e.g., 'en', 'pt-BR', 'es')\n * @returns {Object} Language object with all translated strings\n */\nexport function getLanguage(locale) {\n  if (!locale || typeof locale !== \"string\") {\n    return EN;\n  }\n\n  // Try exact match first\n  if (LANGUAGES[locale]) {\n    return LANGUAGES[locale];\n  }\n\n  // Try base language (e.g., 'pt' from 'pt-BR')\n  const baseLang = locale.split(\"-\")[0];\n  if (LANGUAGES[baseLang]) {\n    return LANGUAGES[baseLang];\n  }\n\n  // Fallback to English\n  return EN;\n}\n\n/**\n * Detect browser language\n * Returns the best matching language from available translations\n *\n * @returns {string} Language code\n */\nexport function detectBrowserLanguage() {\n  // Try navigator.language first (most specific)\n  if (navigator.language && LANGUAGES[navigator.language]) {\n    return navigator.language;\n  }\n\n  // Try base language\n  if (navigator.language) {\n    const baseLang = navigator.language.split(\"-\")[0];\n    if (LANGUAGES[baseLang]) {\n      return baseLang;\n    }\n  }\n\n  // Try navigator.languages array\n  if (navigator.languages && navigator.languages.length > 0) {\n    for (const lang of navigator.languages) {\n      if (LANGUAGES[lang]) {\n        return lang;\n      }\n      const baseLang = lang.split(\"-\")[0];\n      if (LANGUAGES[baseLang]) {\n        return baseLang;\n      }\n    }\n  }\n\n  // Fallback to English\n  return \"en\";\n}\n\n/**\n * Get list of available languages\n *\n * @returns {Array} Array of language codes\n */\nexport function getAvailableLanguages() {\n  return Object.keys(LANGUAGES);\n}\n\n/**\n * Check if a language is available\n *\n * @param {string} locale - Language code\n * @returns {boolean} True if language is available\n */\nexport function isLanguageAvailable(locale) {\n  return !!LANGUAGES[locale] || !!LANGUAGES[locale.split(\"-\")[0]];\n}\n\nexport default {\n  LANGUAGES,\n  getLanguage,\n  detectBrowserLanguage,\n  getAvailableLanguages,\n  isLanguageAvailable,\n};\n","/**\n * Default configuration options for vanilla-smart-select\n */\n\nimport { detectBrowserLanguage, getLanguage } from \"../i18n/index.js\";\n\nexport const DEFAULTS = {\n  // Display options\n  placeholder: \"\",\n  theme: \"default\",\n  width: \"100%\",\n  containerCssClass: \"\",\n  dropdownCssClass: \"\",\n\n  // Behavior options\n  multiple: false,\n  searchable: true,\n  allowClear: false,\n  disabled: false,\n  closeOnSelect: true,\n\n  // Data options\n  data: null,\n\n  // Search options\n  searchMinimumLength: 0,\n  searchDelay: 250,\n  searchPlaceholder: null, // Use null to allow i18n translation, or set a custom string to override\n  matcher: null, // Custom matcher function\n  matchStrategy: \"contains\", // 'startsWith', 'contains', 'exact'\n\n  // Template options\n  templateResult: null, // Function: (item) => HTMLElement\n  templateSelection: null, // Function: (item) => HTMLElement\n  escapeMarkup: (markup) => markup, // Function to escape/sanitize HTML\n\n  // Dropdown options\n  dropdownParent: null,\n  dropdownAutoWidth: false,\n  dropdownCssClass: \"\",\n\n  // AJAX options (Phase 2)\n  ajax: null,\n  /*\n  ajax: {\n    url: '',\n    method: 'GET',\n    dataType: 'json',\n    delay: 250,\n    headers: {},\n    data: (params) => params,\n    processResults: (data) => data,\n    transport: null // Custom transport function\n  }\n  */\n\n  // Tagging options (Phase 2)\n  tags: false,\n  createTag: (params) => {\n    const term = params.term?.trim();\n    if (!term) return null;\n    return { id: term, text: term };\n  },\n  insertTag: (data, tag) => {\n    data.unshift(tag);\n  },\n\n  // Language/i18n options\n  // Auto-detect browser language and load appropriate translations\n  language: getLanguage(detectBrowserLanguage()),\n\n  // Accessibility options\n  ariaLabel: null,\n  ariaDescribedBy: null,\n\n  // Selection limit (for multiple select)\n  maximumSelectionLength: 0, // 0 = unlimited\n\n  // Event callbacks\n  onOpen: null,\n  onClose: null,\n  onChange: null,\n  onSelect: null,\n  onUnselect: null,\n  onClear: null,\n\n  // Debug mode\n  debug: false,\n};\n\nexport default DEFAULTS;\n","/**\n * Options class - Manages configuration options\n * Handles merging, validation, and access to configuration\n */\n\nimport { DEFAULTS } from \"../constants/defaults.js\";\n\nclass Options {\n  constructor(options = {}, defaults = DEFAULTS) {\n    this._options = this._merge(defaults, options);\n    this._validate();\n  }\n\n  /**\n   * Deep merge two objects\n   * @param {Object} target - Target object\n   * @param {Object} source - Source object\n   * @returns {Object} Merged object\n   * @private\n   */\n  _merge(target, source) {\n    const result = { ...target };\n\n    Object.keys(source).forEach((key) => {\n      const sourceValue = source[key];\n      const targetValue = result[key];\n\n      if (\n        this._isPlainObject(sourceValue) &&\n        this._isPlainObject(targetValue)\n      ) {\n        result[key] = this._merge(targetValue, sourceValue);\n      } else if (sourceValue !== undefined) {\n        result[key] = sourceValue;\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * Check if value is a plain object\n   * @param {*} value - Value to check\n   * @returns {boolean} Whether value is a plain object\n   * @private\n   */\n  _isPlainObject(value) {\n    return (\n      value !== null &&\n      typeof value === \"object\" &&\n      value.constructor === Object\n    );\n  }\n\n  /**\n   * Validate options\n   * @throws {Error} If options are invalid\n   * @private\n   */\n  _validate() {\n    // Validate searchDelay\n    if (\n      typeof this._options.searchDelay !== \"number\" ||\n      this._options.searchDelay < 0\n    ) {\n      throw new Error(\"searchDelay must be a non-negative number\");\n    }\n\n    // Validate searchMinimumLength\n    if (\n      typeof this._options.searchMinimumLength !== \"number\" ||\n      this._options.searchMinimumLength < 0\n    ) {\n      throw new Error(\"searchMinimumLength must be a non-negative number\");\n    }\n\n    // Validate matcher\n    if (\n      this._options.matcher !== null &&\n      typeof this._options.matcher !== \"function\"\n    ) {\n      throw new Error(\"matcher must be a function or null\");\n    }\n\n    // Validate matchStrategy\n    const validStrategies = [\"startsWith\", \"contains\", \"exact\"];\n    if (!validStrategies.includes(this._options.matchStrategy)) {\n      throw new Error(\n        `matchStrategy must be one of: ${validStrategies.join(\", \")}`,\n      );\n    }\n\n    // Validate template functions\n    if (\n      this._options.templateResult !== null &&\n      typeof this._options.templateResult !== \"function\"\n    ) {\n      throw new Error(\"templateResult must be a function or null\");\n    }\n\n    if (\n      this._options.templateSelection !== null &&\n      typeof this._options.templateSelection !== \"function\"\n    ) {\n      throw new Error(\"templateSelection must be a function or null\");\n    }\n\n    // Validate maximumSelectionLength\n    if (\n      typeof this._options.maximumSelectionLength !== \"number\" ||\n      this._options.maximumSelectionLength < 0\n    ) {\n      throw new Error(\"maximumSelectionLength must be a non-negative number\");\n    }\n\n    // Validate theme\n    if (typeof this._options.theme !== \"string\") {\n      throw new Error(\"theme must be a string\");\n    }\n\n    // Validate width\n    if (typeof this._options.width !== \"string\") {\n      throw new Error('width must be a string (e.g., \"100%\", \"300px\")');\n    }\n  }\n\n  /**\n   * Get an option value\n   * @param {string} key - Option key (supports dot notation)\n   * @returns {*} Option value\n   */\n  get(key) {\n    const keys = key.split(\".\");\n    let value = this._options;\n\n    for (const k of keys) {\n      if (value && typeof value === \"object\" && k in value) {\n        value = value[k];\n      } else {\n        return undefined;\n      }\n    }\n\n    return value;\n  }\n\n  /**\n   * Set an option value\n   * @param {string} key - Option key (supports dot notation)\n   * @param {*} value - New value\n   */\n  set(key, value) {\n    const keys = key.split(\".\");\n    const lastKey = keys.pop();\n    let target = this._options;\n\n    for (const k of keys) {\n      if (!target[k] || typeof target[k] !== \"object\") {\n        target[k] = {};\n      }\n      target = target[k];\n    }\n\n    target[lastKey] = value;\n  }\n\n  /**\n   * Merge new options\n   * @param {Object} options - New options to merge\n   */\n  merge(options) {\n    this._options = this._merge(this._options, options);\n    this._validate();\n  }\n\n  /**\n   * Get all options\n   * @returns {Object} All options\n   */\n  getAll() {\n    return { ...this._options };\n  }\n\n  /**\n   * Check if an option exists\n   * @param {string} key - Option key\n   * @returns {boolean} Whether option exists\n   */\n  has(key) {\n    return this.get(key) !== undefined;\n  }\n}\n\nexport default Options;\n","/**\n * Event name constants for vanilla-smart-select\n * All events use 'vs:' prefix to avoid conflicts\n */\n\nexport const EVENTS = {\n  // Lifecycle events\n  INIT: \"vs:init\",\n  DESTROY: \"vs:destroy\",\n\n  // Selection events\n  SELECT: \"vs:select\",\n  SELECTING: \"vs:selecting\",\n  UNSELECT: \"vs:unselect\",\n  UNSELECTING: \"vs:unselecting\",\n  CHANGE: \"vs:change\",\n  CLEAR: \"vs:clear\",\n  CLEARING: \"vs:clearing\",\n  SELECTION_LIMIT_REACHED: \"vs:selectionLimitReached\",\n\n  // Dropdown events\n  OPEN: \"vs:open\",\n  OPENING: \"vs:opening\",\n  CLOSE: \"vs:close\",\n  CLOSING: \"vs:closing\",\n\n  // Search/Query events\n  QUERY: \"vs:query\",\n  RESULTS: \"vs:results\",\n\n  // Data events\n  DATA_LOADED: \"vs:dataLoaded\",\n\n  // AJAX events (Phase 2)\n  AJAX_LOADING: \"vs:ajaxLoading\",\n  AJAX_SUCCESS: \"vs:ajaxSuccess\",\n  AJAX_ERROR: \"vs:ajaxError\",\n\n  // Focus events\n  FOCUS: \"vs:focus\",\n  BLUR: \"vs:blur\",\n};\n\nexport default EVENTS;\n","/**\n * DOM manipulation utilities\n * Helper functions for common DOM operations\n */\n\n/**\n * Create an element with attributes and children\n * @param {string} tag - HTML tag name\n * @param {Object} attributes - Object with attributes to set\n * @param {Array|string|HTMLElement} children - Child elements or text\n * @returns {HTMLElement} Created element\n */\nexport function createElement(tag, attributes = {}, children = []) {\n  const element = document.createElement(tag);\n\n  // Set attributes\n  Object.entries(attributes).forEach(([key, value]) => {\n    if (key === \"className\") {\n      element.className = value;\n    } else if (key === \"dataset\") {\n      Object.entries(value).forEach(([dataKey, dataValue]) => {\n        element.dataset[dataKey] = dataValue;\n      });\n    } else if (key.startsWith(\"on\") && typeof value === \"function\") {\n      const eventName = key.substring(2).toLowerCase();\n      element.addEventListener(eventName, value);\n    } else {\n      element.setAttribute(key, value);\n    }\n  });\n\n  // Add children\n  const childArray = Array.isArray(children) ? children : [children];\n  childArray.forEach((child) => {\n    if (typeof child === \"string\") {\n      element.appendChild(document.createTextNode(child));\n    } else if (child instanceof HTMLElement) {\n      element.appendChild(child);\n    }\n  });\n\n  return element;\n}\n\n/**\n * Find closest parent matching selector\n * @param {HTMLElement} element - Starting element\n * @param {string} selector - CSS selector\n * @returns {HTMLElement|null} Matching element or null\n */\nexport function closest(element, selector) {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  // Fallback for older browsers\n  let el = element;\n  while (el) {\n    if (el.matches(selector)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\n/**\n * Add one or more classes to an element\n * @param {HTMLElement} element - Element to modify\n * @param {string|Array<string>} classes - Class name(s) to add\n */\nexport function addClass(element, classes) {\n  const classList = Array.isArray(classes) ? classes : [classes];\n  classList.forEach((cls) => {\n    if (cls) element.classList.add(cls);\n  });\n}\n\n/**\n * Remove one or more classes from an element\n * @param {HTMLElement} element - Element to modify\n * @param {string|Array<string>} classes - Class name(s) to remove\n */\nexport function removeClass(element, classes) {\n  const classList = Array.isArray(classes) ? classes : [classes];\n  classList.forEach((cls) => {\n    if (cls) element.classList.remove(cls);\n  });\n}\n\n/**\n * Toggle a class on an element\n * @param {HTMLElement} element - Element to modify\n * @param {string} className - Class name to toggle\n * @param {boolean} force - Force add (true) or remove (false)\n * @returns {boolean} Whether class is present after toggle\n */\nexport function toggleClass(element, className, force) {\n  return element.classList.toggle(className, force);\n}\n\n/**\n * Check if element has a class\n * @param {HTMLElement} element - Element to check\n * @param {string} className - Class name to check\n * @returns {boolean} Whether element has the class\n */\nexport function hasClass(element, className) {\n  return element.classList.contains(className);\n}\n\n/**\n * Remove an element from the DOM\n * @param {HTMLElement} element - Element to remove\n */\nexport function removeElement(element) {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n\n/**\n * Empty an element (remove all children)\n * @param {HTMLElement} element - Element to empty\n */\nexport function emptyElement(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\n\n/**\n * Get element by selector (single)\n * @param {string} selector - CSS selector\n * @param {HTMLElement} context - Context element (default: document)\n * @returns {HTMLElement|null} Found element or null\n */\nexport function querySelector(selector, context = document) {\n  return context.querySelector(selector);\n}\n\n/**\n * Get elements by selector (multiple)\n * @param {string} selector - CSS selector\n * @param {HTMLElement} context - Context element (default: document)\n * @returns {Array<HTMLElement>} Array of found elements\n */\nexport function querySelectorAll(selector, context = document) {\n  return Array.from(context.querySelectorAll(selector));\n}\n\n/**\n * Get element's offset position relative to document\n * @param {HTMLElement} element - Element to get position of\n * @returns {Object} Object with top, left, width, height\n */\nexport function getOffset(element) {\n  const rect = element.getBoundingClientRect();\n  const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n  return {\n    top: rect.top + scrollTop,\n    left: rect.left + scrollLeft,\n    width: rect.width,\n    height: rect.height,\n  };\n}\n\n/**\n * Get element's position relative to offset parent\n * @param {HTMLElement} element - Element to get position of\n * @returns {Object} Object with top and left\n */\nexport function getPosition(element) {\n  return {\n    top: element.offsetTop,\n    left: element.offsetLeft,\n  };\n}\n\n/**\n * Check if element is visible in viewport\n * @param {HTMLElement} element - Element to check\n * @returns {boolean} Whether element is visible\n */\nexport function isInViewport(element) {\n  const rect = element.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <=\n      (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\n/**\n * Scroll element into view if needed\n * @param {HTMLElement} element - Element to scroll to\n * @param {HTMLElement} container - Container to scroll within\n */\nexport function scrollIntoViewIfNeeded(element, container) {\n  const elementRect = element.getBoundingClientRect();\n  const containerRect = container.getBoundingClientRect();\n\n  if (elementRect.top < containerRect.top) {\n    container.scrollTop -= containerRect.top - elementRect.top;\n  } else if (elementRect.bottom > containerRect.bottom) {\n    container.scrollTop += elementRect.bottom - containerRect.bottom;\n  }\n}\n\n/**\n * Generate unique ID\n * @param {string} prefix - Prefix for the ID\n * @returns {string} Unique ID\n */\nlet uniqueIdCounter = 0;\nexport function generateUniqueId(prefix = \"vs\") {\n  return `${prefix}-${Date.now()}-${++uniqueIdCounter}`;\n}\n\n/**\n * Escape HTML special characters\n * @param {string} text - Text to escape\n * @returns {string} Escaped text\n */\nexport function escapeHtml(text) {\n  const div = document.createElement(\"div\");\n  div.textContent = text;\n  return div.innerHTML;\n}\n\n/**\n * Parse HTML string into DOM elements\n * @param {string} html - HTML string\n * @returns {NodeList} Parsed elements\n */\nexport function parseHtml(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html.trim();\n  return template.content.childNodes;\n}\n\nexport default {\n  createElement,\n  closest,\n  addClass,\n  removeClass,\n  toggleClass,\n  hasClass,\n  removeElement,\n  emptyElement,\n  querySelector,\n  querySelectorAll,\n  getOffset,\n  getPosition,\n  isInViewport,\n  scrollIntoViewIfNeeded,\n  generateUniqueId,\n  escapeHtml,\n  parseHtml,\n};\n","/**\n * BaseAdapter - Abstract base class for all adapters\n * Provides common interface and functionality\n */\n\nclass BaseAdapter {\n  constructor(instance, options) {\n    this.instance = instance;\n    this.options = options;\n    this.$element = instance.element;\n  }\n\n  /**\n   * Bind the adapter to a container\n   * @param {HTMLElement} container - Container element\n   */\n  bind(container) {\n    this.container = container;\n  }\n\n  /**\n   * Destroy the adapter and cleanup\n   */\n  destroy() {\n    // Override in subclasses\n  }\n\n  /**\n   * Emit an event through the instance\n   * @param {string} eventName - Event name\n   * @param {*} data - Event data\n   */\n  emit(eventName, data) {\n    if (this.instance && this.instance.emit) {\n      this.instance.emit(eventName, data);\n    }\n  }\n\n  /**\n   * Trigger a DOM event\n   * @param {HTMLElement} element - Element to trigger event on\n   * @param {string} eventName - Event name\n   * @param {*} detail - Event detail\n   */\n  trigger(element, eventName, detail) {\n    if (this.instance && this.instance.trigger) {\n      this.instance.trigger(element, eventName, detail);\n    }\n  }\n}\n\nexport default BaseAdapter;\n","/**\n * DataAdapter - Manages data source and selection state\n * Handles data normalization, querying, and selection tracking\n */\n\nimport BaseAdapter from \"./BaseAdapter.js\";\nimport { EVENTS } from \"../constants/events.js\";\n\nclass DataAdapter extends BaseAdapter {\n  constructor(instance, options) {\n    super(instance, options);\n\n    this.data = [];\n    this.selection = [];\n  }\n\n  /**\n   * Initialize data from element or options\n   */\n  init() {\n    // Load data from options or element\n    const optionsData = this.options.get(\"data\");\n\n    if (optionsData && Array.isArray(optionsData)) {\n      this.setData(optionsData);\n    } else {\n      // Load from <option> elements\n      this.loadFromElement();\n    }\n\n    // Load initial selection\n    this.loadInitialSelection();\n  }\n\n  /**\n   * Load data from <option> elements\n   */\n  loadFromElement() {\n    const data = [];\n    const options = this.$element.querySelectorAll(\"option\");\n    const optgroups = this.$element.querySelectorAll(\"optgroup\");\n\n    // Process optgroups\n    optgroups.forEach((optgroup, index) => {\n      const group = {\n        id: `group-${index}-${optgroup.label}`,\n        text: optgroup.label,\n        children: [],\n      };\n\n      const groupOptions = optgroup.querySelectorAll(\"option\");\n      groupOptions.forEach((option) => {\n        const normalized = this._normalizeOption(option);\n        // Skip empty placeholder options\n        if (!this._isPlaceholder(normalized)) {\n          group.children.push(normalized);\n        }\n      });\n\n      // Only add group if it has children\n      if (group.children.length > 0) {\n        data.push(group);\n      }\n    });\n\n    // Process standalone options (not in optgroups)\n    options.forEach((option) => {\n      if (\n        !option.parentElement ||\n        option.parentElement.tagName !== \"OPTGROUP\"\n      ) {\n        const normalized = this._normalizeOption(option);\n        // Skip empty placeholder options\n        if (!this._isPlaceholder(normalized)) {\n          data.push(normalized);\n        }\n      }\n    });\n\n    this.data = data;\n  }\n\n  /**\n   * Normalize an option element to data format\n   * @param {HTMLOptionElement} option - Option element\n   * @returns {Object} Normalized data object\n   */\n  _normalizeOption(option) {\n    // Use value if present, otherwise use text as fallback\n    // But preserve empty string values (for placeholder detection)\n    const value = option.value;\n    const id =\n      value !== \"\" && value != null ? value : value === \"\" ? \"\" : option.text;\n\n    return {\n      id: id,\n      text: option.text,\n      disabled: option.disabled,\n      selected: option.selected,\n      element: option,\n      _isEmptyValue: value === \"\", // Mark for placeholder detection\n    };\n  }\n\n  /**\n   * Check if an item is a placeholder\n   * @param {Object} item - Normalized item\n   * @returns {boolean} True if placeholder\n   * @private\n   */\n  _isPlaceholder(item) {\n    // Consider it a placeholder if it has an empty value attribute\n    // This catches <option value=\"\">Placeholder</option> patterns\n    // Note: Using explicit checks to allow id=0 (which is a valid ID)\n    return (\n      item._isEmptyValue === true ||\n      item.id === undefined ||\n      item.id === null ||\n      item.id === \"\"\n    );\n  }\n\n  /**\n   * Load initial selection from element\n   */\n  loadInitialSelection() {\n    const selectedOptions = this.$element.querySelectorAll(\"option:checked\");\n    this.selection = Array.from(selectedOptions).map((opt) =>\n      this._normalizeOption(opt),\n    );\n  }\n\n  /**\n   * Set data programmatically\n   * @param {Array} data - Data array\n   */\n  setData(data) {\n    this.data = data.map((item) => this._normalizeItem(item));\n    this.emit(EVENTS.DATA_LOADED, { data: this.data });\n  }\n\n  /**\n   * Normalize a data item\n   * @param {Object} item - Data item\n   * @returns {Object} Normalized item\n   */\n  _normalizeItem(item) {\n    // Preserve all custom properties by spreading the original item\n    const normalized = {\n      ...item, // Keep all custom properties (flag, code, emoji, avatar, etc.)\n      id: item.id !== undefined ? item.id : item.text,\n      text: item.text || \"\",\n      disabled: item.disabled || false,\n      selected: item.selected || false,\n    };\n\n    // Handle groups\n    if (item.children && Array.isArray(item.children)) {\n      normalized.children = item.children.map((child) =>\n        this._normalizeItem(child),\n      );\n    }\n\n    // Keep original data\n    if (item.element) {\n      normalized.element = item.element;\n    }\n\n    return normalized;\n  }\n\n  /**\n   * Query data (search/filter)\n   * @param {Object} _params - Query parameters (reserved for future use)\n   * @returns {Array} Filtered data with groups preserved\n   */\n  query(_params = {}) {\n    // Return data with groups intact - don't flatten!\n    // Filtering/searching is handled by SearchManager and ResultsAdapter\n    return this.data;\n  }\n\n  /**\n   * Get current selection\n   * @returns {Array} Selected items\n   */\n  current() {\n    return this.selection;\n  }\n\n  /**\n   * Select an item\n   * @param {Object} data - Item to select\n   * @returns {boolean} True if selection was successful, false if limit reached or already selected\n   */\n  select(data) {\n    const isMultiple = this.options.get(\"multiple\");\n\n    if (!isMultiple) {\n      // Single select - clear previous selection\n      this.selection = [data];\n    } else {\n      // Multiple select - add to selection\n      const exists = this.selection.some((item) => item.id === data.id);\n      if (!exists) {\n        // Check selection limit\n        const maximumSelectionLength = this.options.get(\n          \"maximumSelectionLength\",\n        );\n        if (\n          maximumSelectionLength > 0 &&\n          this.selection.length >= maximumSelectionLength\n        ) {\n          // Limit reached - emit event and return false\n          const language = this.options.get(\"language\");\n          const message =\n            typeof language.maximumSelected === \"function\"\n              ? language.maximumSelected({ maximum: maximumSelectionLength })\n              : `You can only select ${maximumSelectionLength} items`;\n\n          this.emit(EVENTS.SELECTION_LIMIT_REACHED, {\n            maximum: maximumSelectionLength,\n            message: message,\n          });\n          this.trigger(this.$element, EVENTS.SELECTION_LIMIT_REACHED, {\n            maximum: maximumSelectionLength,\n            message: message,\n          });\n\n          return false; // Selection failed - limit reached\n        }\n\n        this.selection.push(data);\n      } else {\n        // Item already selected\n        return false;\n      }\n    }\n\n    // Update element\n    this._updateElement();\n\n    // Emit events\n    this.emit(EVENTS.SELECT, { data });\n    this.emit(EVENTS.CHANGE, { value: this.getValue() });\n    this.trigger(this.$element, EVENTS.SELECT, { data });\n    this.trigger(this.$element, EVENTS.CHANGE, { value: this.getValue() });\n\n    return true; // Selection successful\n  }\n\n  /**\n   * Unselect an item\n   * @param {Object} data - Item to unselect\n   */\n  unselect(data) {\n    this.selection = this.selection.filter((item) => item.id !== data.id);\n\n    // Update element\n    this._updateElement();\n\n    // Emit events\n    this.emit(EVENTS.UNSELECT, { data });\n    this.emit(EVENTS.CHANGE, { value: this.getValue() });\n    this.trigger(this.$element, EVENTS.UNSELECT, { data });\n    this.trigger(this.$element, EVENTS.CHANGE, { value: this.getValue() });\n  }\n\n  /**\n   * Clear all selections\n   */\n  clear() {\n    this.selection = [];\n    this._updateElement();\n\n    // Don't emit events here - VanillaSmartSelect.clear() will emit them\n    // This prevents double emission and timing issues\n  }\n\n  /**\n   * Get current value(s)\n   * @returns {string|Array} Current value\n   */\n  getValue() {\n    const isMultiple = this.options.get(\"multiple\");\n\n    if (isMultiple) {\n      return this.selection.map((item) => item.id);\n    }\n\n    return this.selection.length > 0 ? this.selection[0].id : null;\n  }\n\n  /**\n   * Update the original select element\n   * @private\n   */\n  _updateElement() {\n    const options = this.$element.querySelectorAll(\"option\");\n    const selectedIds = this.selection.map((item) => item.id);\n\n    options.forEach((option) => {\n      const value = option.value || option.text;\n      option.selected = selectedIds.includes(value);\n    });\n\n    // Trigger native change event\n    const event = new Event(\"change\", { bubbles: true });\n    this.$element.dispatchEvent(event);\n  }\n\n  /**\n   * Destroy the adapter\n   */\n  destroy() {\n    this.data = [];\n    this.selection = [];\n  }\n}\n\nexport default DataAdapter;\n","/**\n * AjaxAdapter - Handles remote data loading via AJAX\n * Supports search, pagination, and custom request configuration\n */\n\nimport BaseAdapter from \"./BaseAdapter.js\";\nimport { EVENTS } from \"../constants/events.js\";\n\nclass AjaxAdapter extends BaseAdapter {\n  constructor(instance, options, dataAdapter) {\n    super(instance, options);\n\n    this.dataAdapter = dataAdapter;\n    this.currentRequest = null;\n    this.cache = new Map();\n\n    // Get AJAX configuration\n    this.ajaxConfig = this.options.get(\"ajax\");\n\n    if (!this.ajaxConfig) {\n      throw new Error(\"AjaxAdapter requires ajax configuration option\");\n    }\n\n    // Normalize AJAX config with defaults\n    this.ajaxConfig = {\n      url: \"\",\n      method: \"GET\",\n      dataType: \"json\",\n      delay: 250,\n      headers: {},\n      cache: false,\n      data: (params) => params,\n      processResults: (data) => ({ results: data }),\n      transport: null,\n      ...this.ajaxConfig,\n    };\n  }\n\n  /**\n   * Query remote data\n   * @param {Object} params - Query parameters\n   * @param {string} params.term - Search term\n   * @param {number} params.page - Page number (for pagination)\n   * @returns {Promise<Object>} Results with data and pagination info\n   */\n  query(params = {}) {\n    const { term = \"\", page = 1 } = params;\n\n    // Check cache if enabled\n    const cacheKey = this._getCacheKey(params);\n    if (this.ajaxConfig.cache && this.cache.has(cacheKey)) {\n      return Promise.resolve(this.cache.get(cacheKey));\n    }\n\n    // Cancel previous request if exists\n    if (this.currentRequest) {\n      this.currentRequest.abort();\n    }\n\n    // Emit loading event\n    this.emit(EVENTS.AJAX_LOADING, { params });\n    this.trigger(this.$element, EVENTS.AJAX_LOADING, { params });\n\n    // Prepare request parameters using custom data function\n    const requestParams = this.ajaxConfig.data({ term, page });\n\n    // Use custom transport if provided, otherwise use default fetch\n    const request = this.ajaxConfig.transport\n      ? this.ajaxConfig.transport.call(this, requestParams, this.ajaxConfig)\n      : this._defaultTransport(requestParams);\n\n    this.currentRequest = request;\n\n    return request\n      .then((response) => {\n        this.currentRequest = null;\n\n        // Process results using custom function\n        const processedResults = this.ajaxConfig.processResults(\n          response,\n          params,\n        );\n\n        // Normalize the results\n        const normalizedResults = {\n          results: Array.isArray(processedResults.results)\n            ? processedResults.results.map((item) => this._normalizeItem(item))\n            : [],\n          pagination: processedResults.pagination || { more: false },\n        };\n\n        // Update cache if enabled\n        if (this.ajaxConfig.cache) {\n          this.cache.set(cacheKey, normalizedResults);\n        }\n\n        // Emit success event\n        this.emit(EVENTS.AJAX_SUCCESS, { results: normalizedResults, params });\n        this.trigger(this.$element, EVENTS.AJAX_SUCCESS, {\n          results: normalizedResults,\n          params,\n        });\n\n        return normalizedResults;\n      })\n      .catch((error) => {\n        this.currentRequest = null;\n\n        // Only emit error if it's not an abort\n        if (error.name !== \"AbortError\") {\n          this.emit(EVENTS.AJAX_ERROR, { error, params });\n          this.trigger(this.$element, EVENTS.AJAX_ERROR, { error, params });\n        }\n\n        // Return empty results on error\n        return { results: [], pagination: { more: false } };\n      });\n  }\n\n  /**\n   * Default transport using Fetch API\n   * @param {Object} params - Request parameters\n   * @returns {Promise} Fetch promise with AbortController\n   * @private\n   */\n  _defaultTransport(params) {\n    const abortController = new AbortController();\n\n    let url = this.ajaxConfig.url;\n    const method = this.ajaxConfig.method.toUpperCase();\n\n    // Prepare request options\n    const fetchOptions = {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...this.ajaxConfig.headers,\n      },\n      signal: abortController.signal,\n    };\n\n    // Handle GET requests - add params to URL\n    if (method === \"GET\") {\n      const queryString = new URLSearchParams(params).toString();\n      if (queryString) {\n        url += (url.includes(\"?\") ? \"&\" : \"?\") + queryString;\n      }\n    } else {\n      // Handle POST/PUT requests - add params to body\n      fetchOptions.body = JSON.stringify(params);\n    }\n\n    const fetchPromise = fetch(url, fetchOptions).then((response) => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      // Parse response based on dataType\n      if (this.ajaxConfig.dataType === \"json\") {\n        return response.json();\n      } else if (this.ajaxConfig.dataType === \"text\") {\n        return response.text();\n      } else {\n        return response.blob();\n      }\n    });\n\n    // Add abort method to the promise\n    fetchPromise.abort = () => abortController.abort();\n\n    return fetchPromise;\n  }\n\n  /**\n   * Normalize a data item (same as DataAdapter)\n   * @param {Object} item - Data item\n   * @returns {Object} Normalized item\n   * @private\n   */\n  _normalizeItem(item) {\n    // Preserve all custom properties by spreading the original item\n    const normalized = {\n      ...item, // Keep all custom properties\n      id: item.id !== undefined ? item.id : item.text,\n      text: item.text || \"\",\n      disabled: item.disabled || false,\n      selected: item.selected || false,\n    };\n\n    // Handle groups\n    if (item.children && Array.isArray(item.children)) {\n      normalized.children = item.children.map((child) =>\n        this._normalizeItem(child),\n      );\n    }\n\n    return normalized;\n  }\n\n  /**\n   * Generate cache key from parameters\n   * @param {Object} params - Query parameters\n   * @returns {string} Cache key\n   * @private\n   */\n  _getCacheKey(params) {\n    return JSON.stringify(params);\n  }\n\n  /**\n   * Clear the cache\n   */\n  clearCache() {\n    this.cache.clear();\n  }\n\n  /**\n   * Destroy the adapter\n   */\n  destroy() {\n    // Cancel any pending requests\n    if (this.currentRequest) {\n      this.currentRequest.abort();\n      this.currentRequest = null;\n    }\n\n    // Clear cache\n    this.clearCache();\n  }\n}\n\nexport default AjaxAdapter;\n","/**\n * Template Utilities\n * Handles custom template rendering with safety checks\n */\n\nimport { createElement } from \"./dom.js\";\n\n/**\n * Apply a custom template function to render content\n * @param {Function} templateFn - Template function that receives item and returns HTMLElement or string\n * @param {Object} item - Data item to render\n * @param {HTMLElement} targetElement - Element to append rendered content to\n * @param {Object} options - Rendering options\n * @param {string} options.defaultText - Default text to use if template fails (defaults to item.text)\n * @param {boolean} options.useTextContent - Use textContent instead of createElement for fallback (defaults to false)\n * @returns {boolean} True if template was applied successfully, false if fallback was used\n */\nexport function applyTemplate(templateFn, item, targetElement, options = {}) {\n  const { defaultText = item.text, useTextContent = false } = options;\n\n  // If no template function provided, use default rendering\n  if (!templateFn || typeof templateFn !== \"function\") {\n    _renderDefault(targetElement, defaultText, useTextContent);\n    return false;\n  }\n\n  try {\n    // Call template function\n    const customContent = templateFn(item);\n\n    // Handle HTMLElement return\n    if (customContent instanceof HTMLElement) {\n      targetElement.appendChild(customContent);\n      return true;\n    }\n\n    // Handle string return (HTML)\n    if (typeof customContent === \"string\") {\n      // Note: Using innerHTML here - developers are responsible for sanitizing\n      // user-generated content to prevent XSS attacks\n      targetElement.innerHTML = customContent;\n      return true;\n    }\n\n    // Invalid return type - use fallback\n    console.warn(\n      \"Template function returned invalid content type:\",\n      typeof customContent,\n    );\n    _renderDefault(targetElement, defaultText, useTextContent);\n    return false;\n  } catch (error) {\n    // Template function threw an error - log and use fallback\n    console.error(\"Template rendering error:\", error);\n    _renderDefault(targetElement, defaultText, useTextContent);\n    return false;\n  }\n}\n\n/**\n * Render default content (fallback)\n * @param {HTMLElement} targetElement - Target element\n * @param {string} text - Text to render\n * @param {boolean} useTextContent - Use textContent directly or create span wrapper\n * @private\n */\nfunction _renderDefault(targetElement, text, useTextContent) {\n  if (useTextContent) {\n    targetElement.textContent = text;\n  } else {\n    const textElement = createElement(\"span\", {}, text);\n    targetElement.appendChild(textElement);\n  }\n}\n","/**\n * Selection Component - Renders selected items display\n * Handles single and multiple selection display\n */\n\nimport { createElement } from \"../utils/dom.js\";\nimport { applyTemplate } from \"../utils/template.js\";\n\nclass Selection {\n  constructor(options) {\n    this.options = options;\n    this.container = null;\n\n    // Cache template function for performance (avoids repeated options.get calls)\n    this._cachedTemplateSelection = options.get(\"templateSelection\");\n  }\n\n  /**\n   * Render the selection container\n   * @returns {HTMLElement} Selection container\n   */\n  render() {\n    this.container = createElement(\"div\", {\n      className: \"vs-selection\",\n      tabindex: \"0\",\n      role: \"combobox\",\n      \"aria-expanded\": \"false\",\n      \"aria-haspopup\": \"listbox\",\n    });\n\n    // Render placeholder initially\n    this.renderPlaceholder();\n\n    return this.container;\n  }\n\n  /**\n   * Render placeholder\n   */\n  renderPlaceholder() {\n    if (!this.container) return;\n\n    // Always clear the container first\n    this.container.innerHTML = \"\";\n\n    // Then add placeholder if defined\n    const placeholder = this.options.get(\"placeholder\");\n    if (placeholder) {\n      const placeholderEl = createElement(\n        \"span\",\n        {\n          className: \"vs-selection__placeholder\",\n        },\n        placeholder,\n      );\n      this.container.appendChild(placeholderEl);\n    }\n  }\n\n  /**\n   * Update selection display\n   * @param {Array} selection - Selected items\n   */\n  update(selection) {\n    if (!this.container) return;\n\n    const isMultiple = this.options.get(\"multiple\");\n\n    if (!selection || selection.length === 0) {\n      this.renderPlaceholder();\n      return;\n    }\n\n    if (isMultiple) {\n      this._renderMultiple(selection);\n    } else {\n      this._renderSingle(selection[0]);\n    }\n  }\n\n  /**\n   * Render single selection\n   * @param {Object} item - Selected item\n   * @private\n   */\n  _renderSingle(item) {\n    this.container.innerHTML = \"\";\n\n    const rendered = createElement(\"span\", {\n      className: \"vs-selection__rendered\",\n    });\n\n    // Use custom template if provided, otherwise use default\n    // Uses cached template function for better performance\n    applyTemplate(this._cachedTemplateSelection, item, rendered, {\n      defaultText: item.text,\n      useTextContent: true, // Use textContent directly for better performance\n    });\n\n    this.container.appendChild(rendered);\n\n    // Add clear button if allowClear is enabled\n    const allowClear = this.options.get(\"allowClear\");\n    if (allowClear) {\n      const language = this.options.get(\"language\");\n      const clearLabel = language.clearSelection || \"Clear selection\";\n\n      const clearBtn = createElement(\n        \"span\",\n        {\n          className: \"vs-selection__clear\",\n          role: \"button\",\n          \"aria-label\": clearLabel,\n          title: clearLabel,\n        },\n        \"×\",\n      );\n\n      this.container.appendChild(clearBtn);\n    }\n  }\n\n  /**\n   * Render multiple selection\n   * @param {Array} items - Selected items\n   * @private\n   */\n  _renderMultiple(items) {\n    this.container.innerHTML = \"\";\n\n    const choicesContainer = createElement(\"ul\", {\n      className: \"vs-selection__choices\",\n    });\n\n    items.forEach((item) => {\n      const choice = this._renderChoice(item);\n      choicesContainer.appendChild(choice);\n    });\n\n    this.container.appendChild(choicesContainer);\n  }\n\n  /**\n   * Render a single choice (tag) in multiple select\n   * @param {Object} item - Item to render\n   * @returns {HTMLElement} Choice element\n   * @private\n   */\n  _renderChoice(item) {\n    const choice = createElement(\"li\", {\n      className: \"vs-selection__choice\",\n      \"data-id\": item.id,\n    });\n\n    const text = createElement(\"span\", {\n      className: \"vs-selection__choice__text\",\n    });\n\n    // Use custom template if provided, otherwise use default\n    // Uses cached template function for better performance\n    applyTemplate(this._cachedTemplateSelection, item, text, {\n      defaultText: item.text,\n      useTextContent: true, // Use textContent directly for better performance\n    });\n\n    const language = this.options.get(\"language\");\n    const removeLabel =\n      typeof language.removeItem === \"function\"\n        ? language.removeItem({ text: item.text })\n        : `Remove ${item.text}`;\n\n    const remove = createElement(\n      \"span\",\n      {\n        className: \"vs-selection__choice__remove\",\n        role: \"button\",\n        \"aria-label\": removeLabel,\n        \"data-id\": item.id,\n      },\n      \"×\",\n    );\n\n    choice.appendChild(text);\n    choice.appendChild(remove);\n\n    return choice;\n  }\n\n  /**\n   * Clear the selection display\n   */\n  clear() {\n    this.renderPlaceholder();\n  }\n\n  /**\n   * Get the container element\n   * @returns {HTMLElement} Container\n   */\n  getContainer() {\n    return this.container;\n  }\n\n  /**\n   * Destroy the component\n   */\n  destroy() {\n    if (this.container && this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n    this.container = null;\n  }\n}\n\nexport default Selection;\n","/**\n * SelectionAdapter - Manages selection UI rendering\n * Coordinates between Selection component and DataAdapter\n */\n\nimport BaseAdapter from \"./BaseAdapter.js\";\nimport Selection from \"../components/Selection.js\";\nimport { EVENTS } from \"../constants/events.js\";\n\nclass SelectionAdapter extends BaseAdapter {\n  constructor(instance, options) {\n    super(instance, options);\n\n    this.selection = new Selection(options);\n    this.dataAdapter = null;\n\n    // Store event handler references for proper cleanup\n    this._toggleClickHandler = null;\n    this._clearClickHandler = null;\n    this._removeClickHandler = null;\n    this.selectionContainer = null;\n  }\n\n  /**\n   * Bind the adapter\n   * @param {HTMLElement} container - Container element\n   * @param {DataAdapter} dataAdapter - Data adapter instance\n   */\n  bind(container, dataAdapter) {\n    super.bind(container);\n    this.dataAdapter = dataAdapter;\n\n    // Render selection component\n    const selectionElement = this.selection.render();\n    container.appendChild(selectionElement);\n\n    // Bind events\n    this._bindEvents();\n\n    // Initial render\n    this.update();\n  }\n\n  /**\n   * Bind event listeners\n   * @private\n   */\n  _bindEvents() {\n    const selectionContainer = this.selection.getContainer();\n    this.selectionContainer = selectionContainer;\n\n    // Click to open dropdown - store handler reference for cleanup\n    this._toggleClickHandler = (e) => {\n      // Don't open if clicking on remove button or clear button\n      if (\n        e.target.classList.contains(\"vs-selection__choice__remove\") ||\n        e.target.classList.contains(\"vs-selection__clear\")\n      ) {\n        return;\n      }\n\n      if (this.instance) {\n        this.instance.toggle();\n      }\n    };\n    selectionContainer.addEventListener(\"click\", this._toggleClickHandler);\n\n    // Handle clear button click - store handler reference for cleanup\n    this._clearClickHandler = (e) => {\n      if (e.target.classList.contains(\"vs-selection__clear\")) {\n        e.stopPropagation();\n        e.preventDefault();\n\n        // Use the clear() method from the main API\n        if (this.instance) {\n          this.instance.clear();\n        }\n      }\n    };\n    selectionContainer.addEventListener(\"click\", this._clearClickHandler);\n\n    // Handle remove button clicks (for multiple select) - store handler reference for cleanup\n    this._removeClickHandler = (e) => {\n      if (e.target.classList.contains(\"vs-selection__choice__remove\")) {\n        const id = e.target.dataset.id;\n        const item = this.dataAdapter.current().find((item) => item.id === id);\n\n        if (item) {\n          this.dataAdapter.unselect(item);\n          this.update();\n        }\n\n        e.stopPropagation();\n      }\n    };\n    selectionContainer.addEventListener(\"click\", this._removeClickHandler);\n\n    // Listen to selection changes\n    this.instance.on(EVENTS.SELECT, () => {\n      this.update();\n    });\n\n    this.instance.on(EVENTS.UNSELECT, () => {\n      this.update();\n    });\n\n    this.instance.on(EVENTS.CLEAR, () => {\n      this.update();\n    });\n  }\n\n  /**\n   * Update the selection display\n   */\n  update() {\n    if (!this.dataAdapter) return;\n\n    const current = this.dataAdapter.current();\n    this.selection.update(current);\n  }\n\n  /**\n   * Clear the selection\n   */\n  clear() {\n    this.selection.clear();\n  }\n\n  /**\n   * Destroy the adapter\n   */\n  destroy() {\n    // Properly remove event listeners to prevent memory leaks\n    if (this.selectionContainer) {\n      if (this._toggleClickHandler) {\n        this.selectionContainer.removeEventListener(\n          \"click\",\n          this._toggleClickHandler,\n        );\n        this._toggleClickHandler = null;\n      }\n\n      if (this._clearClickHandler) {\n        this.selectionContainer.removeEventListener(\n          \"click\",\n          this._clearClickHandler,\n        );\n        this._clearClickHandler = null;\n      }\n\n      if (this._removeClickHandler) {\n        this.selectionContainer.removeEventListener(\n          \"click\",\n          this._removeClickHandler,\n        );\n        this._removeClickHandler = null;\n      }\n\n      this.selectionContainer = null;\n    }\n\n    this.selection.destroy();\n  }\n}\n\nexport default SelectionAdapter;\n","/**\n * Dropdown Component - Manages dropdown container\n * Handles positioning, visibility, and container structure\n */\n\nimport { createElement } from \"../utils/dom.js\";\n\nclass Dropdown {\n  constructor(options) {\n    this.options = options;\n    this.container = null;\n    this.isOpen = false;\n    this.positionContext = \"body\"; // 'body' or 'modal'\n    this.modalParent = null;\n  }\n\n  /**\n   * Set the positioning context\n   * @param {string} context - 'body' or 'modal'\n   * @param {HTMLElement|null} modalParent - Modal parent element\n   */\n  setPositionContext(context, modalParent) {\n    this.positionContext = context;\n    this.modalParent = modalParent;\n  }\n\n  /**\n   * Render the dropdown container\n   * @returns {HTMLElement} Dropdown container\n   */\n  render() {\n    const theme = this.options.get(\"theme\") || \"default\";\n\n    this.container = createElement(\"div\", {\n      className: `vs-dropdown vs-container--${theme}`,\n      role: \"listbox\",\n    });\n\n    return this.container;\n  }\n\n  /**\n   * Position the dropdown\n   * @param {HTMLElement} anchor - Anchor element (selection container)\n   */\n  position(anchor) {\n    if (!this.container || !anchor) return;\n\n    const anchorRect = anchor.getBoundingClientRect();\n    const dropdownHeight = this.container.offsetHeight;\n    const viewportHeight = window.innerHeight;\n\n    if (this.positionContext === \"modal\" && this.modalParent) {\n      // Position relative to modal\n      const modalRect = this.modalParent.getBoundingClientRect();\n\n      // Calculate position relative to modal\n      const relativeTop = anchorRect.bottom - modalRect.top;\n      const relativeLeft = anchorRect.left - modalRect.left;\n\n      // Check available space within modal\n      const spaceBelow = modalRect.bottom - anchorRect.bottom;\n      const spaceAbove = anchorRect.top - modalRect.top;\n\n      // Determine position (above or below)\n      let position = \"below\";\n      if (spaceBelow < dropdownHeight && spaceAbove > spaceBelow) {\n        position = \"above\";\n      }\n\n      // Use absolute positioning within modal\n      this.container.style.position = \"absolute\";\n\n      if (position === \"above\") {\n        this.container.style.bottom = `${modalRect.bottom - anchorRect.top}px`;\n        this.container.style.top = \"auto\";\n      } else {\n        this.container.style.top = `${relativeTop}px`;\n        this.container.style.bottom = \"auto\";\n      }\n\n      this.container.style.left = `${relativeLeft}px`;\n      this.container.style.width = `${anchorRect.width}px`;\n    } else {\n      // Position fixed to viewport (original behavior)\n      const spaceBelow = viewportHeight - anchorRect.bottom;\n      const spaceAbove = anchorRect.top;\n\n      // Determine position (above or below)\n      let position = \"below\";\n      if (spaceBelow < dropdownHeight && spaceAbove > spaceBelow) {\n        position = \"above\";\n      }\n\n      // Use fixed positioning\n      this.container.style.position = \"fixed\";\n\n      // Apply positioning\n      if (position === \"above\") {\n        this.container.style.bottom = `${viewportHeight - anchorRect.top}px`;\n        this.container.style.top = \"auto\";\n      } else {\n        this.container.style.top = `${anchorRect.bottom}px`;\n        this.container.style.bottom = \"auto\";\n      }\n\n      this.container.style.left = `${anchorRect.left}px`;\n      this.container.style.width = `${anchorRect.width}px`;\n    }\n  }\n\n  /**\n   * Open the dropdown\n   */\n  open() {\n    if (this.isOpen || !this.container) return;\n\n    this.container.classList.add(\"vs-dropdown--open\");\n    this.container.style.display = \"block\";\n    this.isOpen = true;\n  }\n\n  /**\n   * Close the dropdown\n   */\n  close() {\n    if (!this.isOpen || !this.container) return;\n\n    this.container.classList.remove(\"vs-dropdown--open\");\n    this.container.style.display = \"none\";\n    this.isOpen = false;\n  }\n\n  /**\n   * Toggle dropdown open/closed\n   */\n  toggle() {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  /**\n   * Get the container element\n   * @returns {HTMLElement} Container\n   */\n  getContainer() {\n    return this.container;\n  }\n\n  /**\n   * Destroy the component\n   */\n  destroy() {\n    if (this.container && this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n    this.container = null;\n    this.isOpen = false;\n  }\n}\n\nexport default Dropdown;\n","/**\n * SearchBox Component - Search input inside dropdown\n * Handles search input rendering and events\n */\n\nimport { createElement, emptyElement } from \"../utils/dom.js\";\n\nclass SearchBox {\n  constructor(options) {\n    this.options = options;\n    this.container = null;\n    this.input = null;\n  }\n\n  /**\n   * Get placeholder text based on options and language\n   * @returns {string} Placeholder text\n   * @private\n   */\n  _getPlaceholder() {\n    const language = this.options.get(\"language\");\n    const customPlaceholder = this.options.get(\"searchPlaceholder\");\n    return customPlaceholder !== null && customPlaceholder !== undefined\n      ? customPlaceholder\n      : language.searchPlaceholder || \"Search...\";\n  }\n\n  /**\n   * Get ARIA label based on language\n   * @returns {string} ARIA label text\n   * @private\n   */\n  _getAriaLabel() {\n    const language = this.options.get(\"language\");\n    return language.searchLabel || \"Search options\";\n  }\n\n  /**\n   * Render the search box\n   * @returns {HTMLElement} Search box container\n   */\n  render() {\n    this.container = createElement(\"div\", {\n      className: \"vs-search-container\",\n    });\n\n    this.input = createElement(\"input\", {\n      type: \"text\",\n      className: \"vs-search\",\n      autocomplete: \"off\",\n      autocorrect: \"off\",\n      autocapitalize: \"off\",\n      spellcheck: \"false\",\n      role: \"searchbox\",\n      \"aria-autocomplete\": \"list\",\n      \"aria-label\": this._getAriaLabel(),\n    });\n\n    this.input.placeholder = this._getPlaceholder();\n\n    this.container.appendChild(this.input);\n\n    return this.container;\n  }\n\n  /**\n   * Get the input element\n   * @returns {HTMLInputElement} Input element\n   */\n  getInput() {\n    return this.input;\n  }\n\n  /**\n   * Get the container element\n   * @returns {HTMLElement} Container element\n   */\n  getContainer() {\n    return this.container;\n  }\n\n  /**\n   * Focus the search input\n   */\n  focus() {\n    if (this.input) {\n      this.input.focus();\n    }\n  }\n\n  /**\n   * Clear the search input\n   */\n  clear() {\n    if (this.input) {\n      this.input.value = \"\";\n    }\n  }\n\n  /**\n   * Get current search value\n   * @returns {string} Search value\n   */\n  getValue() {\n    return this.input ? this.input.value : \"\";\n  }\n\n  /**\n   * Set search value\n   * @param {string} value - Value to set\n   */\n  setValue(value) {\n    if (this.input) {\n      this.input.value = value;\n    }\n  }\n\n  /**\n   * Update component with new language/options\n   * Refreshes placeholder and aria-label\n   */\n  update() {\n    if (!this.input) {\n      return;\n    }\n\n    this.input.placeholder = this._getPlaceholder();\n    this.input.setAttribute(\"aria-label\", this._getAriaLabel());\n  }\n\n  /**\n   * Destroy the component\n   */\n  destroy() {\n    if (this.container && this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n    this.container = null;\n    this.input = null;\n  }\n}\n\nexport default SearchBox;\n","/**\n * Debounce Utility\n * Delays function execution until after a specified wait period\n */\n\n/**\n * Creates a debounced function that delays invoking func until after\n * wait milliseconds have elapsed since the last time the debounced\n * function was invoked\n * @param {Function} func - Function to debounce\n * @param {number} wait - Milliseconds to wait\n * @param {boolean} immediate - If true, trigger function on leading edge instead of trailing\n * @returns {Function} Debounced function with cancel method\n */\nexport function debounce(func, wait = 250, immediate = false) {\n  let timeout;\n\n  const debounced = function (...args) {\n    const context = this;\n\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n\n  // Add cancel method to clear pending execution\n  debounced.cancel = () => {\n    clearTimeout(timeout);\n    timeout = null;\n  };\n\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes func at most once per\n * every wait milliseconds\n * @param {Function} func - Function to throttle\n * @param {number} wait - Milliseconds to wait\n * @returns {Function} Throttled function\n */\nexport function throttle(func, wait = 250) {\n  let timeout;\n  let previous = 0;\n\n  return function (...args) {\n    const context = this;\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout) {\n      timeout = setTimeout(() => {\n        previous = Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\n\nexport default debounce;\n","/**\n * DropdownAdapter - Manages dropdown display and positioning\n * Coordinates dropdown opening, closing, and positioning\n */\n\nimport BaseAdapter from \"./BaseAdapter.js\";\nimport Dropdown from \"../components/Dropdown.js\";\nimport SearchBox from \"../components/SearchBox.js\";\nimport { EVENTS } from \"../constants/events.js\";\nimport { debounce } from \"../utils/debounce.js\";\n\nclass DropdownAdapter extends BaseAdapter {\n  constructor(instance, options) {\n    super(instance, options);\n\n    this.dropdown = new Dropdown(options);\n    this.searchBox = null;\n    this.anchorElement = null;\n    this._justOpened = false; // Flag to prevent immediate close on programmatic open\n\n    // Store event handler references for proper cleanup\n    // Bind handlers once in constructor to maintain same reference\n    this._boundHandleOutsideClick = this._handleOutsideClick.bind(this);\n    this._boundHandleResize = this._handleResize.bind(this);\n    this._boundHandleScroll = this._handleScroll.bind(this);\n    this._inputHandler = null;\n    this._searchClickHandler = null;\n  }\n\n  /**\n   * Bind the adapter\n   * @param {HTMLElement} container - Main container\n   * @param {HTMLElement} anchor - Anchor element (selection container)\n   */\n  bind(container, anchor) {\n    super.bind(container);\n    this.anchorElement = anchor;\n\n    // Render dropdown and append to body (for proper positioning)\n    const dropdownElement = this.dropdown.render();\n\n    // Add search box if searchable\n    const searchable = this.options.get(\"searchable\");\n    if (searchable) {\n      this.searchBox = new SearchBox(this.options);\n      const searchBoxElement = this.searchBox.render();\n      dropdownElement.insertBefore(\n        searchBoxElement,\n        dropdownElement.firstChild,\n      );\n    }\n\n    // Determine where to append dropdown\n    // If inside a modal, append to modal (like Select2's dropdownParent)\n    // This keeps the dropdown within Bootstrap's focus trap\n    const modalElement = this._findModalParent();\n    if (modalElement) {\n      modalElement.appendChild(dropdownElement);\n      this.dropdown.setPositionContext(\"modal\", modalElement);\n    } else {\n      document.body.appendChild(dropdownElement);\n      this.dropdown.setPositionContext(\"body\", null);\n    }\n\n    // Bind events\n    this._bindEvents();\n  }\n\n  /**\n   * Find the closest modal parent element\n   * @returns {HTMLElement|null} Modal element or null\n   * @private\n   */\n  _findModalParent() {\n    if (!this.container) return null;\n\n    let element = this.container;\n    while (element && element !== document.body) {\n      // Bootstrap modal\n      if (element.classList && element.classList.contains(\"modal\")) {\n        return element;\n      }\n      // Generic dialog\n      if (\n        element.hasAttribute(\"role\") &&\n        element.getAttribute(\"role\") === \"dialog\"\n      ) {\n        return element;\n      }\n      element = element.parentElement;\n    }\n\n    return null;\n  }\n\n  /**\n   * Bind event listeners\n   * @private\n   */\n  _bindEvents() {\n    // Listen to open/close events\n    this.instance.on(EVENTS.OPENING, () => {\n      this.open();\n    });\n\n    this.instance.on(EVENTS.CLOSING, () => {\n      this.close();\n    });\n\n    // SearchBox events\n    if (this.searchBox) {\n      const input = this.searchBox.getInput();\n\n      // Check if AJAX is configured\n      const ajaxConfig = this.options.get(\"ajax\");\n      const searchDelay = ajaxConfig\n        ? ajaxConfig.delay || 250\n        : this.options.get(\"searchDelay\") || 0;\n\n      // Create query handler (with debounce for AJAX)\n      const handleQuery = (term) => {\n        this.instance.emit(EVENTS.QUERY, { term });\n      };\n\n      // Use debounce for AJAX queries, immediate for local filtering\n      const queryHandler =\n        searchDelay > 0 ? debounce(handleQuery, searchDelay) : handleQuery;\n\n      // Emit query event on input - store handler reference for cleanup\n      this._inputHandler = (e) => {\n        const term = e.target.value;\n        queryHandler(term);\n      };\n      input.addEventListener(\"input\", this._inputHandler);\n\n      // Prevent dropdown close on search input click - store handler reference for cleanup\n      this._searchClickHandler = (e) => {\n        e.stopPropagation();\n      };\n      input.addEventListener(\"click\", this._searchClickHandler);\n    }\n\n    // Close on outside click - use bound reference for proper cleanup\n    document.addEventListener(\"click\", this._boundHandleOutsideClick);\n\n    // Reposition on scroll/resize - use bound references for proper cleanup\n    window.addEventListener(\"resize\", this._boundHandleResize);\n    window.addEventListener(\"scroll\", this._boundHandleScroll, true);\n  }\n\n  /**\n   * Handle outside clicks\n   * @param {Event} e - Click event\n   * @private\n   */\n  _handleOutsideClick(e) {\n    if (!this.dropdown.isOpen) return;\n\n    // Ignore clicks that happened in the same event loop as opening\n    // This prevents programmatic open() from being immediately closed\n    if (this._justOpened) {\n      return;\n    }\n\n    const dropdownEl = this.dropdown.getContainer();\n    const isClickInside =\n      this.container.contains(e.target) || dropdownEl.contains(e.target);\n\n    if (!isClickInside) {\n      this.instance.close();\n    }\n  }\n\n  /**\n   * Handle window resize\n   * @private\n   */\n  _handleResize() {\n    if (this.dropdown.isOpen) {\n      this.dropdown.position(this.anchorElement);\n    }\n  }\n\n  /**\n   * Handle scroll\n   * @private\n   */\n  _handleScroll() {\n    if (this.dropdown.isOpen) {\n      this.dropdown.position(this.anchorElement);\n    }\n  }\n\n  /**\n   * Open the dropdown\n   */\n  open() {\n    this.dropdown.open();\n    this.dropdown.position(this.anchorElement);\n\n    // Set flag to prevent immediate close from the same click event\n    this._justOpened = true;\n    setTimeout(() => {\n      this._justOpened = false;\n    }, 50);\n\n    // Focus search box if available\n    if (this.searchBox) {\n      setTimeout(() => {\n        this.searchBox.focus();\n      }, 10);\n    }\n\n    // Update ARIA\n    if (this.anchorElement) {\n      this.anchorElement.setAttribute(\"aria-expanded\", \"true\");\n    }\n  }\n\n  /**\n   * Close the dropdown\n   */\n  close() {\n    // Save the active element BEFORE closing\n    const activeElement = document.activeElement;\n    const wasDropdownFocused =\n      this.dropdown.container &&\n      this.dropdown.container.contains(activeElement);\n    const wasSearchFocused = activeElement === this.searchBox?.getInput();\n\n    // Close dropdown\n    this.dropdown.close();\n\n    // Clear search box\n    if (this.searchBox) {\n      this.searchBox.clear();\n      // Re-query to show all results next time\n      this.instance.emit(EVENTS.QUERY, { term: \"\" });\n    }\n\n    // Update ARIA\n    if (this.anchorElement) {\n      this.anchorElement.setAttribute(\"aria-expanded\", \"false\");\n\n      // Return focus to selection element if focus was in dropdown\n      // This must be synchronous for Tab key to work correctly\n      if (wasDropdownFocused || wasSearchFocused) {\n        this.anchorElement.focus();\n      }\n    }\n  }\n\n  /**\n   * Check if dropdown is open\n   * @returns {boolean} Is open\n   */\n  isOpen() {\n    return this.dropdown.isOpen;\n  }\n\n  /**\n   * Get dropdown container\n   * @returns {HTMLElement} Dropdown container\n   */\n  getContainer() {\n    return this.dropdown.getContainer();\n  }\n\n  /**\n   * Update components with new options (e.g., language changes)\n   */\n  update() {\n    if (this.searchBox) {\n      this.searchBox.update();\n    }\n  }\n\n  /**\n   * Destroy the adapter\n   */\n  destroy() {\n    // Properly remove event listeners to prevent memory leaks\n    // Use the same bound references that were used in addEventListener\n    document.removeEventListener(\"click\", this._boundHandleOutsideClick);\n    window.removeEventListener(\"resize\", this._boundHandleResize);\n    window.removeEventListener(\"scroll\", this._boundHandleScroll, true);\n\n    // Remove searchBox event listeners if they exist\n    if (this.searchBox) {\n      const input = this.searchBox.getInput();\n      if (input) {\n        if (this._inputHandler) {\n          input.removeEventListener(\"input\", this._inputHandler);\n          this._inputHandler = null;\n        }\n        if (this._searchClickHandler) {\n          input.removeEventListener(\"click\", this._searchClickHandler);\n          this._searchClickHandler = null;\n        }\n      }\n    }\n\n    // Clear bound references\n    this._boundHandleOutsideClick = null;\n    this._boundHandleResize = null;\n    this._boundHandleScroll = null;\n\n    this.dropdown.destroy();\n  }\n}\n\nexport default DropdownAdapter;\n","/**\n * ResultsList Component - Renders list of options\n * Handles option rendering, highlighting, and selection\n */\n\nimport { createElement, emptyElement } from \"../utils/dom.js\";\nimport { applyTemplate } from \"../utils/template.js\";\n\nclass ResultsList {\n  constructor(options) {\n    this.options = options;\n    this.container = null;\n    this.highlightedIndex = -1;\n    this.results = [];\n\n    // Cache template function for performance (avoids repeated options.get calls)\n    this._cachedTemplateResult = options.get(\"templateResult\");\n  }\n\n  /**\n   * Render the results container\n   * @returns {HTMLElement} Results container\n   */\n  render() {\n    this.container = createElement(\"div\", {\n      className: \"vs-results\",\n    });\n\n    return this.container;\n  }\n\n  /**\n   * Update results list\n   * @param {Array} results - Array of result items\n   */\n  update(results) {\n    this.results = results;\n    this.flatResults = []; // Flat list of rendered items\n    this.highlightedIndex = -1;\n\n    if (!this.container) return;\n\n    emptyElement(this.container);\n\n    if (!results || results.length === 0) {\n      this._renderNoResults();\n      return;\n    }\n\n    let flatIndex = 0;\n    results.forEach((item) => {\n      // Check if item is a group\n      if (item.children && Array.isArray(item.children)) {\n        // Render group header\n        const groupHeader = this._renderGroupHeader(item);\n        this.container.appendChild(groupHeader);\n\n        // Render group children\n        item.children.forEach((child) => {\n          const childElement = this._renderItem(child, flatIndex, true);\n          this.container.appendChild(childElement);\n          this.flatResults.push(child); // Add to flat list\n          flatIndex++;\n        });\n      } else {\n        // Render regular item\n        const resultElement = this._renderItem(item, flatIndex, false);\n        this.container.appendChild(resultElement);\n        this.flatResults.push(item); // Add to flat list\n        flatIndex++;\n      }\n    });\n  }\n\n  /**\n   * Render group header\n   * @param {Object} group - Group data\n   * @returns {HTMLElement} Group header element\n   * @private\n   */\n  _renderGroupHeader(group) {\n    const header = createElement(\"div\", {\n      className: \"vs-result--group\",\n      role: \"presentation\",\n    });\n\n    const text = createElement(\"span\", {}, group.text);\n    header.appendChild(text);\n\n    return header;\n  }\n\n  /**\n   * Render a single result item\n   * @param {Object} item - Item data\n   * @param {number} index - Item index\n   * @param {boolean} isGroupChild - Whether item is a child of a group\n   * @returns {HTMLElement} Result element\n   * @private\n   */\n  _renderItem(item, index, isGroupChild = false) {\n    const className = isGroupChild\n      ? \"vs-result vs-result--group-child\"\n      : \"vs-result\";\n\n    const result = createElement(\"div\", {\n      className: className,\n      role: \"option\",\n      \"data-index\": index,\n      \"data-id\": item.id,\n      \"aria-selected\": item.selected ? \"true\" : \"false\",\n    });\n\n    if (item.disabled) {\n      result.classList.add(\"vs-result--disabled\");\n      result.setAttribute(\"aria-disabled\", \"true\");\n    }\n\n    // Mark as tag if it's a tag creation option\n    if (item._isTag) {\n      result.classList.add(\"vs-result--tag\");\n      result.setAttribute(\"data-is-tag\", \"true\");\n    }\n\n    // Use custom template if provided, otherwise use default\n    // Uses cached template function for better performance\n    applyTemplate(this._cachedTemplateResult, item, result, {\n      defaultText: item._isTag ? item.text : item.text,\n      useTextContent: false, // Use createElement wrapper for consistency\n    });\n\n    return result;\n  }\n\n  /**\n   * Render \"no results\" message\n   * @private\n   */\n  _renderNoResults() {\n    const message =\n      this.options.get(\"language.noResults\") || \"No results found\";\n    const noResults = createElement(\n      \"div\",\n      {\n        className: \"vs-results--no-results\",\n      },\n      message,\n    );\n\n    this.container.appendChild(noResults);\n  }\n\n  /**\n   * Highlight item at index (flat index)\n   * @param {number} index - Flat index to highlight\n   */\n  highlight(index) {\n    // Use flat results length for validation\n    const totalItems = this.flatResults ? this.flatResults.length : 0;\n    if (index < 0 || index >= totalItems) return;\n\n    // Remove previous highlight\n    const previousHighlight = this.container.querySelector(\n      \".vs-result--highlighted\",\n    );\n    if (previousHighlight) {\n      previousHighlight.classList.remove(\"vs-result--highlighted\");\n    }\n\n    // Add new highlight\n    const items = this.container.querySelectorAll(\".vs-result\");\n    if (items[index]) {\n      items[index].classList.add(\"vs-result--highlighted\");\n      this.highlightedIndex = index;\n\n      // Scroll into view if needed\n      items[index].scrollIntoView({ block: \"nearest\" });\n    }\n  }\n\n  /**\n   * Get highlighted item\n   * @returns {Object|null} Highlighted item data\n   */\n  getHighlighted() {\n    // Use flat results array\n    if (\n      this.flatResults &&\n      this.highlightedIndex >= 0 &&\n      this.highlightedIndex < this.flatResults.length\n    ) {\n      return this.flatResults[this.highlightedIndex];\n    }\n    return null;\n  }\n\n  /**\n   * Clear the results\n   */\n  clear() {\n    if (this.container) {\n      emptyElement(this.container);\n    }\n    this.results = [];\n    this.highlightedIndex = -1;\n  }\n\n  /**\n   * Get the container element\n   * @returns {HTMLElement} Container\n   */\n  getContainer() {\n    return this.container;\n  }\n\n  /**\n   * Destroy the component\n   */\n  destroy() {\n    this.clear();\n    if (this.container && this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n    this.container = null;\n  }\n}\n\nexport default ResultsList;\n","/**\n * Diacritics mapping for text normalization\n * Maps accented/special characters to their base forms for search functionality\n */\n\nexport const diacritics = {\n  \"\\u24B6\": \"A\",\n  \"\\uFF21\": \"A\",\n  \"\\u00C0\": \"A\",\n  \"\\u00C1\": \"A\",\n  \"\\u00C2\": \"A\",\n  \"\\u1EA6\": \"A\",\n  \"\\u1EA4\": \"A\",\n  \"\\u1EAA\": \"A\",\n  \"\\u1EA8\": \"A\",\n  \"\\u00C3\": \"A\",\n  \"\\u0100\": \"A\",\n  \"\\u0102\": \"A\",\n  \"\\u1EB0\": \"A\",\n  \"\\u1EAE\": \"A\",\n  \"\\u1EB4\": \"A\",\n  \"\\u1EB2\": \"A\",\n  \"\\u0226\": \"A\",\n  \"\\u01E0\": \"A\",\n  \"\\u00C4\": \"A\",\n  \"\\u01DE\": \"A\",\n  \"\\u1EA2\": \"A\",\n  \"\\u00C5\": \"A\",\n  \"\\u01FA\": \"A\",\n  \"\\u01CD\": \"A\",\n  \"\\u0200\": \"A\",\n  \"\\u0202\": \"A\",\n  \"\\u1EA0\": \"A\",\n  \"\\u1EAC\": \"A\",\n  \"\\u1EB6\": \"A\",\n  \"\\u1E00\": \"A\",\n  \"\\u0104\": \"A\",\n  \"\\u023A\": \"A\",\n  \"\\u2C6F\": \"A\",\n  \"\\uA732\": \"AA\",\n  \"\\u00C6\": \"AE\",\n  \"\\u01FC\": \"AE\",\n  \"\\u01E2\": \"AE\",\n  \"\\uA734\": \"AO\",\n  \"\\uA736\": \"AU\",\n  \"\\uA738\": \"AV\",\n  \"\\uA73A\": \"AV\",\n  \"\\uA73C\": \"AY\",\n  \"\\u24B7\": \"B\",\n  \"\\uFF22\": \"B\",\n  \"\\u1E02\": \"B\",\n  \"\\u1E04\": \"B\",\n  \"\\u1E06\": \"B\",\n  \"\\u0243\": \"B\",\n  \"\\u0182\": \"B\",\n  \"\\u0181\": \"B\",\n  \"\\u24B8\": \"C\",\n  \"\\uFF23\": \"C\",\n  \"\\u0106\": \"C\",\n  \"\\u0108\": \"C\",\n  \"\\u010A\": \"C\",\n  \"\\u010C\": \"C\",\n  \"\\u00C7\": \"C\",\n  \"\\u1E08\": \"C\",\n  \"\\u0187\": \"C\",\n  \"\\u023B\": \"C\",\n  \"\\uA73E\": \"C\",\n  \"\\u24B9\": \"D\",\n  \"\\uFF24\": \"D\",\n  \"\\u1E0A\": \"D\",\n  \"\\u010E\": \"D\",\n  \"\\u1E0C\": \"D\",\n  \"\\u1E10\": \"D\",\n  \"\\u1E12\": \"D\",\n  \"\\u1E0E\": \"D\",\n  \"\\u0110\": \"D\",\n  \"\\u018B\": \"D\",\n  \"\\u018A\": \"D\",\n  \"\\u0189\": \"D\",\n  \"\\uA779\": \"D\",\n  \"\\u01F1\": \"DZ\",\n  \"\\u01C4\": \"DZ\",\n  \"\\u01F2\": \"Dz\",\n  \"\\u01C5\": \"Dz\",\n  \"\\u24BA\": \"E\",\n  \"\\uFF25\": \"E\",\n  \"\\u00C8\": \"E\",\n  \"\\u00C9\": \"E\",\n  \"\\u00CA\": \"E\",\n  \"\\u1EC0\": \"E\",\n  \"\\u1EBE\": \"E\",\n  \"\\u1EC4\": \"E\",\n  \"\\u1EC2\": \"E\",\n  \"\\u1EBC\": \"E\",\n  \"\\u0112\": \"E\",\n  \"\\u1E14\": \"E\",\n  \"\\u1E16\": \"E\",\n  \"\\u0114\": \"E\",\n  \"\\u0116\": \"E\",\n  \"\\u00CB\": \"E\",\n  \"\\u1EBA\": \"E\",\n  \"\\u011A\": \"E\",\n  \"\\u0204\": \"E\",\n  \"\\u0206\": \"E\",\n  \"\\u1EB8\": \"E\",\n  \"\\u1EC6\": \"E\",\n  \"\\u0228\": \"E\",\n  \"\\u1E1C\": \"E\",\n  \"\\u0118\": \"E\",\n  \"\\u1E18\": \"E\",\n  \"\\u1E1A\": \"E\",\n  \"\\u0190\": \"E\",\n  \"\\u018E\": \"E\",\n  \"\\u24BB\": \"F\",\n  \"\\uFF26\": \"F\",\n  \"\\u1E1E\": \"F\",\n  \"\\u0191\": \"F\",\n  \"\\uA77B\": \"F\",\n  \"\\u24BC\": \"G\",\n  \"\\uFF27\": \"G\",\n  \"\\u01F4\": \"G\",\n  \"\\u011C\": \"G\",\n  \"\\u1E20\": \"G\",\n  \"\\u011E\": \"G\",\n  \"\\u0120\": \"G\",\n  \"\\u01E6\": \"G\",\n  \"\\u0122\": \"G\",\n  \"\\u01E4\": \"G\",\n  \"\\u0193\": \"G\",\n  \"\\uA7A0\": \"G\",\n  \"\\uA77D\": \"G\",\n  \"\\uA77E\": \"G\",\n  \"\\u24BD\": \"H\",\n  \"\\uFF28\": \"H\",\n  \"\\u0124\": \"H\",\n  \"\\u1E22\": \"H\",\n  \"\\u1E26\": \"H\",\n  \"\\u021E\": \"H\",\n  \"\\u1E24\": \"H\",\n  \"\\u1E28\": \"H\",\n  \"\\u1E2A\": \"H\",\n  \"\\u0126\": \"H\",\n  \"\\u2C67\": \"H\",\n  \"\\u2C75\": \"H\",\n  \"\\uA78D\": \"H\",\n  \"\\u24BE\": \"I\",\n  \"\\uFF29\": \"I\",\n  \"\\u00CC\": \"I\",\n  \"\\u00CD\": \"I\",\n  \"\\u00CE\": \"I\",\n  \"\\u0128\": \"I\",\n  \"\\u012A\": \"I\",\n  \"\\u012C\": \"I\",\n  \"\\u0130\": \"I\",\n  \"\\u00CF\": \"I\",\n  \"\\u1E2E\": \"I\",\n  \"\\u1EC8\": \"I\",\n  \"\\u01CF\": \"I\",\n  \"\\u0208\": \"I\",\n  \"\\u020A\": \"I\",\n  \"\\u1ECA\": \"I\",\n  \"\\u012E\": \"I\",\n  \"\\u1E2C\": \"I\",\n  \"\\u0197\": \"I\",\n  \"\\u24BF\": \"J\",\n  \"\\uFF2A\": \"J\",\n  \"\\u0134\": \"J\",\n  \"\\u0248\": \"J\",\n  \"\\u24C0\": \"K\",\n  \"\\uFF2B\": \"K\",\n  \"\\u1E30\": \"K\",\n  \"\\u01E8\": \"K\",\n  \"\\u1E32\": \"K\",\n  \"\\u0136\": \"K\",\n  \"\\u1E34\": \"K\",\n  \"\\u0198\": \"K\",\n  \"\\u2C69\": \"K\",\n  \"\\uA740\": \"K\",\n  \"\\uA742\": \"K\",\n  \"\\uA744\": \"K\",\n  \"\\uA7A2\": \"K\",\n  \"\\u24C1\": \"L\",\n  \"\\uFF2C\": \"L\",\n  \"\\u013F\": \"L\",\n  \"\\u0139\": \"L\",\n  \"\\u013D\": \"L\",\n  \"\\u1E36\": \"L\",\n  \"\\u1E38\": \"L\",\n  \"\\u013B\": \"L\",\n  \"\\u1E3C\": \"L\",\n  \"\\u1E3A\": \"L\",\n  \"\\u0141\": \"L\",\n  \"\\u023D\": \"L\",\n  \"\\u2C62\": \"L\",\n  \"\\u2C60\": \"L\",\n  \"\\uA748\": \"L\",\n  \"\\uA746\": \"L\",\n  \"\\uA780\": \"L\",\n  \"\\u01C7\": \"LJ\",\n  \"\\u01C8\": \"Lj\",\n  \"\\u24C2\": \"M\",\n  \"\\uFF2D\": \"M\",\n  \"\\u1E3E\": \"M\",\n  \"\\u1E40\": \"M\",\n  \"\\u1E42\": \"M\",\n  \"\\u2C6E\": \"M\",\n  \"\\u019C\": \"M\",\n  \"\\u24C3\": \"N\",\n  \"\\uFF2E\": \"N\",\n  \"\\u01F8\": \"N\",\n  \"\\u0143\": \"N\",\n  \"\\u00D1\": \"N\",\n  \"\\u1E44\": \"N\",\n  \"\\u0147\": \"N\",\n  \"\\u1E46\": \"N\",\n  \"\\u0145\": \"N\",\n  \"\\u1E4A\": \"N\",\n  \"\\u1E48\": \"N\",\n  \"\\u0220\": \"N\",\n  \"\\u019D\": \"N\",\n  \"\\uA790\": \"N\",\n  \"\\uA7A4\": \"N\",\n  \"\\u01CA\": \"NJ\",\n  \"\\u01CB\": \"Nj\",\n  \"\\u24C4\": \"O\",\n  \"\\uFF2F\": \"O\",\n  \"\\u00D2\": \"O\",\n  \"\\u00D3\": \"O\",\n  \"\\u00D4\": \"O\",\n  \"\\u1ED2\": \"O\",\n  \"\\u1ED0\": \"O\",\n  \"\\u1ED6\": \"O\",\n  \"\\u1ED4\": \"O\",\n  \"\\u00D5\": \"O\",\n  \"\\u1E4C\": \"O\",\n  \"\\u022C\": \"O\",\n  \"\\u1E4E\": \"O\",\n  \"\\u014C\": \"O\",\n  \"\\u1E50\": \"O\",\n  \"\\u1E52\": \"O\",\n  \"\\u014E\": \"O\",\n  \"\\u022E\": \"O\",\n  \"\\u0230\": \"O\",\n  \"\\u00D6\": \"O\",\n  \"\\u022A\": \"O\",\n  \"\\u1ECE\": \"O\",\n  \"\\u0150\": \"O\",\n  \"\\u01D1\": \"O\",\n  \"\\u020C\": \"O\",\n  \"\\u020E\": \"O\",\n  \"\\u01A0\": \"O\",\n  \"\\u1EDC\": \"O\",\n  \"\\u1EDA\": \"O\",\n  \"\\u1EE0\": \"O\",\n  \"\\u1EDE\": \"O\",\n  \"\\u1EE2\": \"O\",\n  \"\\u1ECC\": \"O\",\n  \"\\u1ED8\": \"O\",\n  \"\\u01EA\": \"O\",\n  \"\\u01EC\": \"O\",\n  \"\\u00D8\": \"O\",\n  \"\\u01FE\": \"O\",\n  \"\\u0186\": \"O\",\n  \"\\u019F\": \"O\",\n  \"\\uA74A\": \"O\",\n  \"\\uA74C\": \"O\",\n  \"\\u01A2\": \"OI\",\n  \"\\uA74E\": \"OO\",\n  \"\\u0222\": \"OU\",\n  \"\\u24C5\": \"P\",\n  \"\\uFF30\": \"P\",\n  \"\\u1E54\": \"P\",\n  \"\\u1E56\": \"P\",\n  \"\\u01A4\": \"P\",\n  \"\\u2C63\": \"P\",\n  \"\\uA750\": \"P\",\n  \"\\uA752\": \"P\",\n  \"\\uA754\": \"P\",\n  \"\\u24C6\": \"Q\",\n  \"\\uFF31\": \"Q\",\n  \"\\uA756\": \"Q\",\n  \"\\uA758\": \"Q\",\n  \"\\u024A\": \"Q\",\n  \"\\u24C7\": \"R\",\n  \"\\uFF32\": \"R\",\n  \"\\u0154\": \"R\",\n  \"\\u1E58\": \"R\",\n  \"\\u0158\": \"R\",\n  \"\\u0210\": \"R\",\n  \"\\u0212\": \"R\",\n  \"\\u1E5A\": \"R\",\n  \"\\u1E5C\": \"R\",\n  \"\\u0156\": \"R\",\n  \"\\u1E5E\": \"R\",\n  \"\\u024C\": \"R\",\n  \"\\u2C64\": \"R\",\n  \"\\uA75A\": \"R\",\n  \"\\uA7A6\": \"R\",\n  \"\\uA782\": \"R\",\n  \"\\u24C8\": \"S\",\n  \"\\uFF33\": \"S\",\n  \"\\u1E9E\": \"S\",\n  \"\\u015A\": \"S\",\n  \"\\u1E64\": \"S\",\n  \"\\u015C\": \"S\",\n  \"\\u1E60\": \"S\",\n  \"\\u0160\": \"S\",\n  \"\\u1E66\": \"S\",\n  \"\\u1E62\": \"S\",\n  \"\\u1E68\": \"S\",\n  \"\\u0218\": \"S\",\n  \"\\u015E\": \"S\",\n  \"\\u2C7E\": \"S\",\n  \"\\uA7A8\": \"S\",\n  \"\\uA784\": \"S\",\n  \"\\u24C9\": \"T\",\n  \"\\uFF34\": \"T\",\n  \"\\u1E6A\": \"T\",\n  \"\\u0164\": \"T\",\n  \"\\u1E6C\": \"T\",\n  \"\\u021A\": \"T\",\n  \"\\u0162\": \"T\",\n  \"\\u1E70\": \"T\",\n  \"\\u1E6E\": \"T\",\n  \"\\u0166\": \"T\",\n  \"\\u01AC\": \"T\",\n  \"\\u01AE\": \"T\",\n  \"\\u023E\": \"T\",\n  \"\\uA786\": \"T\",\n  \"\\uA728\": \"TZ\",\n  \"\\u24CA\": \"U\",\n  \"\\uFF35\": \"U\",\n  \"\\u00D9\": \"U\",\n  \"\\u00DA\": \"U\",\n  \"\\u00DB\": \"U\",\n  \"\\u0168\": \"U\",\n  \"\\u1E78\": \"U\",\n  \"\\u016A\": \"U\",\n  \"\\u1E7A\": \"U\",\n  \"\\u016C\": \"U\",\n  \"\\u00DC\": \"U\",\n  \"\\u01DB\": \"U\",\n  \"\\u01D7\": \"U\",\n  \"\\u01D5\": \"U\",\n  \"\\u01D9\": \"U\",\n  \"\\u1EE6\": \"U\",\n  \"\\u016E\": \"U\",\n  \"\\u0170\": \"U\",\n  \"\\u01D3\": \"U\",\n  \"\\u0214\": \"U\",\n  \"\\u0216\": \"U\",\n  \"\\u01AF\": \"U\",\n  \"\\u1EEA\": \"U\",\n  \"\\u1EE8\": \"U\",\n  \"\\u1EEE\": \"U\",\n  \"\\u1EEC\": \"U\",\n  \"\\u1EF0\": \"U\",\n  \"\\u1EE4\": \"U\",\n  \"\\u1E72\": \"U\",\n  \"\\u0172\": \"U\",\n  \"\\u1E76\": \"U\",\n  \"\\u1E74\": \"U\",\n  \"\\u0244\": \"U\",\n  \"\\u24CB\": \"V\",\n  \"\\uFF36\": \"V\",\n  \"\\u1E7C\": \"V\",\n  \"\\u1E7E\": \"V\",\n  \"\\u01B2\": \"V\",\n  \"\\uA75E\": \"V\",\n  \"\\u0245\": \"V\",\n  \"\\uA760\": \"VY\",\n  \"\\u24CC\": \"W\",\n  \"\\uFF37\": \"W\",\n  \"\\u1E80\": \"W\",\n  \"\\u1E82\": \"W\",\n  \"\\u0174\": \"W\",\n  \"\\u1E86\": \"W\",\n  \"\\u1E84\": \"W\",\n  \"\\u1E88\": \"W\",\n  \"\\u2C72\": \"W\",\n  \"\\u24CD\": \"X\",\n  \"\\uFF38\": \"X\",\n  \"\\u1E8A\": \"X\",\n  \"\\u1E8C\": \"X\",\n  \"\\u24CE\": \"Y\",\n  \"\\uFF39\": \"Y\",\n  \"\\u1EF2\": \"Y\",\n  \"\\u00DD\": \"Y\",\n  \"\\u0176\": \"Y\",\n  \"\\u1EF8\": \"Y\",\n  \"\\u0232\": \"Y\",\n  \"\\u1E8E\": \"Y\",\n  \"\\u0178\": \"Y\",\n  \"\\u1EF6\": \"Y\",\n  \"\\u1EF4\": \"Y\",\n  \"\\u01B3\": \"Y\",\n  \"\\u024E\": \"Y\",\n  \"\\u1EFE\": \"Y\",\n  \"\\u24CF\": \"Z\",\n  \"\\uFF3A\": \"Z\",\n  \"\\u0179\": \"Z\",\n  \"\\u1E90\": \"Z\",\n  \"\\u017B\": \"Z\",\n  \"\\u017D\": \"Z\",\n  \"\\u1E92\": \"Z\",\n  \"\\u1E94\": \"Z\",\n  \"\\u01B5\": \"Z\",\n  \"\\u0224\": \"Z\",\n  \"\\u2C7F\": \"Z\",\n  \"\\u2C6B\": \"Z\",\n  \"\\uA762\": \"Z\",\n  \"\\u24D0\": \"a\",\n  \"\\uFF41\": \"a\",\n  \"\\u1E9A\": \"a\",\n  \"\\u00E0\": \"a\",\n  \"\\u00E1\": \"a\",\n  \"\\u00E2\": \"a\",\n  \"\\u1EA7\": \"a\",\n  \"\\u1EA5\": \"a\",\n  \"\\u1EAB\": \"a\",\n  \"\\u1EA9\": \"a\",\n  \"\\u00E3\": \"a\",\n  \"\\u0101\": \"a\",\n  \"\\u0103\": \"a\",\n  \"\\u1EB1\": \"a\",\n  \"\\u1EAF\": \"a\",\n  \"\\u1EB5\": \"a\",\n  \"\\u1EB3\": \"a\",\n  \"\\u0227\": \"a\",\n  \"\\u01E1\": \"a\",\n  \"\\u00E4\": \"a\",\n  \"\\u01DF\": \"a\",\n  \"\\u1EA3\": \"a\",\n  \"\\u00E5\": \"a\",\n  \"\\u01FB\": \"a\",\n  \"\\u01CE\": \"a\",\n  \"\\u0201\": \"a\",\n  \"\\u0203\": \"a\",\n  \"\\u1EA1\": \"a\",\n  \"\\u1EAD\": \"a\",\n  \"\\u1EB7\": \"a\",\n  \"\\u1E01\": \"a\",\n  \"\\u0105\": \"a\",\n  \"\\u2C65\": \"a\",\n  \"\\u0250\": \"a\",\n  \"\\uA733\": \"aa\",\n  \"\\u00E6\": \"ae\",\n  \"\\u01FD\": \"ae\",\n  \"\\u01E3\": \"ae\",\n  \"\\uA735\": \"ao\",\n  \"\\uA737\": \"au\",\n  \"\\uA739\": \"av\",\n  \"\\uA73B\": \"av\",\n  \"\\uA73D\": \"ay\",\n  \"\\u24D1\": \"b\",\n  \"\\uFF42\": \"b\",\n  \"\\u1E03\": \"b\",\n  \"\\u1E05\": \"b\",\n  \"\\u1E07\": \"b\",\n  \"\\u0180\": \"b\",\n  \"\\u0183\": \"b\",\n  \"\\u0253\": \"b\",\n  \"\\u24D2\": \"c\",\n  \"\\uFF43\": \"c\",\n  \"\\u0107\": \"c\",\n  \"\\u0109\": \"c\",\n  \"\\u010B\": \"c\",\n  \"\\u010D\": \"c\",\n  \"\\u00E7\": \"c\",\n  \"\\u1E09\": \"c\",\n  \"\\u0188\": \"c\",\n  \"\\u023C\": \"c\",\n  \"\\uA73F\": \"c\",\n  \"\\u2184\": \"c\",\n  \"\\u24D3\": \"d\",\n  \"\\uFF44\": \"d\",\n  \"\\u1E0B\": \"d\",\n  \"\\u010F\": \"d\",\n  \"\\u1E0D\": \"d\",\n  \"\\u1E11\": \"d\",\n  \"\\u1E13\": \"d\",\n  \"\\u1E0F\": \"d\",\n  \"\\u0111\": \"d\",\n  \"\\u018C\": \"d\",\n  \"\\u0256\": \"d\",\n  \"\\u0257\": \"d\",\n  \"\\uA77A\": \"d\",\n  \"\\u01F3\": \"dz\",\n  \"\\u01C6\": \"dz\",\n  \"\\u24D4\": \"e\",\n  \"\\uFF45\": \"e\",\n  \"\\u00E8\": \"e\",\n  \"\\u00E9\": \"e\",\n  \"\\u00EA\": \"e\",\n  \"\\u1EC1\": \"e\",\n  \"\\u1EBF\": \"e\",\n  \"\\u1EC5\": \"e\",\n  \"\\u1EC3\": \"e\",\n  \"\\u1EBD\": \"e\",\n  \"\\u0113\": \"e\",\n  \"\\u1E15\": \"e\",\n  \"\\u1E17\": \"e\",\n  \"\\u0115\": \"e\",\n  \"\\u0117\": \"e\",\n  \"\\u00EB\": \"e\",\n  \"\\u1EBB\": \"e\",\n  \"\\u011B\": \"e\",\n  \"\\u0205\": \"e\",\n  \"\\u0207\": \"e\",\n  \"\\u1EB9\": \"e\",\n  \"\\u1EC7\": \"e\",\n  \"\\u0229\": \"e\",\n  \"\\u1E1D\": \"e\",\n  \"\\u0119\": \"e\",\n  \"\\u1E19\": \"e\",\n  \"\\u1E1B\": \"e\",\n  \"\\u0247\": \"e\",\n  \"\\u025B\": \"e\",\n  \"\\u01DD\": \"e\",\n  \"\\u24D5\": \"f\",\n  \"\\uFF46\": \"f\",\n  \"\\u1E1F\": \"f\",\n  \"\\u0192\": \"f\",\n  \"\\uA77C\": \"f\",\n  \"\\u24D6\": \"g\",\n  \"\\uFF47\": \"g\",\n  \"\\u01F5\": \"g\",\n  \"\\u011D\": \"g\",\n  \"\\u1E21\": \"g\",\n  \"\\u011F\": \"g\",\n  \"\\u0121\": \"g\",\n  \"\\u01E7\": \"g\",\n  \"\\u0123\": \"g\",\n  \"\\u01E5\": \"g\",\n  \"\\u0260\": \"g\",\n  \"\\uA7A1\": \"g\",\n  \"\\u1D79\": \"g\",\n  \"\\uA77F\": \"g\",\n  \"\\u24D7\": \"h\",\n  \"\\uFF48\": \"h\",\n  \"\\u0125\": \"h\",\n  \"\\u1E23\": \"h\",\n  \"\\u1E27\": \"h\",\n  \"\\u021F\": \"h\",\n  \"\\u1E25\": \"h\",\n  \"\\u1E29\": \"h\",\n  \"\\u1E2B\": \"h\",\n  \"\\u1E96\": \"h\",\n  \"\\u0127\": \"h\",\n  \"\\u2C68\": \"h\",\n  \"\\u2C76\": \"h\",\n  \"\\u0265\": \"h\",\n  \"\\u0195\": \"hv\",\n  \"\\u24D8\": \"i\",\n  \"\\uFF49\": \"i\",\n  \"\\u00EC\": \"i\",\n  \"\\u00ED\": \"i\",\n  \"\\u00EE\": \"i\",\n  \"\\u0129\": \"i\",\n  \"\\u012B\": \"i\",\n  \"\\u012D\": \"i\",\n  \"\\u00EF\": \"i\",\n  \"\\u1E2F\": \"i\",\n  \"\\u1EC9\": \"i\",\n  \"\\u01D0\": \"i\",\n  \"\\u0209\": \"i\",\n  \"\\u020B\": \"i\",\n  \"\\u1ECB\": \"i\",\n  \"\\u012F\": \"i\",\n  \"\\u1E2D\": \"i\",\n  \"\\u0268\": \"i\",\n  \"\\u0131\": \"i\",\n  \"\\u24D9\": \"j\",\n  \"\\uFF4A\": \"j\",\n  \"\\u0135\": \"j\",\n  \"\\u01F0\": \"j\",\n  \"\\u0249\": \"j\",\n  \"\\u24DA\": \"k\",\n  \"\\uFF4B\": \"k\",\n  \"\\u1E31\": \"k\",\n  \"\\u01E9\": \"k\",\n  \"\\u1E33\": \"k\",\n  \"\\u0137\": \"k\",\n  \"\\u1E35\": \"k\",\n  \"\\u0199\": \"k\",\n  \"\\u2C6A\": \"k\",\n  \"\\uA741\": \"k\",\n  \"\\uA743\": \"k\",\n  \"\\uA745\": \"k\",\n  \"\\uA7A3\": \"k\",\n  \"\\u24DB\": \"l\",\n  \"\\uFF4C\": \"l\",\n  \"\\u0140\": \"l\",\n  \"\\u013A\": \"l\",\n  \"\\u013E\": \"l\",\n  \"\\u1E37\": \"l\",\n  \"\\u1E39\": \"l\",\n  \"\\u013C\": \"l\",\n  \"\\u1E3D\": \"l\",\n  \"\\u1E3B\": \"l\",\n  \"\\u017F\": \"l\",\n  \"\\u0142\": \"l\",\n  \"\\u019A\": \"l\",\n  \"\\u026B\": \"l\",\n  \"\\u2C61\": \"l\",\n  \"\\uA749\": \"l\",\n  \"\\uA781\": \"l\",\n  \"\\uA747\": \"l\",\n  \"\\u01C9\": \"lj\",\n  \"\\u24DC\": \"m\",\n  \"\\uFF4D\": \"m\",\n  \"\\u1E3F\": \"m\",\n  \"\\u1E41\": \"m\",\n  \"\\u1E43\": \"m\",\n  \"\\u0271\": \"m\",\n  \"\\u026F\": \"m\",\n  \"\\u24DD\": \"n\",\n  \"\\uFF4E\": \"n\",\n  \"\\u01F9\": \"n\",\n  \"\\u0144\": \"n\",\n  \"\\u00F1\": \"n\",\n  \"\\u1E45\": \"n\",\n  \"\\u0148\": \"n\",\n  \"\\u1E47\": \"n\",\n  \"\\u0146\": \"n\",\n  \"\\u1E4B\": \"n\",\n  \"\\u1E49\": \"n\",\n  \"\\u019E\": \"n\",\n  \"\\u0272\": \"n\",\n  \"\\u0149\": \"n\",\n  \"\\uA791\": \"n\",\n  \"\\uA7A5\": \"n\",\n  \"\\u01CC\": \"nj\",\n  \"\\u24DE\": \"o\",\n  \"\\uFF4F\": \"o\",\n  \"\\u00F2\": \"o\",\n  \"\\u00F3\": \"o\",\n  \"\\u00F4\": \"o\",\n  \"\\u1ED3\": \"o\",\n  \"\\u1ED1\": \"o\",\n  \"\\u1ED7\": \"o\",\n  \"\\u1ED5\": \"o\",\n  \"\\u00F5\": \"o\",\n  \"\\u1E4D\": \"o\",\n  \"\\u022D\": \"o\",\n  \"\\u1E4F\": \"o\",\n  \"\\u014D\": \"o\",\n  \"\\u1E51\": \"o\",\n  \"\\u1E53\": \"o\",\n  \"\\u014F\": \"o\",\n  \"\\u022F\": \"o\",\n  \"\\u0231\": \"o\",\n  \"\\u00F6\": \"o\",\n  \"\\u022B\": \"o\",\n  \"\\u1ECF\": \"o\",\n  \"\\u0151\": \"o\",\n  \"\\u01D2\": \"o\",\n  \"\\u020D\": \"o\",\n  \"\\u020F\": \"o\",\n  \"\\u01A1\": \"o\",\n  \"\\u1EDD\": \"o\",\n  \"\\u1EDB\": \"o\",\n  \"\\u1EE1\": \"o\",\n  \"\\u1EDF\": \"o\",\n  \"\\u1EE3\": \"o\",\n  \"\\u1ECD\": \"o\",\n  \"\\u1ED9\": \"o\",\n  \"\\u01EB\": \"o\",\n  \"\\u01ED\": \"o\",\n  \"\\u00F8\": \"o\",\n  \"\\u01FF\": \"o\",\n  \"\\u0254\": \"o\",\n  \"\\uA74B\": \"o\",\n  \"\\uA74D\": \"o\",\n  \"\\u0275\": \"o\",\n  \"\\u01A3\": \"oi\",\n  \"\\u0223\": \"ou\",\n  \"\\uA74F\": \"oo\",\n  \"\\u24DF\": \"p\",\n  \"\\uFF50\": \"p\",\n  \"\\u1E55\": \"p\",\n  \"\\u1E57\": \"p\",\n  \"\\u01A5\": \"p\",\n  \"\\u1D7D\": \"p\",\n  \"\\uA751\": \"p\",\n  \"\\uA753\": \"p\",\n  \"\\uA755\": \"p\",\n  \"\\u24E0\": \"q\",\n  \"\\uFF51\": \"q\",\n  \"\\u024B\": \"q\",\n  \"\\uA757\": \"q\",\n  \"\\uA759\": \"q\",\n  \"\\u24E1\": \"r\",\n  \"\\uFF52\": \"r\",\n  \"\\u0155\": \"r\",\n  \"\\u1E59\": \"r\",\n  \"\\u0159\": \"r\",\n  \"\\u0211\": \"r\",\n  \"\\u0213\": \"r\",\n  \"\\u1E5B\": \"r\",\n  \"\\u1E5D\": \"r\",\n  \"\\u0157\": \"r\",\n  \"\\u1E5F\": \"r\",\n  \"\\u024D\": \"r\",\n  \"\\u027D\": \"r\",\n  \"\\uA75B\": \"r\",\n  \"\\uA7A7\": \"r\",\n  \"\\uA783\": \"r\",\n  \"\\u24E2\": \"s\",\n  \"\\uFF53\": \"s\",\n  \"\\u00DF\": \"s\",\n  \"\\u015B\": \"s\",\n  \"\\u1E65\": \"s\",\n  \"\\u015D\": \"s\",\n  \"\\u1E61\": \"s\",\n  \"\\u0161\": \"s\",\n  \"\\u1E67\": \"s\",\n  \"\\u1E63\": \"s\",\n  \"\\u1E69\": \"s\",\n  \"\\u0219\": \"s\",\n  \"\\u015F\": \"s\",\n  \"\\u023F\": \"s\",\n  \"\\uA7A9\": \"s\",\n  \"\\uA785\": \"s\",\n  \"\\u1E9B\": \"s\",\n  \"\\u24E3\": \"t\",\n  \"\\uFF54\": \"t\",\n  \"\\u1E6B\": \"t\",\n  \"\\u1E97\": \"t\",\n  \"\\u0165\": \"t\",\n  \"\\u1E6D\": \"t\",\n  \"\\u021B\": \"t\",\n  \"\\u0163\": \"t\",\n  \"\\u1E71\": \"t\",\n  \"\\u1E6F\": \"t\",\n  \"\\u0167\": \"t\",\n  \"\\u01AD\": \"t\",\n  \"\\u0288\": \"t\",\n  \"\\u2C66\": \"t\",\n  \"\\uA787\": \"t\",\n  \"\\uA729\": \"tz\",\n  \"\\u24E4\": \"u\",\n  \"\\uFF55\": \"u\",\n  \"\\u00F9\": \"u\",\n  \"\\u00FA\": \"u\",\n  \"\\u00FB\": \"u\",\n  \"\\u0169\": \"u\",\n  \"\\u1E79\": \"u\",\n  \"\\u016B\": \"u\",\n  \"\\u1E7B\": \"u\",\n  \"\\u016D\": \"u\",\n  \"\\u00FC\": \"u\",\n  \"\\u01DC\": \"u\",\n  \"\\u01D8\": \"u\",\n  \"\\u01D6\": \"u\",\n  \"\\u01DA\": \"u\",\n  \"\\u1EE7\": \"u\",\n  \"\\u016F\": \"u\",\n  \"\\u0171\": \"u\",\n  \"\\u01D4\": \"u\",\n  \"\\u0215\": \"u\",\n  \"\\u0217\": \"u\",\n  \"\\u01B0\": \"u\",\n  \"\\u1EEB\": \"u\",\n  \"\\u1EE9\": \"u\",\n  \"\\u1EEF\": \"u\",\n  \"\\u1EED\": \"u\",\n  \"\\u1EF1\": \"u\",\n  \"\\u1EE5\": \"u\",\n  \"\\u1E73\": \"u\",\n  \"\\u0173\": \"u\",\n  \"\\u1E77\": \"u\",\n  \"\\u1E75\": \"u\",\n  \"\\u0289\": \"u\",\n  \"\\u24E5\": \"v\",\n  \"\\uFF56\": \"v\",\n  \"\\u1E7D\": \"v\",\n  \"\\u1E7F\": \"v\",\n  \"\\u028B\": \"v\",\n  \"\\uA75F\": \"v\",\n  \"\\u028C\": \"v\",\n  \"\\uA761\": \"vy\",\n  \"\\u24E6\": \"w\",\n  \"\\uFF57\": \"w\",\n  \"\\u1E81\": \"w\",\n  \"\\u1E83\": \"w\",\n  \"\\u0175\": \"w\",\n  \"\\u1E87\": \"w\",\n  \"\\u1E85\": \"w\",\n  \"\\u1E98\": \"w\",\n  \"\\u1E89\": \"w\",\n  \"\\u2C73\": \"w\",\n  \"\\u24E7\": \"x\",\n  \"\\uFF58\": \"x\",\n  \"\\u1E8B\": \"x\",\n  \"\\u1E8D\": \"x\",\n  \"\\u24E8\": \"y\",\n  \"\\uFF59\": \"y\",\n  \"\\u1EF3\": \"y\",\n  \"\\u00FD\": \"y\",\n  \"\\u0177\": \"y\",\n  \"\\u1EF9\": \"y\",\n  \"\\u0233\": \"y\",\n  \"\\u1E8F\": \"y\",\n  \"\\u00FF\": \"y\",\n  \"\\u1EF7\": \"y\",\n  \"\\u1E99\": \"y\",\n  \"\\u1EF5\": \"y\",\n  \"\\u01B4\": \"y\",\n  \"\\u024F\": \"y\",\n  \"\\u1EFF\": \"y\",\n  \"\\u24E9\": \"z\",\n  \"\\uFF5A\": \"z\",\n  \"\\u017A\": \"z\",\n  \"\\u1E91\": \"z\",\n  \"\\u017C\": \"z\",\n  \"\\u017E\": \"z\",\n  \"\\u1E93\": \"z\",\n  \"\\u1E95\": \"z\",\n  \"\\u01B6\": \"z\",\n  \"\\u0225\": \"z\",\n  \"\\u0240\": \"z\",\n  \"\\u2C6C\": \"z\",\n  \"\\uA763\": \"z\",\n  \"\\u0386\": \"\\u0391\",\n  \"\\u0388\": \"\\u0395\",\n  \"\\u0389\": \"\\u0397\",\n  \"\\u038A\": \"\\u0399\",\n  \"\\u03AA\": \"\\u0399\",\n  \"\\u038C\": \"\\u039F\",\n  \"\\u038E\": \"\\u03A5\",\n  \"\\u03AB\": \"\\u03A5\",\n  \"\\u038F\": \"\\u03A9\",\n  \"\\u03AC\": \"\\u03B1\",\n  \"\\u03AD\": \"\\u03B5\",\n  \"\\u03AE\": \"\\u03B7\",\n  \"\\u03AF\": \"\\u03B9\",\n  \"\\u03CA\": \"\\u03B9\",\n  \"\\u0390\": \"\\u03B9\",\n  \"\\u03CC\": \"\\u03BF\",\n  \"\\u03CD\": \"\\u03C5\",\n  \"\\u03CB\": \"\\u03C5\",\n  \"\\u03B0\": \"\\u03C5\",\n  \"\\u03C9\": \"\\u03C9\",\n  \"\\u03C2\": \"\\u03C3\",\n};\n\n/**\n * Removes diacritics from a string for normalized searching\n * @param {string} str - String to normalize\n * @returns {string} Normalized string without diacritics\n */\nexport function removeDiacritics(str) {\n  return str.replace(/[^\\u0000-\\u007E]/g, (char) => diacritics[char] || char);\n}\n\nexport default diacritics;\n","/**\n * SearchManager - Manages search/filter functionality\n * Handles search logic and filtering results\n */\n\nimport { removeDiacritics } from \"../utils/diacritics.js\";\n\nclass SearchManager {\n  constructor(options) {\n    this.options = options;\n    this.matcher = null;\n    this._setupMatcher();\n  }\n\n  /**\n   * Setup the matcher function\n   * @private\n   */\n  _setupMatcher() {\n    // Check if custom matcher is provided\n    const customMatcher = this.options.get(\"matcher\");\n    if (customMatcher && typeof customMatcher === \"function\") {\n      this.matcher = customMatcher;\n    } else {\n      this.matcher = this._defaultMatcher.bind(this);\n    }\n  }\n\n  /**\n   * Default matcher function\n   * Searches in text with diacritics support\n   * @param {string} term - Search term\n   * @param {Object} item - Item to match against\n   * @returns {boolean} Whether item matches\n   * @private\n   */\n  _defaultMatcher(term, item) {\n    // Empty search matches everything\n    if (!term || term.trim() === \"\") {\n      return true;\n    }\n\n    // Don't search in disabled items\n    if (item.disabled) {\n      return false;\n    }\n\n    // Normalize search term and item text\n    const normalizedTerm = removeDiacritics(term.toLowerCase());\n    const normalizedText = removeDiacritics(item.text.toLowerCase());\n\n    // Check matching strategy\n    const matchStrategy = this.options.get(\"matchStrategy\") || \"contains\";\n\n    switch (matchStrategy) {\n      case \"startsWith\":\n        return normalizedText.startsWith(normalizedTerm);\n\n      case \"exact\":\n        return normalizedText === normalizedTerm;\n\n      case \"contains\":\n      default:\n        return normalizedText.includes(normalizedTerm);\n    }\n  }\n\n  /**\n   * Search items based on term\n   * @param {Array} items - Items to search\n   * @param {string} term - Search term\n   * @returns {Array} Filtered items\n   */\n  search(items, term) {\n    if (!items || !Array.isArray(items)) {\n      return [];\n    }\n\n    // If no search term, return all items\n    if (!term || term.trim() === \"\") {\n      return items;\n    }\n\n    const results = [];\n\n    items.forEach((item) => {\n      // Handle groups (optgroups)\n      if (item.children && Array.isArray(item.children)) {\n        const filteredChildren = item.children.filter((child) =>\n          this.matcher(term, child),\n        );\n\n        // Include group if it has matching children\n        if (filteredChildren.length > 0) {\n          results.push({\n            ...item,\n            children: filteredChildren,\n          });\n        }\n      } else {\n        // Regular item\n        if (this.matcher(term, item)) {\n          results.push(item);\n        }\n      }\n    });\n\n    return results;\n  }\n\n  /**\n   * Highlight matching text in results\n   * @param {string} text - Original text\n   * @param {string} term - Search term\n   * @returns {string} HTML with highlighted text\n   */\n  highlight(text, term) {\n    if (!term || term.trim() === \"\") {\n      return text;\n    }\n\n    const normalizedTerm = removeDiacritics(term.toLowerCase());\n    const normalizedText = removeDiacritics(text.toLowerCase());\n\n    const index = normalizedText.indexOf(normalizedTerm);\n    if (index === -1) {\n      return text;\n    }\n\n    // Extract the actual matching substring from original text\n    const before = text.substring(0, index);\n    const match = text.substring(index, index + term.length);\n    const after = text.substring(index + term.length);\n\n    return `${before}<mark>${match}</mark>${after}`;\n  }\n}\n\nexport default SearchManager;\n","/**\n * ResultsAdapter - Manages results display\n * Coordinates results rendering and selection\n */\n\nimport BaseAdapter from \"./BaseAdapter.js\";\nimport ResultsList from \"../components/ResultsList.js\";\nimport SearchManager from \"../managers/SearchManager.js\";\nimport { EVENTS } from \"../constants/events.js\";\n\nclass ResultsAdapter extends BaseAdapter {\n  constructor(instance, options) {\n    super(instance, options);\n\n    this.results = new ResultsList(options);\n    this.searchManager = new SearchManager(options);\n    this.dataAdapter = null;\n    this.dropdownAdapter = null;\n    this.ajaxAdapter = null;\n    this.currentSearchTerm = \"\";\n    this.currentPage = 1;\n    this.hasMore = false;\n    this.isLoadingMore = false;\n    this.accumulatedResults = [];\n    this.currentSearchToken = null; // Token to prevent race conditions\n\n    // Store timeout references for proper cleanup\n    this._loadMoreTimeout = null;\n    this._limitMessageTimeout = null;\n    this._errorMessageTimeout = null;\n\n    // Store event handler references for proper cleanup\n    this._clickHandler = null;\n    this._mouseoverHandler = null;\n    this._scrollHandler = null;\n    this.resultsContainer = null;\n  }\n\n  /**\n   * Bind the adapter\n   * @param {HTMLElement} dropdownContainer - Dropdown container\n   * @param {DataAdapter} dataAdapter - Data adapter\n   * @param {DropdownAdapter} dropdownAdapter - Dropdown adapter\n   * @param {AjaxAdapter} ajaxAdapter - Optional AJAX adapter\n   */\n  bind(dropdownContainer, dataAdapter, dropdownAdapter, ajaxAdapter = null) {\n    this.dataAdapter = dataAdapter;\n    this.dropdownAdapter = dropdownAdapter;\n    this.ajaxAdapter = ajaxAdapter;\n\n    // Render results component\n    const resultsElement = this.results.render();\n    dropdownContainer.appendChild(resultsElement);\n\n    // Bind events\n    this._bindEvents();\n\n    // Initial render\n    this.update();\n  }\n\n  /**\n   * Bind event listeners\n   * @private\n   */\n  _bindEvents() {\n    const resultsContainer = this.results.getContainer();\n    this.resultsContainer = resultsContainer;\n\n    // Listen to AJAX events\n    this.instance.on(EVENTS.AJAX_LOADING, () => {\n      this.showLoading();\n    });\n\n    this.instance.on(EVENTS.AJAX_SUCCESS, () => {\n      this.hideLoading();\n    });\n\n    this.instance.on(EVENTS.AJAX_ERROR, (data) => {\n      this.hideLoading();\n      this.showError(data.error);\n    });\n\n    // Click on result item - store handler reference for cleanup\n    this._clickHandler = (e) => {\n      const resultEl = e.target.closest(\".vs-result\");\n      if (!resultEl) return;\n\n      const index = parseInt(resultEl.dataset.index, 10);\n      const id = resultEl.dataset.id;\n\n      // Don't select disabled items\n      if (resultEl.classList.contains(\"vs-result--disabled\")) {\n        e.preventDefault();\n        e.stopPropagation();\n        return;\n      }\n\n      // Find the item (search recursively in groups)\n      const allResults = this.dataAdapter.query({ term: \"\" });\n      const item = this._findItemById(allResults, id);\n\n      if (item) {\n        // Prevent default to avoid any unwanted behavior\n        e.preventDefault();\n        e.stopPropagation();\n        this.selectItem(item);\n      }\n    };\n    resultsContainer.addEventListener(\"click\", this._clickHandler);\n\n    // Hover on result item - store handler reference for cleanup\n    this._mouseoverHandler = (e) => {\n      const resultEl = e.target.closest(\".vs-result\");\n      if (!resultEl) return;\n\n      const index = parseInt(resultEl.dataset.index, 10);\n      this.results.highlight(index);\n    };\n    resultsContainer.addEventListener(\"mouseover\", this._mouseoverHandler);\n\n    // Listen to data changes\n    this.instance.on(EVENTS.QUERY, (data) => {\n      this.update(data.term);\n    });\n\n    this.instance.on(EVENTS.SELECT, () => {\n      this.update();\n    });\n\n    this.instance.on(EVENTS.UNSELECT, () => {\n      this.update();\n    });\n\n    // Listen to selection limit reached\n    this.instance.on(EVENTS.SELECTION_LIMIT_REACHED, (data) => {\n      this._showLimitMessage(data.message);\n    });\n\n    // Scroll detection for infinite scroll (AJAX only) - store handler reference for cleanup\n    if (this.ajaxAdapter) {\n      this._scrollHandler = () => {\n        this._handleScroll();\n      };\n      resultsContainer.addEventListener(\"scroll\", this._scrollHandler);\n    }\n  }\n\n  /**\n   * Update results display\n   * @param {string} term - Search term\n   */\n  update(term = \"\") {\n    if (!this.dataAdapter) return;\n\n    // If AJAX adapter is configured, use it for remote data\n    if (this.ajaxAdapter) {\n      this._updateWithAjax(term);\n    } else {\n      this._updateWithLocalData(term);\n    }\n  }\n\n  /**\n   * Update results with local data (no AJAX)\n   * @param {string} term - Search term\n   * @private\n   */\n  _updateWithLocalData(term) {\n    this.currentSearchTerm = term;\n\n    // Get all data\n    const allData = this.dataAdapter.query({ term: \"\" });\n\n    // Filter using SearchManager\n    let filteredResults = this.searchManager.search(allData, term);\n\n    // Check if tagging is enabled\n    const tagsEnabled = this.options.get(\"tags\");\n\n    // Add \"create tag\" option if enabled and term is not empty\n    if (tagsEnabled && term && term.trim()) {\n      const createTag = this.options.get(\"createTag\");\n      const tag = createTag({ term: term.trim() });\n\n      if (tag) {\n        // Check if tag already exists in results\n        const tagExists = filteredResults.some(\n          (item) =>\n            String(item.id).toLowerCase() === String(tag.id).toLowerCase(),\n        );\n\n        if (!tagExists) {\n          const insertTag = this.options.get(\"insertTag\");\n          // Create a copy to avoid mutating the original\n          filteredResults = [...filteredResults];\n          insertTag(filteredResults, tag);\n\n          // Mark as tag for special rendering\n          tag._isTag = true;\n        }\n      }\n    }\n\n    // Update results list\n    this.results.update(filteredResults);\n\n    // Auto-highlight first non-disabled item when there are results\n    if (filteredResults && filteredResults.length > 0) {\n      this._autoHighlightFirst(filteredResults);\n    }\n\n    // Emit results event for accessibility announcements\n    this.instance.emit(EVENTS.RESULTS, { results: filteredResults });\n  }\n\n  /**\n   * Update results with AJAX data\n   * @param {string} term - Search term\n   * @param {boolean} append - Whether to append results (pagination) or replace\n   * @private\n   */\n  _updateWithAjax(term, append = false) {\n    // Reset pagination if search term changed\n    if (term !== this.currentSearchTerm) {\n      this.currentPage = 1;\n      this.accumulatedResults = [];\n      append = false;\n    }\n\n    this.currentSearchTerm = term;\n\n    // Generate unique token for this search to prevent race conditions\n    // If a new search starts before this one completes, this token will be invalidated\n    const searchToken = Symbol(\"search\");\n    this.currentSearchToken = searchToken;\n\n    // Query AJAX adapter (returns a promise)\n    this.ajaxAdapter\n      .query({ term, page: this.currentPage })\n      .then((response) => {\n        // Check if this search is still valid (not superseded by a newer search)\n        if (this.currentSearchToken !== searchToken) {\n          // This search has been superseded - ignore results\n          return;\n        }\n\n        const { results, pagination } = response;\n\n        // Update pagination state\n        this.hasMore = pagination && pagination.more ? true : false;\n\n        // Accumulate or replace results\n        if (append && this.currentPage > 1) {\n          this.accumulatedResults = [...this.accumulatedResults, ...results];\n        } else {\n          this.accumulatedResults = results;\n        }\n\n        // Update DataAdapter with all accumulated results (for selection tracking)\n        this.dataAdapter.setData(this.accumulatedResults);\n\n        // Update results list\n        this.results.update(this.accumulatedResults);\n\n        // Auto-highlight first non-disabled item when there are results\n        if (\n          this.accumulatedResults &&\n          this.accumulatedResults.length > 0 &&\n          !append\n        ) {\n          this._autoHighlightFirst(this.accumulatedResults);\n        }\n\n        // Emit results event for accessibility announcements\n        this.instance.emit(EVENTS.RESULTS, {\n          results: this.accumulatedResults,\n        });\n      })\n      .catch((error) => {\n        // Check if this search is still valid before showing error\n        if (this.currentSearchToken !== searchToken) {\n          // This search has been superseded - ignore error\n          return;\n        }\n\n        console.error(\"AJAX query error:\", error);\n        // On error, show empty results\n        this.results.update([]);\n        this.instance.emit(EVENTS.RESULTS, { results: [] });\n      });\n  }\n\n  /**\n   * Handle scroll event for infinite scroll\n   * @private\n   */\n  _handleScroll() {\n    if (!this.ajaxAdapter || !this.hasMore || this.isLoadingMore) {\n      return;\n    }\n\n    const resultsContainer = this.results.getContainer();\n    const scrollTop = resultsContainer.scrollTop;\n    const scrollHeight = resultsContainer.scrollHeight;\n    const clientHeight = resultsContainer.clientHeight;\n\n    // Check if scrolled near bottom (within 50px)\n    const threshold = 50;\n    if (scrollTop + clientHeight >= scrollHeight - threshold) {\n      this.loadMore();\n    }\n  }\n\n  /**\n   * Load more results (next page)\n   */\n  loadMore() {\n    if (!this.ajaxAdapter || !this.hasMore || this.isLoadingMore) {\n      return;\n    }\n\n    this.isLoadingMore = true;\n    this.currentPage++;\n\n    // Show loading more indicator\n    this.showLoadingMore();\n\n    // Update with append=true to add to existing results\n    this._updateWithAjax(this.currentSearchTerm, true);\n\n    // Clear any existing timeout\n    if (this._loadMoreTimeout) {\n      clearTimeout(this._loadMoreTimeout);\n    }\n\n    // Hide loading more indicator when done\n    this._loadMoreTimeout = setTimeout(() => {\n      this.hideLoadingMore();\n      this.isLoadingMore = false;\n      this._loadMoreTimeout = null;\n    }, 500);\n  }\n\n  /**\n   * Show \"loading more\" indicator\n   */\n  showLoadingMore() {\n    const resultsContainer = this.results.getContainer();\n    if (!resultsContainer) return;\n\n    // Remove any existing indicator\n    this.hideLoadingMore();\n\n    const language = this.options.get(\"language\");\n    const loadingMoreMessage =\n      language.loadingMore || \"Loading more results...\";\n\n    const loadingMoreEl = document.createElement(\"div\");\n    loadingMoreEl.className = \"vs-results__loading-more\";\n    loadingMoreEl.setAttribute(\"role\", \"status\");\n    loadingMoreEl.setAttribute(\"aria-live\", \"polite\");\n    loadingMoreEl.textContent = loadingMoreMessage;\n\n    resultsContainer.appendChild(loadingMoreEl);\n  }\n\n  /**\n   * Hide \"loading more\" indicator\n   */\n  hideLoadingMore() {\n    const resultsContainer = this.results.getContainer();\n    if (!resultsContainer) return;\n\n    const loadingMoreEl = resultsContainer.querySelector(\n      \".vs-results__loading-more\",\n    );\n    if (loadingMoreEl) {\n      loadingMoreEl.remove();\n    }\n  }\n\n  /**\n   * Find item by ID, searching recursively in groups\n   * @param {Array} items - Items to search\n   * @param {string} id - Item ID to find\n   * @returns {Object|null} Found item or null\n   * @private\n   */\n  _findItemById(items, id) {\n    for (const item of items) {\n      // Check if this item matches (convert both to string for comparison)\n      // This handles cases where item.id might be a number but dataset.id is always a string\n      if (String(item.id) === String(id)) {\n        return item;\n      }\n\n      // If it's a group, search in children\n      if (item.children && Array.isArray(item.children)) {\n        const found = this._findItemById(item.children, id);\n        if (found) {\n          return found;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Auto-highlight first non-disabled item\n   * @param {Array} results - Filtered results\n   * @private\n   */\n  _autoHighlightFirst(results) {\n    // Find first non-disabled item\n    for (let i = 0; i < results.length; i++) {\n      const item = results[i];\n\n      // Skip groups - look into children\n      if (item.children && Array.isArray(item.children)) {\n        // For groups, find first non-disabled child\n        for (let j = 0; j < item.children.length; j++) {\n          if (!item.children[j].disabled) {\n            // Calculate the actual index in the flattened results\n            const flatIndex = this._getFlatIndexForGroupChild(results, i, j);\n            this.results.highlight(flatIndex);\n\n            // Update ARIA activedescendant\n            if (this.instance.accessibilityManager) {\n              this.instance.accessibilityManager.updateActiveDescendant(\n                flatIndex,\n              );\n            }\n            return;\n          }\n        }\n      } else {\n        // Regular item - highlight if not disabled\n        if (!item.disabled) {\n          this.results.highlight(i);\n\n          // Update ARIA activedescendant\n          if (this.instance.accessibilityManager) {\n            this.instance.accessibilityManager.updateActiveDescendant(i);\n          }\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * Get flat index for a child within a group\n   * @param {Array} results - All results\n   * @param {number} groupIndex - Group index\n   * @param {number} childIndex - Child index within group\n   * @returns {number} Flat index\n   * @private\n   */\n  _getFlatIndexForGroupChild(results, groupIndex, childIndex) {\n    let flatIndex = 0;\n\n    for (let i = 0; i < groupIndex; i++) {\n      if (results[i].children) {\n        flatIndex += results[i].children.length;\n      } else {\n        flatIndex++;\n      }\n    }\n\n    flatIndex += childIndex;\n    return flatIndex;\n  }\n\n  /**\n   * Select an item\n   * @param {Object} item - Item to select\n   */\n  selectItem(item) {\n    if (!this.dataAdapter) return;\n\n    // Try to select the item - returns false if limit reached or already selected\n    const selectionSuccess = this.dataAdapter.select(item);\n\n    const isMultiple = this.options.get(\"multiple\");\n\n    // For multi-select: always manage focus and UI, even if selection failed\n    if (isMultiple) {\n      // If selection failed (limit reached or already selected), still return focus\n      if (!selectionSuccess) {\n        // Re-focus search input so ESC and other keyboard controls work\n        if (this.dropdownAdapter && this.dropdownAdapter.searchBox) {\n          setTimeout(() => {\n            this.dropdownAdapter.searchBox.focus();\n          }, 10);\n        }\n        return;\n      }\n\n      // Selection was successful - proceed with normal flow\n      // Clear search box\n      if (this.dropdownAdapter && this.dropdownAdapter.searchBox) {\n        this.dropdownAdapter.searchBox.clear();\n      }\n\n      // Refresh results to show all items again\n      this.update(\"\");\n\n      // Re-focus search input for next selection\n      if (this.dropdownAdapter && this.dropdownAdapter.searchBox) {\n        setTimeout(() => {\n          this.dropdownAdapter.searchBox.focus();\n        }, 10);\n      }\n    } else {\n      // Single select: only close if selection was successful\n      if (selectionSuccess) {\n        const closeOnSelect = this.options.get(\"closeOnSelect\");\n        if (closeOnSelect) {\n          this.instance.close();\n        }\n      }\n    }\n  }\n\n  /**\n   * Clear results\n   */\n  clear() {\n    this.results.clear();\n  }\n\n  /**\n   * Show selection limit message\n   * @param {string} message - Message to display\n   * @private\n   */\n  _showLimitMessage(message) {\n    const resultsContainer = this.results.getContainer();\n\n    // Clear any existing timeout\n    if (this._limitMessageTimeout) {\n      clearTimeout(this._limitMessageTimeout);\n      this._limitMessageTimeout = null;\n    }\n\n    // Remove any existing message\n    const existingMessage = resultsContainer.querySelector(\n      \".vs-results__limit-message\",\n    );\n    if (existingMessage) {\n      existingMessage.remove();\n    }\n\n    // Create message element\n    const messageEl = document.createElement(\"div\");\n    messageEl.className = \"vs-results__limit-message\";\n    messageEl.textContent = message;\n    messageEl.setAttribute(\"role\", \"alert\");\n\n    // Insert at the top of results\n    resultsContainer.insertBefore(messageEl, resultsContainer.firstChild);\n\n    // Auto-remove after 3 seconds\n    this._limitMessageTimeout = setTimeout(() => {\n      if (messageEl.parentNode) {\n        messageEl.remove();\n      }\n      this._limitMessageTimeout = null;\n    }, 3000);\n  }\n\n  /**\n   * Show loading state\n   */\n  showLoading() {\n    const resultsContainer = this.results.getContainer();\n    if (!resultsContainer) return;\n\n    // Remove any existing loading message\n    this.hideLoading();\n\n    const language = this.options.get(\"language\");\n    const loadingMessage = language.loading || \"Loading...\";\n\n    // Create loading element\n    const loadingEl = document.createElement(\"div\");\n    loadingEl.className = \"vs-results__loading\";\n    loadingEl.setAttribute(\"role\", \"status\");\n    loadingEl.setAttribute(\"aria-live\", \"polite\");\n    loadingEl.textContent = loadingMessage;\n\n    resultsContainer.appendChild(loadingEl);\n  }\n\n  /**\n   * Hide loading state\n   */\n  hideLoading() {\n    const resultsContainer = this.results.getContainer();\n    if (!resultsContainer) return;\n\n    const loadingEl = resultsContainer.querySelector(\".vs-results__loading\");\n    if (loadingEl) {\n      loadingEl.remove();\n    }\n  }\n\n  /**\n   * Show error message\n   * @param {Error} error - Error object\n   */\n  showError(error) {\n    const resultsContainer = this.results.getContainer();\n    if (!resultsContainer) return;\n\n    // Clear any existing timeout\n    if (this._errorMessageTimeout) {\n      clearTimeout(this._errorMessageTimeout);\n      this._errorMessageTimeout = null;\n    }\n\n    // Remove any existing error message\n    const existingError = resultsContainer.querySelector(\".vs-results__error\");\n    if (existingError) {\n      existingError.remove();\n    }\n\n    const language = this.options.get(\"language\");\n    const errorMessage =\n      language.errorLoading || \"The results could not be loaded\";\n\n    // Create error element\n    const errorEl = document.createElement(\"div\");\n    errorEl.className = \"vs-results__error\";\n    errorEl.setAttribute(\"role\", \"alert\");\n    errorEl.textContent = errorMessage;\n\n    resultsContainer.appendChild(errorEl);\n\n    // Auto-remove after 5 seconds\n    this._errorMessageTimeout = setTimeout(() => {\n      if (errorEl.parentNode) {\n        errorEl.remove();\n      }\n      this._errorMessageTimeout = null;\n    }, 5000);\n  }\n\n  /**\n   * Destroy the adapter\n   */\n  destroy() {\n    // Clear all pending timeouts to prevent memory leaks and errors\n    if (this._loadMoreTimeout) {\n      clearTimeout(this._loadMoreTimeout);\n      this._loadMoreTimeout = null;\n    }\n\n    if (this._limitMessageTimeout) {\n      clearTimeout(this._limitMessageTimeout);\n      this._limitMessageTimeout = null;\n    }\n\n    if (this._errorMessageTimeout) {\n      clearTimeout(this._errorMessageTimeout);\n      this._errorMessageTimeout = null;\n    }\n\n    // Properly remove event listeners to prevent memory leaks\n    if (this.resultsContainer) {\n      if (this._clickHandler) {\n        this.resultsContainer.removeEventListener(\"click\", this._clickHandler);\n        this._clickHandler = null;\n      }\n\n      if (this._mouseoverHandler) {\n        this.resultsContainer.removeEventListener(\n          \"mouseover\",\n          this._mouseoverHandler,\n        );\n        this._mouseoverHandler = null;\n      }\n\n      if (this._scrollHandler) {\n        this.resultsContainer.removeEventListener(\n          \"scroll\",\n          this._scrollHandler,\n        );\n        this._scrollHandler = null;\n      }\n\n      this.resultsContainer = null;\n    }\n\n    this.results.destroy();\n  }\n}\n\nexport default ResultsAdapter;\n","/**\n * Keyboard key codes for vanilla-smart-select\n */\n\nexport const KEYS = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46,\n};\n\nexport default KEYS;\n","/**\n * KeyboardManager - Manages keyboard navigation\n * Handles keyboard events for accessibility and navigation\n */\n\nimport { KEYS } from \"../constants/keys.js\";\n\nclass KeyboardManager {\n  constructor(instance, options) {\n    this.instance = instance;\n    this.options = options;\n    this.isEnabled = true;\n\n    // Store event handler references for proper cleanup\n    this._selectionKeydownHandler = null;\n    this._searchKeydownHandler = null;\n  }\n\n  /**\n   * Bind keyboard events\n   * @param {HTMLElement} selectionElement - Selection container\n   * @param {HTMLElement} searchInput - Search input (if searchable)\n   * @param {Object} resultsAdapter - Results adapter\n   */\n  bind(selectionElement, searchInput, resultsAdapter) {\n    this.selectionElement = selectionElement;\n    this.searchInput = searchInput;\n    this.resultsAdapter = resultsAdapter;\n\n    // Bind events\n    this._bindSelectionEvents();\n    if (this.searchInput) {\n      this._bindSearchEvents();\n    }\n  }\n\n  /**\n   * Bind keyboard events to selection element\n   * @private\n   */\n  _bindSelectionEvents() {\n    // Store handler reference for cleanup\n    this._selectionKeydownHandler = (e) => {\n      this._handleSelectionKeydown(e);\n    };\n\n    this.selectionElement.addEventListener(\n      \"keydown\",\n      this._selectionKeydownHandler,\n    );\n  }\n\n  /**\n   * Bind keyboard events to search input\n   * @private\n   */\n  _bindSearchEvents() {\n    // Store handler reference for cleanup\n    this._searchKeydownHandler = (e) => {\n      this._handleSearchKeydown(e);\n    };\n\n    this.searchInput.addEventListener(\"keydown\", this._searchKeydownHandler);\n  }\n\n  /**\n   * Handle keydown on selection element\n   * @param {KeyboardEvent} e - Keyboard event\n   * @private\n   */\n  _handleSelectionKeydown(e) {\n    if (!this.isEnabled) return;\n\n    const key = e.which || e.keyCode;\n\n    switch (key) {\n      case KEYS.ENTER:\n      case KEYS.SPACE:\n        // Open dropdown\n        e.preventDefault();\n        this.instance.toggle();\n        break;\n\n      case KEYS.ESC:\n        // Close dropdown\n        e.preventDefault();\n        this.instance.close();\n        break;\n\n      case KEYS.UP:\n      case KEYS.DOWN:\n        // Open dropdown and navigate\n        e.preventDefault();\n        if (!this.instance.isOpen()) {\n          this.instance.open();\n        } else {\n          this._navigate(key === KEYS.UP ? -1 : 1);\n        }\n        break;\n\n      case KEYS.TAB:\n        // Allow Tab to work normally on selection element\n        // (It will only trigger when dropdown is closed)\n        // When dropdown is open, focus is in search input, not here\n        break;\n    }\n  }\n\n  /**\n   * Handle keydown on search input\n   * @param {KeyboardEvent} e - Keyboard event\n   * @private\n   */\n  _handleSearchKeydown(e) {\n    if (!this.isEnabled) return;\n\n    const key = e.which || e.keyCode;\n\n    switch (key) {\n      case KEYS.ENTER:\n        // Select highlighted item\n        e.preventDefault();\n        this._selectHighlighted();\n        break;\n\n      case KEYS.ESC:\n        // Close dropdown\n        e.preventDefault();\n        this.instance.close();\n        break;\n\n      case KEYS.UP:\n        // Navigate up\n        e.preventDefault();\n        this._navigate(-1);\n        break;\n\n      case KEYS.DOWN:\n        // Navigate down\n        e.preventDefault();\n        this._navigate(1);\n        break;\n\n      case KEYS.TAB:\n        // Prevent Tab from leaving dropdown when open\n        // User must explicitly close with Enter (select) or ESC (cancel)\n        e.preventDefault();\n        break;\n\n      case KEYS.HOME:\n        // First item\n        e.preventDefault();\n        this._navigateToFirst();\n        break;\n\n      case KEYS.END:\n        // Last item\n        e.preventDefault();\n        this._navigateToLast();\n        break;\n    }\n  }\n\n  /**\n   * Count total rendered items (including items in groups)\n   * @param {Array} items - Results array (may contain groups)\n   * @returns {number} Total count of rendered items\n   * @private\n   */\n  _countTotalItems(items) {\n    let count = 0;\n    for (const item of items) {\n      if (item.children && Array.isArray(item.children)) {\n        count += item.children.length; // Count children, not the group itself\n      } else {\n        count++;\n      }\n    }\n    return count;\n  }\n\n  /**\n   * Navigate through results\n   * @param {number} direction - Direction (-1 for up, 1 for down)\n   * @private\n   */\n  _navigate(direction) {\n    if (!this.resultsAdapter) return;\n\n    const results = this.resultsAdapter.results;\n    const currentIndex = results.highlightedIndex;\n    const totalResults = this._countTotalItems(results.results);\n\n    if (totalResults === 0) return;\n\n    let newIndex = currentIndex + direction;\n\n    // Wrap around\n    if (newIndex < 0) {\n      newIndex = totalResults - 1;\n    } else if (newIndex >= totalResults) {\n      newIndex = 0;\n    }\n\n    // Get flat list of rendered items for checking disabled state\n    const renderedItems = this._getFlatRenderedItems(results.results);\n\n    // Skip disabled items\n    while (renderedItems[newIndex]?.disabled) {\n      newIndex += direction;\n\n      // Wrap around again if needed\n      if (newIndex < 0) {\n        newIndex = totalResults - 1;\n      } else if (newIndex >= totalResults) {\n        newIndex = 0;\n      }\n\n      // Prevent infinite loop if all items are disabled\n      if (newIndex === currentIndex) {\n        return;\n      }\n    }\n\n    results.highlight(newIndex);\n\n    // Update ARIA activedescendant for accessibility\n    if (this.instance.accessibilityManager) {\n      this.instance.accessibilityManager.updateActiveDescendant(newIndex);\n    }\n  }\n\n  /**\n   * Get flat list of rendered items (excluding group headers)\n   * @param {Array} items - Results array (may contain groups)\n   * @returns {Array} Flat array of items\n   * @private\n   */\n  _getFlatRenderedItems(items) {\n    const flat = [];\n    for (const item of items) {\n      if (item.children && Array.isArray(item.children)) {\n        flat.push(...item.children); // Add children, not the group\n      } else {\n        flat.push(item);\n      }\n    }\n    return flat;\n  }\n\n  /**\n   * Navigate to first item\n   * @private\n   */\n  _navigateToFirst() {\n    if (!this.resultsAdapter) return;\n\n    const results = this.resultsAdapter.results;\n    const renderedItems = this._getFlatRenderedItems(results.results);\n    const totalResults = renderedItems.length;\n\n    if (totalResults === 0) return;\n\n    // Find first non-disabled item\n    for (let i = 0; i < totalResults; i++) {\n      if (!renderedItems[i]?.disabled) {\n        results.highlight(i);\n\n        // Update ARIA activedescendant for accessibility\n        if (this.instance.accessibilityManager) {\n          this.instance.accessibilityManager.updateActiveDescendant(i);\n        }\n        break;\n      }\n    }\n  }\n\n  /**\n   * Navigate to last item\n   * @private\n   */\n  _navigateToLast() {\n    if (!this.resultsAdapter) return;\n\n    const results = this.resultsAdapter.results;\n    const renderedItems = this._getFlatRenderedItems(results.results);\n    const totalResults = renderedItems.length;\n\n    if (totalResults === 0) return;\n\n    // Find last non-disabled item\n    for (let i = totalResults - 1; i >= 0; i--) {\n      if (!renderedItems[i]?.disabled) {\n        results.highlight(i);\n\n        // Update ARIA activedescendant for accessibility\n        if (this.instance.accessibilityManager) {\n          this.instance.accessibilityManager.updateActiveDescendant(i);\n        }\n        break;\n      }\n    }\n  }\n\n  /**\n   * Select currently highlighted item\n   * @private\n   */\n  _selectHighlighted() {\n    if (!this.resultsAdapter) return;\n\n    const highlighted = this.resultsAdapter.results.getHighlighted();\n    if (highlighted) {\n      this.resultsAdapter.selectItem(highlighted);\n    }\n  }\n\n  /**\n   * Enable keyboard navigation\n   */\n  enable() {\n    this.isEnabled = true;\n  }\n\n  /**\n   * Disable keyboard navigation\n   */\n  disable() {\n    this.isEnabled = false;\n  }\n\n  /**\n   * Destroy the manager\n   */\n  destroy() {\n    this.isEnabled = false;\n\n    // Properly remove event listeners to prevent memory leaks\n    if (this.selectionElement && this._selectionKeydownHandler) {\n      this.selectionElement.removeEventListener(\n        \"keydown\",\n        this._selectionKeydownHandler,\n      );\n      this._selectionKeydownHandler = null;\n    }\n\n    if (this.searchInput && this._searchKeydownHandler) {\n      this.searchInput.removeEventListener(\n        \"keydown\",\n        this._searchKeydownHandler,\n      );\n      this._searchKeydownHandler = null;\n    }\n\n    // Clear references\n    this.selectionElement = null;\n    this.searchInput = null;\n    this.resultsAdapter = null;\n  }\n}\n\nexport default KeyboardManager;\n","/**\n * AccessibilityManager - Manages ARIA attributes and screen reader support\n * Handles accessibility features for improved screen reader experience\n */\n\nclass AccessibilityManager {\n  constructor(instance, options) {\n    this.instance = instance;\n    this.options = options;\n    this.liveRegion = null;\n  }\n\n  /**\n   * Initialize accessibility features\n   * @param {HTMLElement} selectionElement - Selection container\n   * @param {HTMLElement} dropdownElement - Dropdown container\n   * @param {HTMLElement} resultsElement - Results container\n   */\n  bind(selectionElement, dropdownElement, resultsElement) {\n    this.selectionElement = selectionElement;\n    this.dropdownElement = dropdownElement;\n    this.resultsElement = resultsElement;\n\n    // Create live region for announcements\n    this._createLiveRegion();\n\n    // Setup ARIA attributes\n    this._setupARIA();\n  }\n\n  /**\n   * Create live region for screen reader announcements\n   * @private\n   */\n  _createLiveRegion() {\n    this.liveRegion = document.createElement(\"div\");\n    this.liveRegion.setAttribute(\"role\", \"status\");\n    this.liveRegion.setAttribute(\"aria-live\", \"polite\");\n    this.liveRegion.setAttribute(\"aria-atomic\", \"true\");\n    this.liveRegion.className = \"vs-sr-only\";\n    document.body.appendChild(this.liveRegion);\n  }\n\n  /**\n   * Setup initial ARIA attributes\n   * @private\n   */\n  _setupARIA() {\n    if (!this.selectionElement || !this.dropdownElement || !this.resultsElement)\n      return;\n\n    // Generate unique IDs\n    const baseId = `vs-${Math.random().toString(36).substr(2, 9)}`;\n    const resultsId = `${baseId}-results`;\n\n    // Set IDs\n    this.resultsElement.setAttribute(\"id\", resultsId);\n\n    // Selection element ARIA\n    this.selectionElement.setAttribute(\"role\", \"combobox\");\n    this.selectionElement.setAttribute(\"aria-haspopup\", \"listbox\");\n    this.selectionElement.setAttribute(\"aria-expanded\", \"false\");\n    this.selectionElement.setAttribute(\"aria-owns\", resultsId);\n    this.selectionElement.setAttribute(\"aria-controls\", resultsId);\n\n    // Dropdown ARIA\n    this.dropdownElement.setAttribute(\"role\", \"region\");\n    const language = this.options.get(\"language\");\n    this.dropdownElement.setAttribute(\n      \"aria-label\",\n      language.selectOptions || \"Select options\",\n    );\n\n    // Results ARIA\n    this.resultsElement.setAttribute(\"role\", \"listbox\");\n  }\n\n  /**\n   * Announce message to screen readers\n   * @param {string} message - Message to announce\n   */\n  announce(message) {\n    if (!this.liveRegion) return;\n\n    // Clear previous message\n    this.liveRegion.textContent = \"\";\n\n    // Set new message with a small delay to ensure screen reader picks it up\n    setTimeout(() => {\n      this.liveRegion.textContent = message;\n    }, 100);\n  }\n\n  /**\n   * Announce results count\n   * @param {number} count - Number of results\n   */\n  announceResultsCount(count) {\n    const language = this.options.get(\"language\");\n\n    if (count === 0) {\n      this.announce(language.noResultsAvailable);\n    } else if (count === 1) {\n      this.announce(language.resultsAvailable?.one || \"1 result available\");\n    } else {\n      const message =\n        typeof language.resultsAvailable?.other === \"function\"\n          ? language.resultsAvailable.other({ count })\n          : `${count} results available`;\n      this.announce(message);\n    }\n  }\n\n  /**\n   * Announce selection\n   * @param {Object} item - Selected item\n   */\n  announceSelection(item) {\n    if (!item) return;\n\n    const language = this.options.get(\"language\");\n    const message =\n      typeof language.selected === \"function\"\n        ? language.selected({ text: item.text })\n        : `Selected: ${item.text}`;\n\n    this.announce(message);\n  }\n\n  /**\n   * Update aria-activedescendant when navigating\n   * @param {number} index - Index of highlighted item\n   */\n  updateActiveDescendant(index) {\n    if (!this.selectionElement || !this.resultsElement) return;\n\n    const results = this.resultsElement.querySelectorAll(\".vs-result\");\n\n    if (index >= 0 && index < results.length) {\n      const activeItem = results[index];\n\n      // Ensure item has an ID\n      if (!activeItem.id) {\n        activeItem.id = `vs-result-${index}`;\n      }\n\n      this.selectionElement.setAttribute(\n        \"aria-activedescendant\",\n        activeItem.id,\n      );\n    } else {\n      this.selectionElement.removeAttribute(\"aria-activedescendant\");\n    }\n  }\n\n  /**\n   * Update ARIA when dropdown opens\n   */\n  onOpen() {\n    if (this.selectionElement) {\n      this.selectionElement.setAttribute(\"aria-expanded\", \"true\");\n    }\n  }\n\n  /**\n   * Update ARIA when dropdown closes\n   */\n  onClose() {\n    if (this.selectionElement) {\n      this.selectionElement.setAttribute(\"aria-expanded\", \"false\");\n      this.selectionElement.removeAttribute(\"aria-activedescendant\");\n    }\n  }\n\n  /**\n   * Destroy the manager\n   */\n  destroy() {\n    if (this.liveRegion && this.liveRegion.parentNode) {\n      this.liveRegion.parentNode.removeChild(this.liveRegion);\n    }\n    this.liveRegion = null;\n    this.selectionElement = null;\n    this.dropdownElement = null;\n    this.resultsElement = null;\n  }\n}\n\nexport default AccessibilityManager;\n","/**\n * VanillaSmartSelect - Main class and public API\n * Modern JavaScript dropdown enhancement without jQuery\n */\n\nimport EventEmitter from \"./EventEmitter.js\";\nimport Options from \"./Options.js\";\nimport { EVENTS } from \"../constants/events.js\";\nimport { querySelector } from \"../utils/dom.js\";\nimport DataAdapter from \"../adapters/DataAdapter.js\";\nimport AjaxAdapter from \"../adapters/AjaxAdapter.js\";\nimport SelectionAdapter from \"../adapters/SelectionAdapter.js\";\nimport DropdownAdapter from \"../adapters/DropdownAdapter.js\";\nimport ResultsAdapter from \"../adapters/ResultsAdapter.js\";\nimport KeyboardManager from \"../managers/KeyboardManager.js\";\nimport AccessibilityManager from \"../managers/AccessibilityManager.js\";\n\nclass VanillaSmartSelect extends EventEmitter {\n  constructor(element, options = {}) {\n    super();\n\n    // Get the element\n    this.element = this._getElement(element);\n    if (!this.element) {\n      throw new Error(\"Invalid element provided to VanillaSmartSelect\");\n    }\n\n    // Hide original select to prevent FOUC (Flash of Unstyled Content)\n    this.element.setAttribute(\"data-vs-initializing\", \"true\");\n\n    // Store reference to instance on element\n    if (this.element._vanillaSmartSelect) {\n      this.element._vanillaSmartSelect.destroy();\n    }\n    this.element._vanillaSmartSelect = this;\n\n    // Initialize options\n    this.options = new Options(options);\n\n    // State\n    this.isDisabled = false;\n    this._isInitialized = false;\n\n    // Containers (will be created during init)\n    this.container = null;\n    this.dropdown = null;\n\n    // Adapters (will be initialized later)\n    this.dataAdapter = null;\n    this.ajaxAdapter = null;\n    this.selectionAdapter = null;\n    this.dropdownAdapter = null;\n    this.resultsAdapter = null;\n\n    // Managers (will be initialized later)\n    this.keyboardManager = null;\n    this.accessibilityManager = null;\n\n    // Initialize\n    this._init();\n  }\n\n  /**\n   * Get HTML element from selector or element\n   * @param {string|HTMLElement} element - Selector or element\n   * @returns {HTMLElement|null} HTML element\n   * @private\n   */\n  _getElement(element) {\n    if (typeof element === \"string\") {\n      return querySelector(element);\n    }\n    if (element instanceof HTMLElement) {\n      return element;\n    }\n    return null;\n  }\n\n  /**\n   * Initialize the select\n   * @private\n   */\n  _init() {\n    // Verify element is a select element\n    if (this.element.tagName !== \"SELECT\") {\n      throw new Error(\n        \"VanillaSmartSelect must be initialized on a <select> element\",\n      );\n    }\n\n    // Check if already initialized\n    if (this._isInitialized) {\n      return;\n    }\n\n    // Apply disabled state from element\n    if (this.element.disabled) {\n      this.options.set(\"disabled\", true);\n      this.isDisabled = true;\n    }\n\n    // Apply multiple state from element\n    if (this.element.multiple) {\n      this.options.set(\"multiple\", true);\n    }\n\n    this._createContainers();\n    this._initializeAdapters();\n    this._initializeManagers();\n    this._bindEvents();\n    this._loadInitialData();\n\n    // Mark as initialized\n    this._isInitialized = true;\n\n    // Remove initializing attribute - select is now fully transformed\n    this.element.removeAttribute(\"data-vs-initializing\");\n\n    // Emit init event\n    this.emit(EVENTS.INIT, { instance: this });\n    this.trigger(this.element, EVENTS.INIT, { instance: this });\n\n    // Call onInit callback if provided\n    const onInit = this.options.get(\"onInit\");\n    if (typeof onInit === \"function\") {\n      onInit.call(this);\n    }\n  }\n\n  /**\n   * Create container elements\n   * @private\n   */\n  _createContainers() {\n    // Create main container element\n    this.container = document.createElement(\"div\");\n    this.container.className = `vs-container vs-container--${this.options.get(\"theme\")}`;\n\n    // Add custom CSS class if provided\n    const customClass = this.options.get(\"containerCssClass\");\n    if (customClass) {\n      this.container.className += ` ${customClass}`;\n    }\n\n    // Set width\n    this.container.style.width = this.options.get(\"width\");\n\n    // Insert after original select\n    this.element.parentNode.insertBefore(\n      this.container,\n      this.element.nextSibling,\n    );\n\n    // Hide original select\n    this.element.style.display = \"none\";\n    this.element.setAttribute(\"aria-hidden\", \"true\");\n  }\n\n  /**\n   * Initialize adapters\n   * @private\n   */\n  _initializeAdapters() {\n    // Initialize DataAdapter\n    this.dataAdapter = new DataAdapter(this, this.options);\n    this.dataAdapter.init();\n\n    // Initialize AjaxAdapter if ajax option is configured\n    const ajaxConfig = this.options.get(\"ajax\");\n    if (ajaxConfig) {\n      this.ajaxAdapter = new AjaxAdapter(this, this.options, this.dataAdapter);\n    }\n\n    // Initialize SelectionAdapter\n    this.selectionAdapter = new SelectionAdapter(this, this.options);\n    this.selectionAdapter.bind(this.container, this.dataAdapter);\n\n    // Get selection element AFTER binding (when it's rendered)\n    const selectionElement = this.selectionAdapter.selection.getContainer();\n\n    // Initialize DropdownAdapter\n    this.dropdownAdapter = new DropdownAdapter(this, this.options);\n    this.dropdownAdapter.bind(this.container, selectionElement);\n\n    // Initialize ResultsAdapter\n    this.resultsAdapter = new ResultsAdapter(this, this.options);\n    const dropdownContainer = this.dropdownAdapter.getContainer();\n    this.resultsAdapter.bind(\n      dropdownContainer,\n      this.dataAdapter,\n      this.dropdownAdapter,\n      this.ajaxAdapter,\n    );\n  }\n\n  /**\n   * Initialize managers\n   * @private\n   */\n  _initializeManagers() {\n    // Initialize KeyboardManager\n    this.keyboardManager = new KeyboardManager(this, this.options);\n\n    // Bind keyboard events\n    const selectionElement = this.selectionAdapter.selection.getContainer();\n    const searchInput = this.dropdownAdapter.searchBox?.getInput();\n    this.keyboardManager.bind(\n      selectionElement,\n      searchInput,\n      this.resultsAdapter,\n    );\n\n    // Initialize AccessibilityManager\n    this.accessibilityManager = new AccessibilityManager(this, this.options);\n\n    // Bind accessibility features\n    const dropdownElement = this.dropdownAdapter.dropdown.getContainer();\n    const resultsElement = this.resultsAdapter.results.getContainer();\n    this.accessibilityManager.bind(\n      selectionElement,\n      dropdownElement,\n      resultsElement,\n    );\n  }\n\n  /**\n   * Bind event listeners\n   * @private\n   */\n  _bindEvents() {\n    // Accessibility events\n    this.on(EVENTS.OPENING, () => {\n      if (this.accessibilityManager) {\n        this.accessibilityManager.onOpen();\n      }\n    });\n\n    this.on(EVENTS.CLOSING, () => {\n      if (this.accessibilityManager) {\n        this.accessibilityManager.onClose();\n      }\n    });\n\n    this.on(EVENTS.SELECT, (data) => {\n      if (this.accessibilityManager && data.data) {\n        this.accessibilityManager.announceSelection(data.data);\n      }\n    });\n\n    this.on(EVENTS.RESULTS, (data) => {\n      if (this.accessibilityManager && data.results) {\n        this.accessibilityManager.announceResultsCount(data.results.length);\n      }\n    });\n\n    // HTML5 Validation events\n    this.element.addEventListener(\"invalid\", (e) => {\n      this._onInvalid(e);\n    });\n\n    // Update validation state on change\n    this.on(EVENTS.CHANGE, () => {\n      this._updateValidationState();\n    });\n  }\n\n  /**\n   * Handle invalid event from native select\n   * @param {Event} e - Invalid event\n   * @private\n   */\n  _onInvalid(e) {\n    // Prevent default browser behavior (trying to focus hidden element)\n    e.preventDefault();\n\n    if (this.container) {\n      // Add invalid class for visual feedback\n      this.container.classList.add(\"vs-container--invalid\");\n\n      // Focus on our custom selection element instead\n      const selectionElement = this.container.querySelector(\".vs-selection\");\n      if (selectionElement) {\n        selectionElement.focus();\n      }\n\n      // Show validation message using custom container\n      // (Browser can't show tooltip on hidden element)\n      const validationMessage = this.element.validationMessage;\n      if (validationMessage) {\n        // Set custom title for tooltip on hover\n        this.container.setAttribute(\"title\", validationMessage);\n      }\n    }\n  }\n\n  /**\n   * Update validation state (check and update visual state)\n   * @private\n   */\n  _updateValidationState() {\n    if (!this.container) return;\n\n    const isValid = this.element.checkValidity();\n    if (isValid) {\n      this.container.classList.remove(\"vs-container--invalid\");\n      this.container.removeAttribute(\"title\"); // Remove validation tooltip\n    } else {\n      this.container.classList.add(\"vs-container--invalid\");\n      // Set validation message as tooltip\n      const validationMessage = this.element.validationMessage;\n      if (validationMessage) {\n        this.container.setAttribute(\"title\", validationMessage);\n      }\n    }\n  }\n\n  /**\n   * Load initial data from element or options\n   * @private\n   */\n  _loadInitialData() {\n    // Data is loaded in DataAdapter.init()\n    // Just update the selection display\n    if (this.selectionAdapter) {\n      this.selectionAdapter.update();\n    }\n  }\n\n  /**\n   * PUBLIC API METHODS\n   */\n\n  /**\n   * Get or set the current value\n   * @param {string|string[]|null} value - Value to set (optional)\n   * @returns {string|string[]|VanillaSmartSelect} Current value or this for chaining\n   */\n  val(value) {\n    if (value === undefined) {\n      // Get current value\n      if (this.dataAdapter) {\n        const current = this.dataAdapter.current();\n        if (this.options.get(\"multiple\")) {\n          return current.map((item) => item.id);\n        }\n        return current.length > 0 ? current[0].id : null;\n      }\n      return this.element.value;\n    }\n\n    // Set value - use select() to properly update UI\n    if (value === null || value === \"\") {\n      // Clear selection\n      return this.clear();\n    }\n\n    // For single select, use select() method\n    if (!this.options.get(\"multiple\")) {\n      return this.select(value);\n    }\n\n    // For multiple select, handle array of values\n    if (Array.isArray(value)) {\n      this.clear(); // Clear first\n      value.forEach((id) => this.select(id));\n      return this;\n    }\n\n    // Single value for multiple select\n    return this.select(value);\n  }\n\n  /**\n   * Get or set data\n   * @param {Array|null} data - Data array to set (optional)\n   * @returns {Array|VanillaSmartSelect} Current data or this for chaining\n   */\n  data(data) {\n    if (data === undefined) {\n      // Get current data\n      if (this.dataAdapter) {\n        return this.dataAdapter.query({ term: \"\" });\n      }\n      return [];\n    }\n\n    // Set data\n    if (this.dataAdapter) {\n      this.dataAdapter.setData(data);\n    }\n    return this;\n  }\n\n  /**\n   * Open the dropdown\n   */\n  open() {\n    if (this.isDisabled || this.isOpen()) {\n      return;\n    }\n\n    // Emit opening event (preventable)\n    const openingAllowed = this.trigger(\n      this.element,\n      EVENTS.OPENING,\n      {},\n      { cancelable: true },\n    );\n    if (!openingAllowed) {\n      return;\n    }\n\n    this.emit(EVENTS.OPENING);\n\n    // Emit opened event\n    this.emit(EVENTS.OPEN);\n    this.trigger(this.element, EVENTS.OPEN);\n\n    // Call onOpen callback\n    const onOpen = this.options.get(\"onOpen\");\n    if (typeof onOpen === \"function\") {\n      onOpen.call(this);\n    }\n  }\n\n  /**\n   * Close the dropdown\n   */\n  close() {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    // Emit closing event (preventable)\n    const closingAllowed = this.trigger(\n      this.element,\n      EVENTS.CLOSING,\n      {},\n      { cancelable: true },\n    );\n    if (!closingAllowed) {\n      return;\n    }\n\n    this.emit(EVENTS.CLOSING);\n\n    // Emit closed event\n    this.emit(EVENTS.CLOSE);\n    this.trigger(this.element, EVENTS.CLOSE);\n\n    // Call onClose callback\n    const onClose = this.options.get(\"onClose\");\n    if (typeof onClose === \"function\") {\n      onClose.call(this);\n    }\n  }\n\n  /**\n   * Toggle dropdown open/closed\n   */\n  toggle() {\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  /**\n   * Enable the select\n   */\n  enable() {\n    if (!this.isDisabled) {\n      return;\n    }\n\n    this.isDisabled = false;\n    this.element.disabled = false;\n    this.options.set(\"disabled\", false);\n\n    if (this.container) {\n      this.container.classList.remove(\"vs-container--disabled\");\n    }\n  }\n\n  /**\n   * Disable the select\n   */\n  disable() {\n    if (this.isDisabled) {\n      return;\n    }\n\n    this.isDisabled = true;\n    this.element.disabled = true;\n    this.options.set(\"disabled\", true);\n\n    if (this.container) {\n      this.container.classList.add(\"vs-container--disabled\");\n    }\n\n    // Close if open\n    if (this.isOpen()) {\n      this.close();\n    }\n  }\n\n  /**\n   * Check if dropdown is open\n   * @returns {boolean} Whether dropdown is open\n   */\n  isOpen() {\n    return this.dropdownAdapter ? this.dropdownAdapter.isOpen() : false;\n  }\n\n  /**\n   * Clear the current selection\n   * @returns {VanillaSmartSelect} this for chaining\n   */\n  clear() {\n    if (!this.dataAdapter) {\n      return this;\n    }\n\n    // Emit clearing event (preventable)\n    const clearingAllowed = this.trigger(\n      this.element,\n      EVENTS.CLEARING,\n      {},\n      { cancelable: true },\n    );\n\n    if (!clearingAllowed) {\n      return this;\n    }\n\n    this.emit(EVENTS.CLEARING);\n\n    // Clear all selections using DataAdapter\n    this.dataAdapter.clear();\n\n    // Emit clear event (for adapters to update UI)\n    this.emit(EVENTS.CLEAR);\n    this.trigger(this.element, EVENTS.CLEAR);\n\n    // Call onClear callback\n    const onClear = this.options.get(\"onClear\");\n    if (typeof onClear === \"function\") {\n      onClear.call(this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Focus the select\n   */\n  focus() {\n    if (this.container) {\n      const focusTarget = this.container.querySelector(\".vs-selection\");\n      if (focusTarget) {\n        focusTarget.focus();\n      }\n    }\n  }\n\n  /**\n   * Select an item by ID (programmatically)\n   * @param {string|number} id - Item ID to select\n   * @returns {VanillaSmartSelect} this for chaining\n   */\n  select(id) {\n    if (!this.dataAdapter) {\n      return this;\n    }\n\n    // Find item by ID in data\n    const allData = this.dataAdapter.query({ term: \"\" });\n    const item = this._findItemById(allData, id);\n\n    if (item && !item.disabled) {\n      this.dataAdapter.select(item);\n    }\n\n    return this;\n  }\n\n  /**\n   * Unselect an item by ID (multi-select only)\n   * @param {string|number} id - Item ID to unselect\n   * @returns {VanillaSmartSelect} this for chaining\n   */\n  unselect(id) {\n    if (!this.dataAdapter) {\n      return this;\n    }\n\n    const isMultiple = this.options.get(\"multiple\");\n    if (!isMultiple) {\n      console.warn(\"unselect() only works with multiple select\");\n      return this;\n    }\n\n    // Find item in current selection\n    const current = this.dataAdapter.current();\n    const item = current.find((i) => i.id === id);\n\n    if (item) {\n      this.dataAdapter.unselect(item);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get selected item(s) with full data\n   * @returns {Object|Object[]|null} Selected item(s) or null\n   */\n  getSelected() {\n    if (!this.dataAdapter) {\n      return null;\n    }\n\n    const current = this.dataAdapter.current();\n    const isMultiple = this.options.get(\"multiple\");\n\n    if (isMultiple) {\n      return current; // Array of selected items\n    }\n\n    return current.length > 0 ? current[0] : null; // Single item or null\n  }\n\n  /**\n   * Add a new option dynamically\n   * @param {Object} option - Option data {id, text, disabled?, selected?}\n   * @returns {VanillaSmartSelect} this for chaining\n   */\n  addOption(option) {\n    if (!this.dataAdapter || !option) {\n      return this;\n    }\n\n    // Get current data\n    const currentData = this.dataAdapter.query({ term: \"\" });\n\n    // Add new option\n    currentData.push(option);\n\n    // Update data\n    this.dataAdapter.setData(currentData);\n\n    // Update results if dropdown is open\n    if (this.resultsAdapter) {\n      this.resultsAdapter.update();\n    }\n\n    return this;\n  }\n\n  /**\n   * Remove an option by ID\n   * @param {string|number} id - Option ID to remove\n   * @returns {VanillaSmartSelect} this for chaining\n   */\n  removeOption(id) {\n    if (!this.dataAdapter) {\n      return this;\n    }\n\n    // Get current data\n    let currentData = this.dataAdapter.query({ term: \"\" });\n\n    // Remove item recursively (supports groups)\n    currentData = this._removeItemById(currentData, id);\n\n    // Update data\n    this.dataAdapter.setData(currentData);\n\n    // Update results if dropdown is open\n    if (this.resultsAdapter) {\n      this.resultsAdapter.update();\n    }\n\n    return this;\n  }\n\n  /**\n   * Helper: Find item by ID recursively (supports groups)\n   * @param {Array} items - Items to search\n   * @param {string|number} id - Item ID\n   * @returns {Object|null} Found item or null\n   * @private\n   */\n  _findItemById(items, id) {\n    for (const item of items) {\n      // Convert both to string for comparison to handle string/number safely\n      // This avoids issues with loose equality (e.g., \"0\" == 0 → true, but 0 == \"\" → false)\n      if (String(item.id) === String(id)) {\n        return item;\n      }\n\n      // Search in children (groups)\n      if (item.children && Array.isArray(item.children)) {\n        const found = this._findItemById(item.children, id);\n        if (found) {\n          return found;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Helper: Remove item by ID recursively (supports groups)\n   * @param {Array} items - Items array\n   * @param {string|number} id - Item ID to remove\n   * @returns {Array} Filtered items\n   * @private\n   */\n  _removeItemById(items, id) {\n    return items.filter((item) => {\n      // Remove if matches ID\n      if (item.id == id) {\n        return false;\n      }\n\n      // Filter children (groups)\n      if (item.children && Array.isArray(item.children)) {\n        item.children = this._removeItemById(item.children, id);\n      }\n\n      return true;\n    });\n  }\n\n  /**\n   * Check if the current selection is valid (HTML5 validation)\n   * @returns {boolean} True if valid\n   */\n  checkValidity() {\n    return this.element.checkValidity();\n  }\n\n  /**\n   * Report validity (HTML5 validation) - shows browser validation message\n   * @returns {boolean} True if valid\n   */\n  reportValidity() {\n    return this.element.reportValidity();\n  }\n\n  /**\n   * Set custom validity message (HTML5 validation)\n   * @param {string} message - Validation message (empty string to clear)\n   * @returns {VanillaSmartSelect} this for chaining\n   */\n  setCustomValidity(message) {\n    this.element.setCustomValidity(message);\n    return this;\n  }\n\n  /**\n   * Get the validation message\n   * @returns {string} Validation message\n   */\n  validationMessage() {\n    return this.element.validationMessage;\n  }\n\n  /**\n   * Check if the select will be validated\n   * @returns {boolean} True if will validate\n   */\n  willValidate() {\n    return this.element.willValidate;\n  }\n\n  /**\n   * Update the language dynamically\n   * @param {Object} language - Language object (use getLanguage('pt-BR') to get language object)\n   * @returns {VanillaSmartSelect} this for chaining\n   * @example\n   * import { getLanguage } from './i18n/index.js';\n   * select.updateLanguage(getLanguage('pt-BR'));\n   */\n  updateLanguage(language) {\n    if (!language || typeof language !== \"object\") {\n      console.warn(\n        'updateLanguage expects a language object. Use getLanguage(\"code\") to get one.',\n      );\n      return this;\n    }\n\n    // Update language option\n    this.options.set(\"language\", language);\n\n    // Update all components that display language-dependent text\n    if (\n      this.dropdownAdapter &&\n      typeof this.dropdownAdapter.update === \"function\"\n    ) {\n      this.dropdownAdapter.update();\n    }\n\n    if (\n      this.selectionAdapter &&\n      typeof this.selectionAdapter.update === \"function\"\n    ) {\n      this.selectionAdapter.update();\n    }\n\n    return this;\n  }\n\n  /**\n   * Destroy the select instance\n   */\n  destroy() {\n    if (!this._isInitialized) {\n      return;\n    }\n\n    // Emit destroy event\n    this.emit(EVENTS.DESTROY);\n    this.trigger(this.element, EVENTS.DESTROY);\n\n    // Close dropdown if open\n    if (this.isOpen()) {\n      this.close();\n    }\n\n    // Destroy adapters\n    if (this.dataAdapter && this.dataAdapter.destroy) {\n      this.dataAdapter.destroy();\n    }\n    if (this.ajaxAdapter && this.ajaxAdapter.destroy) {\n      this.ajaxAdapter.destroy();\n    }\n    if (this.selectionAdapter && this.selectionAdapter.destroy) {\n      this.selectionAdapter.destroy();\n    }\n    if (this.dropdownAdapter && this.dropdownAdapter.destroy) {\n      this.dropdownAdapter.destroy();\n    }\n    if (this.resultsAdapter && this.resultsAdapter.destroy) {\n      this.resultsAdapter.destroy();\n    }\n\n    // Destroy managers\n    if (this.keyboardManager && this.keyboardManager.destroy) {\n      this.keyboardManager.destroy();\n    }\n    if (this.accessibilityManager && this.accessibilityManager.destroy) {\n      this.accessibilityManager.destroy();\n    }\n\n    // Remove container\n    if (this.container && this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n\n    // Show original select\n    this.element.style.display = \"\";\n    this.element.removeAttribute(\"aria-hidden\");\n\n    // Remove reference from element\n    delete this.element._vanillaSmartSelect;\n\n    // Remove all event listeners\n    this.removeAllListeners();\n\n    // Mark as not initialized\n    this._isInitialized = false;\n  }\n}\n\n// Factory function for easier initialization\nexport function vanillaSmartSelect(element, options) {\n  return new VanillaSmartSelect(element, options);\n}\n\nexport default VanillaSmartSelect;\n","/**\n * ARIA (Accessible Rich Internet Applications) constants\n * Used for proper accessibility implementation\n */\n\nexport const ARIA = {\n  // Roles\n  COMBOBOX: \"combobox\",\n  LISTBOX: \"listbox\",\n  OPTION: \"option\",\n  GROUP: \"group\",\n  PRESENTATION: \"presentation\",\n\n  // States and Properties\n  EXPANDED: \"aria-expanded\",\n  SELECTED: \"aria-selected\",\n  DISABLED: \"aria-disabled\",\n  ACTIVEDESCENDANT: \"aria-activedescendant\",\n  HIDDEN: \"aria-hidden\",\n\n  // Labels and Descriptions\n  LABEL: \"aria-label\",\n  LABELLEDBY: \"aria-labelledby\",\n  DESCRIBEDBY: \"aria-describedby\",\n\n  // Relationships\n  CONTROLS: \"aria-controls\",\n  OWNS: \"aria-owns\",\n\n  // Widget Attributes\n  HASPOPUP: \"aria-haspopup\",\n  AUTOCOMPLETE: \"aria-autocomplete\",\n  MULTISELECTABLE: \"aria-multiselectable\",\n\n  // Live Region Attributes\n  LIVE: \"aria-live\",\n  ATOMIC: \"aria-atomic\",\n  RELEVANT: \"aria-relevant\",\n  BUSY: \"aria-busy\",\n\n  // Values\n  TRUE: \"true\",\n  FALSE: \"false\",\n  POLITE: \"polite\",\n  ASSERTIVE: \"assertive\",\n  LIST: \"list\",\n  BOTH: \"both\",\n};\n\n/**\n * Helper function to set ARIA attributes\n * @param {HTMLElement} element - Element to set attributes on\n * @param {Object} attributes - Object with ARIA attribute key-value pairs\n */\nexport function setAriaAttributes(element, attributes) {\n  Object.entries(attributes).forEach(([key, value]) => {\n    if (value === null || value === undefined) {\n      element.removeAttribute(key);\n    } else {\n      element.setAttribute(key, value);\n    }\n  });\n}\n\n/**\n * Helper function to get unique ID for ARIA relationships\n * @param {string} prefix - Prefix for the ID\n * @returns {string} Unique ID\n */\nlet idCounter = 0;\nexport function generateAriaId(prefix = \"vs\") {\n  return `${prefix}-${Date.now()}-${++idCounter}`;\n}\n\nexport default ARIA;\n","/**\n * Function decorators and utilities\n * Provides debounce, throttle, and other function modifiers\n */\n\n/**\n * Debounce function - delays execution until after wait time has elapsed\n * @param {Function} func - Function to debounce\n * @param {number} wait - Wait time in milliseconds\n * @param {boolean} immediate - Execute on leading edge instead of trailing\n * @returns {Function} Debounced function\n */\nexport function debounce(func, wait = 250, immediate = false) {\n  let timeout;\n\n  const debounced = function (...args) {\n    const context = this;\n\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n\n  debounced.cancel = function () {\n    clearTimeout(timeout);\n    timeout = null;\n  };\n\n  return debounced;\n}\n\n/**\n * Throttle function - limits execution to once per time period\n * @param {Function} func - Function to throttle\n * @param {number} wait - Wait time in milliseconds\n * @returns {Function} Throttled function\n */\nexport function throttle(func, wait = 250) {\n  let timeout;\n  let previous = 0;\n\n  const throttled = function (...args) {\n    const context = this;\n    const now = Date.now();\n\n    const remaining = wait - (now - previous);\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout) {\n      timeout = setTimeout(() => {\n        previous = Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    timeout = null;\n    previous = 0;\n  };\n\n  return throttled;\n}\n\n/**\n * Once function - ensures function is only called once\n * @param {Function} func - Function to wrap\n * @returns {Function} Wrapped function\n */\nexport function once(func) {\n  let called = false;\n  let result;\n\n  return function (...args) {\n    if (!called) {\n      called = true;\n      result = func.apply(this, args);\n    }\n    return result;\n  };\n}\n\n/**\n * Memoize function - caches function results\n * @param {Function} func - Function to memoize\n * @param {Function} resolver - Custom cache key resolver\n * @returns {Function} Memoized function\n */\nexport function memoize(func, resolver) {\n  const cache = new Map();\n\n  const memoized = function (...args) {\n    const key = resolver ? resolver.apply(this, args) : args[0];\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    const result = func.apply(this, args);\n    cache.set(key, result);\n    return result;\n  };\n\n  memoized.cache = cache;\n\n  return memoized;\n}\n\n/**\n * Delay function - delays execution by specified time\n * @param {Function} func - Function to delay\n * @param {number} wait - Delay time in milliseconds\n * @returns {Function} Delayed function\n */\nexport function delay(func, wait = 0) {\n  return function (...args) {\n    setTimeout(() => {\n      func.apply(this, args);\n    }, wait);\n  };\n}\n\n/**\n * Negate function - returns opposite boolean result\n * @param {Function} predicate - Predicate function\n * @returns {Function} Negated function\n */\nexport function negate(predicate) {\n  return function (...args) {\n    return !predicate.apply(this, args);\n  };\n}\n\nexport default {\n  debounce,\n  throttle,\n  once,\n  memoize,\n  delay,\n  negate,\n};\n","/**\n * Vanilla-Smart-Select\n * Modern JavaScript dropdown enhancement library without jQuery dependencies\n *\n * @version 1.0.1\n * @author Ailton Occhi <ailton.occhi@hotmail.com>\n * @license MIT\n */\n\nimport VanillaSmartSelect, {\n  vanillaSmartSelect,\n} from \"./core/VanillaSmartSelect.js\";\nimport EventEmitter from \"./core/EventEmitter.js\";\nimport Options from \"./core/Options.js\";\n\n// Constants\nimport { EVENTS } from \"./constants/events.js\";\nimport { ARIA } from \"./constants/aria.js\";\nimport { KEYS } from \"./constants/keys.js\";\nimport { DEFAULTS } from \"./constants/defaults.js\";\n\n// Utils\nimport * as dom from \"./utils/dom.js\";\nimport * as decorators from \"./utils/decorators.js\";\nimport { removeDiacritics, diacritics } from \"./utils/diacritics.js\";\n\n// i18n\nimport * as i18n from \"./i18n/index.js\";\nimport {\n  getLanguage,\n  detectBrowserLanguage,\n  getAvailableLanguages,\n} from \"./i18n/index.js\";\n\n// Export main class as default\nexport default VanillaSmartSelect;\n\n// Named exports\nexport {\n  VanillaSmartSelect,\n  vanillaSmartSelect,\n  EventEmitter,\n  Options,\n\n  // Constants\n  EVENTS,\n  ARIA,\n  KEYS,\n  DEFAULTS,\n\n  // Utils\n  dom,\n  decorators,\n  removeDiacritics,\n  diacritics,\n\n  // i18n\n  i18n,\n  getLanguage,\n  detectBrowserLanguage,\n  getAvailableLanguages,\n};\n\n// UMD build global assignment\nif (typeof window !== \"undefined\") {\n  window.VanillaSmartSelect = VanillaSmartSelect;\n  window.vanillaSmartSelect = vanillaSmartSelect;\n}\n","/**\n * Vanilla Smart Select - Browser build with styles\n * This file is used for UMD builds that include CSS\n */\n\nimport VanillaSmartSelect from \"./index.js\";\n\n// Import styles (only for browser builds)\nimport \"./styles/vanilla-smart-select.css\";\n\nexport default VanillaSmartSelect;\nexport * from \"./index.js\";\n"],"names":["EventEmitter","constructor","_events","Map","on","eventName","handler","TypeError","has","set","get","push","once","onceWrapper","args","off","delete","handlers","index","indexOf","splice","length","emit","data","slice","forEach","error","console","trigger","element","detail","options","HTMLElement","warn","eventOptions","bubbles","cancelable","event","CustomEvent","dispatchEvent","removeAllListeners","clear","listenerCount","eventNames","Array","from","keys","EN","noResults","searching","searchPlaceholder","inputTooShort","minimum","inputTooLong","excess","maximumSelected","maximum","loading","loadingMore","errorLoading","createNewTag","term","tagAdded","text","loadMore","searchLabel","clearSelection","removeItem","selectOptions","noResultsAvailable","resultsAvailable","one","other","count","selected","PT_BR","ES","LANGUAGES","en","pt","es","getLanguage","locale","baseLang","split","detectBrowserLanguage","navigator","language","languages","lang","getAvailableLanguages","Object","isLanguageAvailable","DEFAULTS","placeholder","theme","width","containerCssClass","dropdownCssClass","multiple","searchable","allowClear","disabled","closeOnSelect","searchMinimumLength","searchDelay","matcher","matchStrategy","templateResult","templateSelection","escapeMarkup","markup","dropdownParent","dropdownAutoWidth","ajax","tags","createTag","params","trim","id","insertTag","tag","unshift","ariaLabel","ariaDescribedBy","maximumSelectionLength","onOpen","onClose","onChange","onSelect","onUnselect","onClear","debug","Options","defaults","_options","_merge","_validate","target","source","result","key","sourceValue","targetValue","_isPlainObject","undefined","value","Error","validStrategies","includes","join","k","lastKey","pop","merge","getAll","EVENTS","INIT","DESTROY","SELECT","SELECTING","UNSELECT","UNSELECTING","CHANGE","CLEAR","CLEARING","SELECTION_LIMIT_REACHED","OPEN","OPENING","CLOSE","CLOSING","QUERY","RESULTS","DATA_LOADED","AJAX_LOADING","AJAX_SUCCESS","AJAX_ERROR","FOCUS","BLUR","createElement","attributes","children","document","entries","className","dataKey","dataValue","dataset","startsWith","substring","toLowerCase","addEventListener","setAttribute","childArray","isArray","child","appendChild","createTextNode","closest","selector","el","matches","parentElement","addClass","classes","classList","cls","add","removeClass","remove","toggleClass","force","toggle","hasClass","contains","removeElement","parentNode","removeChild","emptyElement","firstChild","querySelector","context","querySelectorAll","getOffset","rect","getBoundingClientRect","scrollLeft","window","pageXOffset","documentElement","scrollTop","pageYOffset","top","left","height","getPosition","offsetTop","offsetLeft","isInViewport","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","scrollIntoViewIfNeeded","container","elementRect","containerRect","uniqueIdCounter","generateUniqueId","prefix","Date","now","escapeHtml","div","textContent","innerHTML","parseHtml","html","template","content","childNodes","BaseAdapter","instance","$element","bind","destroy","DataAdapter","selection","init","optionsData","setData","loadFromElement","loadInitialSelection","optgroups","optgroup","group","label","groupOptions","option","normalized","_normalizeOption","_isPlaceholder","tagName","_isEmptyValue","item","selectedOptions","map","opt","_normalizeItem","query","_params","current","select","isMultiple","exists","some","message","_updateElement","getValue","unselect","filter","selectedIds","Event","AjaxAdapter","dataAdapter","currentRequest","cache","ajaxConfig","url","method","dataType","delay","headers","processResults","results","transport","page","cacheKey","_getCacheKey","Promise","resolve","abort","requestParams","request","call","_defaultTransport","then","response","processedResults","normalizedResults","pagination","more","catch","name","abortController","AbortController","toUpperCase","fetchOptions","signal","queryString","URLSearchParams","toString","body","JSON","stringify","fetchPromise","fetch","ok","status","json","blob","clearCache","applyTemplate","templateFn","targetElement","defaultText","useTextContent","_renderDefault","customContent","textElement","Selection","_cachedTemplateSelection","render","tabindex","role","renderPlaceholder","placeholderEl","update","_renderMultiple","_renderSingle","rendered","clearLabel","clearBtn","title","items","choicesContainer","choice","_renderChoice","removeLabel","getContainer","SelectionAdapter","_toggleClickHandler","_clearClickHandler","_removeClickHandler","selectionContainer","selectionElement","_bindEvents","e","stopPropagation","preventDefault","find","removeEventListener","Dropdown","isOpen","positionContext","modalParent","setPositionContext","position","anchor","anchorRect","dropdownHeight","offsetHeight","viewportHeight","modalRect","relativeTop","relativeLeft","spaceBelow","spaceAbove","style","open","display","close","SearchBox","input","_getPlaceholder","customPlaceholder","_getAriaLabel","type","autocomplete","autocorrect","autocapitalize","spellcheck","getInput","focus","setValue","debounce","func","wait","immediate","timeout","debounced","later","apply","callNow","clearTimeout","setTimeout","cancel","DropdownAdapter","dropdown","searchBox","anchorElement","_justOpened","_boundHandleOutsideClick","_handleOutsideClick","_boundHandleResize","_handleResize","_boundHandleScroll","_handleScroll","_inputHandler","_searchClickHandler","dropdownElement","searchBoxElement","insertBefore","modalElement","_findModalParent","hasAttribute","getAttribute","handleQuery","queryHandler","dropdownEl","isClickInside","activeElement","wasDropdownFocused","wasSearchFocused","ResultsList","highlightedIndex","_cachedTemplateResult","flatResults","_renderNoResults","flatIndex","groupHeader","_renderGroupHeader","childElement","_renderItem","resultElement","header","isGroupChild","_isTag","highlight","totalItems","previousHighlight","scrollIntoView","block","getHighlighted","diacritics","removeDiacritics","str","replace","char","SearchManager","_setupMatcher","customMatcher","_defaultMatcher","normalizedTerm","normalizedText","search","filteredChildren","before","match","after","ResultsAdapter","searchManager","dropdownAdapter","ajaxAdapter","currentSearchTerm","currentPage","hasMore","isLoadingMore","accumulatedResults","currentSearchToken","_loadMoreTimeout","_limitMessageTimeout","_errorMessageTimeout","_clickHandler","_mouseoverHandler","_scrollHandler","resultsContainer","dropdownContainer","resultsElement","showLoading","hideLoading","showError","resultEl","parseInt","allResults","_findItemById","selectItem","_showLimitMessage","_updateWithAjax","_updateWithLocalData","allData","filteredResults","tagsEnabled","tagExists","String","_autoHighlightFirst","append","searchToken","Symbol","scrollHeight","threshold","showLoadingMore","hideLoadingMore","loadingMoreMessage","loadingMoreEl","found","i","j","_getFlatIndexForGroupChild","accessibilityManager","updateActiveDescendant","groupIndex","childIndex","selectionSuccess","existingMessage","messageEl","loadingMessage","loadingEl","existingError","errorMessage","errorEl","KEYS","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","DELETE","KeyboardManager","isEnabled","_selectionKeydownHandler","_searchKeydownHandler","searchInput","resultsAdapter","_bindSelectionEvents","_bindSearchEvents","_handleSelectionKeydown","_handleSearchKeydown","which","keyCode","_navigate","_selectHighlighted","_navigateToFirst","_navigateToLast","_countTotalItems","direction","currentIndex","totalResults","newIndex","renderedItems","_getFlatRenderedItems","flat","highlighted","enable","disable","AccessibilityManager","liveRegion","_createLiveRegion","_setupARIA","baseId","Math","random","substr","resultsId","announce","announceResultsCount","announceSelection","activeItem","removeAttribute","VanillaSmartSelect","_getElement","_vanillaSmartSelect","isDisabled","_isInitialized","selectionAdapter","keyboardManager","_init","_createContainers","_initializeAdapters","_initializeManagers","_loadInitialData","onInit","customClass","nextSibling","_onInvalid","_updateValidationState","validationMessage","isValid","checkValidity","val","openingAllowed","closingAllowed","clearingAllowed","focusTarget","getSelected","addOption","currentData","removeOption","_removeItemById","reportValidity","setCustomValidity","willValidate","updateLanguage","vanillaSmartSelect","ARIA","COMBOBOX","LISTBOX","OPTION","GROUP","PRESENTATION","EXPANDED","SELECTED","DISABLED","ACTIVEDESCENDANT","HIDDEN","LABEL","LABELLEDBY","DESCRIBEDBY","CONTROLS","OWNS","HASPOPUP","AUTOCOMPLETE","MULTISELECTABLE","LIVE","ATOMIC","RELEVANT","BUSY","TRUE","FALSE","POLITE","ASSERTIVE","LIST","BOTH","throttle","previous","throttled","remaining","called","memoize","resolver","memoized","negate","predicate"],"mappings":"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ACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,IAAI;EACd,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,GAAG;EACb,EAAA,QAAQ,EAAE,QAAQ;EAClB,EAAA,QAAQ,EAAE,QAAQ;EAClB,EAAA,QAAQ,EAAE,QAAQ;EAClB,EAAA,QAAQ,EAAE,QAAQ;EAClB,EAAA,QAAQ,EAAE,QAAQ;EAClB,EAAA,QAAQ,EAAE,Q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"}