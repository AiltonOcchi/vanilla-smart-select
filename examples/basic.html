<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vanilla Smart Select - Basic Example</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .example {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }
    h1 {
      color: #333;
      margin-top: 0;
    }
    h2 {
      color: #666;
      font-size: 18px;
      margin-top: 0;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #555;
    }
    .note {
      background: #fff3cd;
      border: 1px solid #ffc107;
      padding: 12px;
      border-radius: 4px;
      margin-top: 20px;
    }
    .status {
      background: #d1ecf1;
      border: 1px solid #17a2b8;
      padding: 12px;
      border-radius: 4px;
      margin-bottom: 20px;
    }
  </style>
  <!-- Build files -->
  <link rel="stylesheet" href="../dist/vanilla-smart-select.css">
  <script src="../dist/vanilla-smart-select.js"></script>
  
</head>
<body>
  <h1>Vanilla Smart Select - Exemplos Básicos</h1>

  <div class="status">
    <strong>Status do Desenvolvimento:</strong> MVP Fase 1 - Funcionalidades Implementadas ✓<br>
    <small>✓ Busca com diacríticos | ✓ Navegação por teclado | ✓ Acessibilidade ARIA | ✓ Multi-select | ✓ Grupos</small>
  </div>

  <div class="example">
    <h2>1. Single Select com Busca</h2>
    <label for="example1">Selecione uma fruta:</label>
    <select id="example1">
      <option value="">Selecione uma fruta...</option>
      <option value="maca">Maçã</option>
      <option value="banana">Banana</option>
      <option value="laranja">Laranja</option>
      <option value="uva">Uva</option>
      <option value="abacaxi">Abacaxi</option>
      <option value="morango">Morango</option>
      <option value="melancia">Melancia</option>
      <option value="manga">Manga</option>
      <option value="pessego" disabled>Pêssego (Indisponível)</option>
      <option value="limao">Limão</option>
      <option value="coco">Coco</option>
      <option value="acai">Açaí</option>
    </select>
    <div class="note" style="margin-top: 15px; background: #e7f3ff; border-color: #007bff;">
      <strong>Recursos:</strong>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        <li><strong>Busca:</strong> Digite para filtrar (suporta acentos - ex: "acai" encontra "Açaí")</li>
        <li><strong>Teclado:</strong> ↑↓ para navegar, Enter para selecionar, ESC para fechar</li>
        <li><strong>Acessibilidade:</strong> Totalmente acessível com screen readers (ARIA completo)</li>
      </ul>
    </div>
  </div>

  <div class="example">
    <h2>2. Multi-Select com Busca</h2>
    <label for="example2">Selecione suas linguagens favoritas:</label>
    <select id="example2" multiple>
      <option value="js" selected>JavaScript</option>
      <option value="ts">TypeScript</option>
      <option value="py">Python</option>
      <option value="java">Java</option>
      <option value="cpp">C++</option>
      <option value="cs">C#</option>
      <option value="go">Go</option>
      <option value="rust">Rust</option>
      <option value="php">PHP</option>
      <option value="ruby">Ruby</option>
      <option value="swift">Swift</option>
      <option value="kotlin">Kotlin</option>
    </select>
    <div class="note" style="margin-top: 15px; background: #e7f3ff; border-color: #007bff;">
      <strong>Recursos:</strong>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        <li><strong>Multi-seleção:</strong> Selecione múltiplos itens</li>
        <li><strong>Remover:</strong> Clique no × para remover um item selecionado</li>
        <li><strong>Busca:</strong> Digite para filtrar a lista</li>
        <li><strong>Teclado:</strong> Tab dentro do dropdown é bloqueado - use Enter ou ESC</li>
      </ul>
    </div>
  </div>

  <div class="example">
    <h2>3. Select com Grupos (Optgroups)</h2>
    <label for="example3">Selecione um país:</label>
    <select id="example3">
      <option value="">Selecione um país...</option>
      <optgroup label="América do Sul">
        <option value="br">Brasil</option>
        <option value="ar">Argentina</option>
        <option value="cl">Chile</option>
        <option value="co">Colômbia</option>
        <option value="pe">Peru</option>
        <option value="uy">Uruguai</option>
      </optgroup>
      <optgroup label="Europa">
        <option value="pt">Portugal</option>
        <option value="es">Espanha</option>
        <option value="fr">França</option>
        <option value="it">Itália</option>
        <option value="de">Alemanha</option>
        <option value="uk">Reino Unido</option>
      </optgroup>
      <optgroup label="América do Norte">
        <option value="us">Estados Unidos</option>
        <option value="ca">Canadá</option>
        <option value="mx">México</option>
      </optgroup>
      <optgroup label="Ásia">
        <option value="jp">Japão</option>
        <option value="cn">China</option>
        <option value="kr">Coreia do Sul</option>
        <option value="in">Índia</option>
      </optgroup>
    </select>
    <div class="note" style="margin-top: 15px; background: #e7f3ff; border-color: #007bff;">
      <strong>Recursos:</strong>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        <li><strong>Grupos:</strong> Opções organizadas por categoria</li>
        <li><strong>Busca em grupos:</strong> Digite para buscar - mostra apenas grupos com resultados</li>
        <li><strong>Navegação:</strong> Use Home/End para ir ao primeiro/último item</li>
      </ul>
    </div>
  </div>

  <div class="example">
    <h2>4. Single Select com Clear Button (allowClear)</h2>
    <label for="example4">Selecione uma cor:</label>
    <select id="example4">
      <option value="">Selecione uma cor...</option>
      <option value="vermelho">Vermelho</option>
      <option value="azul">Azul</option>
      <option value="verde">Verde</option>
      <option value="amarelo">Amarelo</option>
      <option value="roxo">Roxo</option>
      <option value="laranja">Laranja</option>
      <option value="rosa">Rosa</option>
      <option value="preto">Preto</option>
      <option value="branco">Branco</option>
    </select>
    <div class="note" style="margin-top: 15px; background: #e7f3ff; border-color: #007bff;">
      <strong>Recursos:</strong>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        <li><strong>Clear Button:</strong> Botão "×" aparece quando há seleção - clique para limpar</li>
        <li><strong>API Programática:</strong> Use <code>select.clear()</code> para limpar via código</li>
        <li><strong>Evento:</strong> Escuta o evento <code>vs:clear</code> quando limpar</li>
      </ul>
    </div>
    <div style="margin-top: 10px;">
      <button onclick="window.select4.clear()" style="padding: 8px 16px; cursor: pointer;">
        Limpar Seleção (Programático)
      </button>
    </div>
  </div>

  <div class="example">
    <h2>5. Validação HTML5 - Automática (Zero JavaScript)</h2>
    <p style="color: #666; margin-bottom: 15px;">
      A validação funciona automaticamente! Basta usar atributos HTML5 nativos como <code>required</code>.
    </p>

    <form id="simpleForm">
      <div style="margin-bottom: 15px;">
        <label for="example5a">Departamento: *</label>
        <select id="example5a" required>
          <option value="">Selecione...</option>
          <option value="ti">TI</option>
          <option value="rh">RH</option>
          <option value="vendas">Vendas</option>
        </select>
      </div>

      <div style="margin-bottom: 15px;">
        <label for="example5b">Nível: *</label>
        <select id="example5b" required>
          <option value="">Selecione...</option>
          <option value="junior">Júnior</option>
          <option value="pleno">Pleno</option>
          <option value="senior">Sênior</option>
        </select>
      </div>

      <div style="margin-bottom: 15px;">
        <label for="example5c">Turno (Opcional):</label>
        <select id="example5c">
          <option value="">Selecione...</option>
          <option value="manha">Manhã</option>
          <option value="tarde">Tarde</option>
          <option value="noite">Noite</option>
        </select>
      </div>

      <button type="submit" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
        Enviar
      </button>
      <button type="reset" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">
        Limpar
      </button>
    </form>

    <div class="note" style="margin-top: 15px; background: #d4edda; border-color: #28a745;">
      <strong>✓ Validação 100% Automática - Sem JavaScript adicional!</strong>
      <ul style="margin: 8px 0 0 0; padding-left: 20px;">
        <li><strong>Borda vermelha automática</strong> quando campo <code>required</code> está vazio</li>
        <li><strong>Mensagem nativa do navegador</strong> ao tentar submeter formulário inválido</li>
        <li><strong>Select original sempre sincronizado</strong> - funciona com qualquer biblioteca de validação</li>
        <li><strong>Funciona com formulários complexos</strong> - escala para dezenas de campos sem código extra</li>
        <li><strong>API disponível se precisar:</strong> <code>checkValidity()</code>, <code>reportValidity()</code>, <code>setCustomValidity()</code></li>
      </ul>
    </div>
  </div>

  <div class="example">
    <h2>6. Atalhos de Teclado</h2>
    <div class="note" style="background: #f8f9fa; border-color: #6c757d;">
      <strong>Atalhos disponíveis:</strong>
      <table style="width: 100%; margin-top: 10px; border-collapse: collapse;">
        <tr style="border-bottom: 1px solid #ddd;">
          <td style="padding: 8px; font-weight: bold;">Tecla</td>
          <td style="padding: 8px; font-weight: bold;">Ação</td>
        </tr>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 8px;"><code>Enter / Espaço</code></td>
          <td style="padding: 8px;">Abre o dropdown (quando fechado)</td>
        </tr>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 8px;"><code>↑ / ↓</code></td>
          <td style="padding: 8px;">Navega entre as opções</td>
        </tr>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 8px;"><code>Home</code></td>
          <td style="padding: 8px;">Vai para a primeira opção</td>
        </tr>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 8px;"><code>End</code></td>
          <td style="padding: 8px;">Vai para a última opção</td>
        </tr>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 8px;"><code>Enter</code></td>
          <td style="padding: 8px;">Seleciona a opção destacada (quando dropdown aberto)</td>
        </tr>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 8px;"><code>ESC</code></td>
          <td style="padding: 8px;">Fecha o dropdown sem selecionar</td>
        </tr>
        <tr>
          <td style="padding: 8px;"><code>Tab</code></td>
          <td style="padding: 8px;">Dropdown fechado: sai do campo | Dropdown aberto: bloqueado (use Enter/ESC)</td>
        </tr>
      </table>
    </div>
  </div>

  <div class="note">
    <strong>Funcionalidades Implementadas (Fase 1 - MVP):</strong>
    <ul>
      <li>✓ Single select e multi-select</li>
      <li>✓ Busca com suporte a diacríticos (removeDiacritics)</li>
      <li>✓ Navegação por teclado completa (KeyboardManager)</li>
      <li>✓ ARIA completo e acessibilidade (AccessibilityManager)</li>
      <li>✓ Grupos de opções (optgroups)</li>
      <li>✓ Opções desabilitadas</li>
      <li>✓ Screen reader support com live regions</li>
    </ul>
    <strong>Próximas Fases:</strong>
    <ul>
      <li>Fase 2: AJAX, Templates customizados, Tagging</li>
      <li>Fase 3: Paginação, i18n, Temas múltiplos, Virtual scrolling</li>
    </ul>
  </div>



  <script>
    // Initialize VanillaSmartSelect
    console.log('Vanilla Smart Select build loaded!');
    console.log('VanillaSmartSelect:', typeof VanillaSmartSelect);

    try {
      const VanillaSmartSelectClass = VanillaSmartSelect.default || VanillaSmartSelect;

      // Example 1: Single select com busca
      const select1 = new VanillaSmartSelectClass('#example1', {
        placeholder: 'Selecione uma fruta...',
        searchable: true,
        searchPlaceholder: 'Digite para buscar...'
      });
      console.log('✓ Example 1 initialized (Single Select)');

      // Example 2: Multi-select com busca
      const select2 = new VanillaSmartSelectClass('#example2', {
        placeholder: 'Selecione linguagens...',
        multiple: true,
        searchable: true,
        searchPlaceholder: 'Buscar linguagens...'
      });
      console.log('✓ Example 2 initialized (Multi-Select)');

      // Example 3: Com grupos e busca
      const select3 = new VanillaSmartSelectClass('#example3', {
        placeholder: 'Selecione um país...',
        searchable: true,
        searchPlaceholder: 'Buscar país...'
      });
      console.log('✓ Example 3 initialized (With Groups)');

      // Example 4: Com allowClear
      const select4 = new VanillaSmartSelectClass('#example4', {
        placeholder: 'Selecione uma cor...',
        searchable: true,
        allowClear: true,
        searchPlaceholder: 'Buscar cor...'
      });
      console.log('✓ Example 4 initialized (With allowClear)');

      // Make select4 globally available for the button onclick
      window.select4 = select4;

      // Event listener for clear event
      const example4Element = document.querySelector('#example4');
      example4Element.addEventListener('vs:clear', (e) => {
        console.log('✓ vs:clear - Seleção limpa!');
      });

      // Example 5: HTML5 Validation (automática - apenas inicializa os selects)
      new VanillaSmartSelectClass('#example5a', { searchable: true });
      new VanillaSmartSelectClass('#example5b', { searchable: true });
      new VanillaSmartSelectClass('#example5c', { searchable: true });
      console.log('✓ Example 5 initialized (HTML5 Validation - Auto)');

      // Event listeners - demonstrando eventos disponíveis
      const example1Element = document.querySelector('#example1');

      example1Element.addEventListener('vs:init', (e) => {
        console.log('✓ vs:init - Select inicializado');
      });

      example1Element.addEventListener('vs:select', (e) => {
        console.log('✓ vs:select - Item selecionado:', e.detail);
      });

      example1Element.addEventListener('vs:change', (e) => {
        console.log('✓ vs:change - Valor mudou:', e.detail);
      });

      example1Element.addEventListener('vs:open', (e) => {
        console.log('✓ vs:open - Dropdown aberto');
      });

      example1Element.addEventListener('vs:close', (e) => {
        console.log('✓ vs:close - Dropdown fechado');
      });

      // Event listener para multi-select
      const example2Element = document.querySelector('#example2');

      example2Element.addEventListener('vs:select', (e) => {
        console.log('✓ Multi-select - Item selecionado:', e.detail);
      });

      example2Element.addEventListener('vs:unselect', (e) => {
        console.log('✓ Multi-select - Item removido:', e.detail);
      });

      console.log('\n=== Vanilla Smart Select Pronto! ===');
      console.log('Abra o console para ver os eventos em ação.');
      console.log('Experimente usar o teclado (↑↓, Enter, ESC, Home, End)');

    } catch (error) {
      console.error('❌ Initialization error:', error);
      console.error('Stack:', error.stack);
    }
  </script>
</body>
</html>
